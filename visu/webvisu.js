// This software uses the following Open Source software:
// - log4javascript
//	* Licensed under Apache License 2.0 (can be found here: http://www.apache.org/licenses/)
//	* Copyright by Tim Down
//	* Source: http://www.apache.org/licenses/
// - a simplified (and thus modified) version of stringencoding
//	* Licensed under Apache License 2.0 (can be found here: http://www.apache.org/licenses/)
//	* Source: http://code.google.com/p/stringencoding/

function h(a){throw a;}var i=void 0,k=!0,l=null,p=!1;function q(){return function(){}}function s(a){return function(b){this[a]=b}}function t(a){return function(){return this[a]}}function u(a){return function(){return a}}var ba;
(function(){function a(a){var b=0;this.get=function(){return b>=a.length?-1:Number(a[b])};this.lf=function(c){b+=c;0>b&&h(Error("Seeking past start of the buffer"));b>a.length&&h(Error("Seeking past EOF"))};this.match=function(c){if(c.length>b+a.length)return p;var d;for(d=0;d<c.length;d+=1)if(Number(a[b+d])!==c[d])return p;return k}}function b(a){var b=0;this.get=function(){return b>=a.length?-1:a[b]};this.lf=function(c){b+=c;0>b&&h(Error("Seeking past start of the buffer"));b>a.length&&h(Error("Seeking past EOF"))};
this.match=function(c){if(c.length>b+a.length)return p;var d;for(d=0;d<c.length;d+=1)if(a[b+d]!==c[d])return p;return k}}function c(){var a="";this.Nt=function(){return a};this.Ur=function(b){65535>=b?a+=String.fromCharCode(b):(b-=65536,a+=String.fromCharCode(55296+(b>>10&1023)),a+=String.fromCharCode(56320+(b&1023)))}}function d(a){a=(""+a).trim().toLowerCase();if(Object.prototype.hasOwnProperty.call(g,a))return g[a];h(Error("EncodingError: Unknown encoding: "+a))}function e(a,b){var c=b.Ze;this.Ug=
function(b){var d=b.get();if(-1===d)return-1;b.lf(1);if(0<=d&&127>=d)return d;b=a[d-128];b===l&&(c&&h(Error("EncodingError")),b=65533);return b}}var f={},g={};[{Vr:[{Aa:"csisolatin2,iso-8859-2,iso-ir-101,iso8859-2,iso_8859-2,l2,latin2".split(","),name:"iso-8859-2"},{Aa:"csisolatin3,iso-8859-3,iso_8859-3,iso-ir-109,l3,latin3".split(","),name:"iso-8859-3"},{Aa:"csisolatin4,iso-8859-4,iso_8859-4,iso-ir-110,l4,latin4".split(","),name:"iso-8859-4"},{Aa:["csisolatincyrillic","cyrillic","iso-8859-5","iso_8859-5",
"iso-ir-144"],name:"iso-8859-5"},{Aa:"arabic,csisolatinarabic,ecma-114,iso-8859-6,iso_8859-6,iso-ir-127".split(","),name:"iso-8859-6"},{Aa:"csisolatingreek,ecma-118,elot_928,greek,greek8,iso-8859-7,iso_8859-7,iso-ir-126".split(","),name:"iso-8859-7"},{Aa:"csisolatinhebrew,hebrew,iso-8859-8,iso-8859-8-i,iso-ir-138,iso_8859-8,visual".split(","),name:"iso-8859-8"},{Aa:"csisolatin6,iso-8859-10,iso-ir-157,iso8859-10,l6,latin6".split(","),name:"iso-8859-10"},{Aa:["iso-8859-13"],name:"iso-8859-13"},{Aa:["iso-8859-14",
"iso8859-14"],name:"iso-8859-14"},{Aa:["iso-8859-15","iso_8859-15"],name:"iso-8859-15"},{Aa:["iso-8859-16"],name:"iso-8859-16"},{Aa:"ascii,ansi_x3.4-1968,csisolatin1,iso-8859-1,iso8859-1,iso_8859-1,l1,latin1,us-ascii,windows-1252".split(","),name:"windows-1252"}],heading:"Legacy single-byte encodings"}].forEach(function(a){a.Vr.forEach(function(a){f[a.name]=a;a.Aa.forEach(function(b){g[b]=a})})});var j={"iso-8859-2":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,
148,149,150,151,152,153,154,155,156,157,158,159,160,260,728,321,164,317,346,167,168,352,350,356,377,173,381,379,176,261,731,322,180,318,347,711,184,353,351,357,378,733,382,380,340,193,194,258,196,313,262,199,268,201,280,203,282,205,206,270,272,323,327,211,212,336,214,215,344,366,218,368,220,221,354,223,341,225,226,259,228,314,263,231,269,233,281,235,283,237,238,271,273,324,328,243,244,337,246,247,345,367,250,369,252,253,355,729],"iso-8859-3":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,
142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,294,728,163,164,l,292,167,168,304,350,286,308,173,l,379,176,295,178,179,180,181,293,183,184,305,351,287,309,189,l,380,192,193,194,l,196,266,264,199,200,201,202,203,204,205,206,207,l,209,210,211,212,288,214,215,284,217,218,219,220,364,348,223,224,225,226,l,228,267,265,231,232,233,234,235,236,237,238,239,l,241,242,243,244,289,246,247,285,249,250,251,252,365,349,729],"iso-8859-4":[128,129,130,131,132,133,134,135,136,137,138,
139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,312,342,164,296,315,167,168,352,274,290,358,173,381,175,176,261,731,343,180,297,316,711,184,353,275,291,359,330,382,331,256,193,194,195,196,197,198,302,268,201,280,203,278,205,206,298,272,325,332,310,212,213,214,215,216,370,218,219,220,360,362,223,257,225,226,227,228,229,230,303,269,233,281,235,279,237,238,299,273,326,333,311,244,245,246,247,248,371,250,251,252,361,363,729],"iso-8859-5":[128,129,130,131,132,
133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,173,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,
1103,8470,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,167,1118,1119],"iso-8859-6":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,l,l,l,164,l,l,l,l,l,l,l,1548,173,l,l,l,l,l,l,l,l,l,l,l,l,l,1563,l,l,l,1567,l,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,l,l,l,l,l,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,
1611,1612,1613,1614,1615,1616,1617,1618,l,l,l,l,l,l,l,l,l,l,l,l,l],"iso-8859-7":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,8216,8217,163,8364,8367,166,167,168,169,890,171,172,173,l,8213,176,177,178,179,900,901,902,183,904,905,906,187,908,189,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,l,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,
953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,l],"iso-8859-8":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,l,162,163,164,165,166,167,168,169,215,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,247,187,188,189,190,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,8215,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,
1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,l,l,8206,8207,l],"iso-8859-10":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,274,290,298,296,310,167,315,272,352,358,381,173,362,330,176,261,275,291,299,297,311,183,316,273,353,359,382,8213,363,331,256,193,194,195,196,197,198,302,268,201,280,203,278,205,206,207,208,325,332,211,212,213,214,360,216,370,218,219,220,221,222,223,257,225,226,227,228,229,230,303,
269,233,281,235,279,237,238,239,240,326,333,243,244,245,246,361,248,371,250,251,252,253,254,312],"iso-8859-13":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,8221,162,163,164,8222,166,167,216,169,342,171,172,173,174,198,176,177,178,179,8220,181,182,183,248,185,343,187,188,189,190,230,260,302,256,262,196,197,280,274,268,201,377,278,290,310,298,315,352,323,325,211,332,213,214,215,370,321,346,362,220,379,381,223,261,
303,257,263,228,229,281,275,269,233,378,279,291,311,299,316,353,324,326,243,333,245,246,247,371,322,347,363,252,380,382,8217],"iso-8859-14":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,7682,7683,163,266,267,7690,167,7808,169,7810,7691,7922,173,174,376,7710,7711,288,289,7744,7745,182,7766,7809,7767,7811,7776,7923,7812,7813,7777,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,372,209,210,211,212,
213,214,7786,216,217,218,219,220,221,374,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,373,241,242,243,244,245,246,7787,248,249,250,251,252,253,375,255],"iso-8859-15":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,8364,165,352,167,353,169,170,171,172,173,174,175,176,177,178,179,381,181,182,183,382,185,186,187,338,339,376,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,
206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],"iso-8859-16":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,261,321,8364,8222,352,167,353,169,536,171,377,173,378,379,176,177,268,322,381,8221,182,183,382,269,537,187,338,339,376,380,192,193,194,258,196,262,198,
199,200,201,202,203,204,205,206,207,272,323,210,211,212,336,214,346,368,217,218,219,220,280,538,223,224,225,226,259,228,263,230,231,232,233,234,235,236,237,238,239,273,324,242,243,244,337,246,347,369,249,250,251,252,281,539,255],"windows-1252":[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,
188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]};(function(){"iso-8859-2,iso-8859-3,iso-8859-4,iso-8859-5,iso-8859-6,iso-8859-7,iso-8859-8,iso-8859-10,iso-8859-13,iso-8859-14,iso-8859-15,iso-8859-16,windows-1252".split(",").forEach(function(a){var b=j[a];f[a].ks=function(a){return new e(b,
a)}})})();ba=function(a,b){b=Object(b);this.ag=d(a?""+a:"utf-8");this.dq={Ze:Boolean(b.Ze)};this.ho=this.ag.ks(this.dq);Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this.ag.name}}):this.encoding=this.ag.name;return this};ba.prototype={Ug:function(b){b&&!("buffer"in b&&"byteOffset"in b&&"byteLength"in b)&&h(new TypeError("Expected ArrayBufferView"));b||(b=new Uint8Array(0));b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength);return this.Mi(new a(b))},Or:function(a){a||
h(new TypeError("Expected array of bytes"));return this.Mi(new b(a))},Mi:function(a){for(var b=new c,d;-1!==a.get();)d=this.ho.Ug(a),d!==l&&-1!==d&&b.Ur(d);return b.Nt()}}})();if(!Array.prototype.push)Array.prototype.push=function(){for(var a=0,b=arguments.length;a<b;a++)this[this.length]=arguments[a];return this.length};if(!Array.prototype.shift)Array.prototype.shift=function(){if(0<this.length){for(var a=this[0],b=0,c=this.length-1;b<c;b++)this[b]=this[b+1];this.length-=1;return a}};
if(!Array.prototype.splice)Array.prototype.splice=function(a,b){var c=this.slice(a+b),d=this.slice(a,a+b);this.length=a;for(var e=[],f=0,g=arguments.length;f<g;f++)e[f]=arguments[f];c=2<e.length?e.slice(2).concat(c):c;for(f=0,g=c.length;f<g;f++)this.push(c[f]);return d};
var x=function(){function a(b){for(var c=l,d,e=0,f=cd.length;e<f;e++){d=cd[e];try{return c=d(),a=d,c}catch(g){}}b?b():B("getXmlHttp: unable to obtain XMLHttpRequest object")}function b(){}function c(){}function d(a,b,c,d,e){this.gf=a;this.timeStamp=b;this.Ul=b.getTime();this.Qt=Math.floor(this.Ul/1E3);this.ul=this.timeStamp.getMilliseconds();this.X=c;this.Ab=d;this.ic=e}function e(a,b){this.X=a;this.name=b}function f(){}function g(a){return"undefined"==typeof a}function j(){}function n(){}function m(a){return a&&
a.toString?a.toString():""+a}function v(a){return a.message?a.message:a.description?a.description:m(a)}function J(a){if(a){var b="Exception: "+v(a);try{if(a.lineNumber&&(b+=" on line number "+a.lineNumber),a.fileName)var c=b,d=a.fileName,e=Math.max(d.lastIndexOf("/"),d.lastIndexOf("\\")),b=c+(" in file "+d.substr(e+1))}catch(f){ca.warn("Unable to obtain file and line information for error")}dd&&a.stack&&(b+=F+"Stack trace:"+F+a.stack);return b}return l}function G(a){return a.replace(/^\s+/,"").replace(/\s+$/,
"")}function K(a){return a.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}function r(a,b){for(var c=-1,d=0,e=a.length;d<e;d++)if(a[d]===b){c=d;break}0<=c&&a.splice(c,1)}function X(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]==b)return k;return p}function Z(a,b){return g(a)?b:""+a}function Ca(a,b){if(g(a))return b;try{var c=parseInt(a,10);return isNaN(c)?b:c}catch(d){return ca.warn("Invalid int param "+a,d),b}}function Qa(a){var b,c=window;b=b?b:window;if(c.addEventListener)c.addEventListener("unload",
a,i);else if(c.attachEvent)c.attachEvent("onunload",a);else{if(!c.__log4javascript_listeners__unload)c.__log4javascript_listeners__unload=[],c.onunload=function(a){for(var c=b,a=a?a:(c?c:window).event,c=this.__log4javascript_listeners__unload.concat([]),d;d=c.shift();)d.call(this,a)};c.__log4javascript_listeners__unload.push(a)}}function B(a,b){ca.error(a,b);x.dispatchEvent("error",{message:a,exception:b})}function ta(a,b){this.name=a;this.X=g(b)?e.mc:b;this.start=new Date}function T(a){this.name=
a;this.parent=l;this.children=[];var b=[],c=l,f=this.name===Ia,j=this.name===ed,n=l,Ra=p;this.lr=function(a){this.children.push(a);a.parent=this;a.Sc()};var vb=k;this.es=function(){return vb};this.Vv=function(a){var b=vb!=a;vb=a;b&&this.Sc()};this.xk=function(a){j?B("Logger.addAppender: you may not add an appender to the null logger"):a instanceof x.sh?X(b,a)||(b.push(a),a.Gl(this),this.Sc()):B("Logger.addAppender: appender supplied ('"+m(a)+"') is not a subclass of Appender")};this.Sv=function(a){r(b,
a);a.Ll(this);this.Sc()};this.Rv=function(){var a=b.length;if(0<a){for(var c=0;c<a;c++)b[c].Ll(this);b.length=0;this.Sc()}};this.$e=function(){if(n===l||Ra)n=(f||!this.es()?[]:this.parent.$e()).concat(b),Ra=p;return n};this.Sc=function(){Ra=k;for(var a=0,b=this.children.length;a<b;a++)this.children[a].Sc()};this.log=function(a,b){if(ja&&a.hh(this.ms())){var c,e=b.length-1,f=b[e];1<b.length&&f instanceof Error&&(c=f,e--);for(var f=[],g=0;g<=e;g++)f[g]=b[g];this.wr(new d(this,new Date,a,f,c))}};this.wr=
function(a){for(var b=this.$e(),c=0,d=b.length;c<d;c++)b[c].Tr(a)};this.ib=function(a){f&&a===l?B("Logger.setLevel: you cannot set the level of the root logger to null"):a instanceof e?c=a:B("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")};this.qs=function(){return c};this.ms=function(){for(var a=this;a!==l;a=a.parent){var b=a.qs();if(b!==l)return b}};this.jc=function(a,b){if(ja)for(var c=this.$e(),d=0,e=c.length;d<e;d++)c[d].jc(a,b)};this.kc=
function(){if(ja)for(var a=this.$e(),b=0,c=a.length;b<c;b++)a[b].kc()};var fa={};this.Tl=function(a,b){ja&&(g(a)?B("Logger.time: a name for the timer must be supplied"):b&&!(b instanceof e)?B("Logger.time: level supplied to timer "+a+" is not an instance of log4javascript.Level"):fa[a]=new ta(a,b))};this.vw=function(a){if(ja)if(g(a))B("Logger.timeEnd: a name for the timer must be supplied");else if(fa[a]){var b=fa[a];this.log(b.X,["Timer "+m(a)+" completed in "+b.ns()+"ms"]);delete fa[a]}else ca.warn("Logger.timeEnd: no timer found with name "+
a)};this.Tu=function(a){if(ja&&!a){for(var b=[],c=1,d=arguments.length;c<d;c++)b.push(arguments[c]);b=0<b.length?b:["Assertion Failure"];b.push(F);b.push(a);this.log(e.$c,b)}};this.toString=function(){return"Logger["+this.name+"]"}}function U(){this.ba=[]}function ka(){this.ba=[]}function la(a){this.Sg=g(a)?k:Boolean(a);this.ba=[]}function ma(a,b){this.Uc=g(a)?p:Boolean(a);this.Sg=g(b)?k:Boolean(b);this.Kk=this.Uc?"["+F:"[";this.Jk=this.Uc?"]"+F:"]";this.Lk=this.Uc?","+F:",";this.Kl();this.Er=this.Uc?
": ":":";this.nh=this.Uc?"\t":"";this.Nd=this.Uc?F:"";this.ba=[]}function na(){this.Kl();this.ba=[];this.El=k}function fd(a,b){function c(a,b,e){function f(a){for(var a=K(a),b=1,c=a.length;b<c;b++)a[b]=e+a[b];return a.join(F)}var g,Ga,j,n,w,Ha;e||(e="");if(a===l)return"null";if("undefined"==typeof a)return"undefined";if("string"==typeof a)return f(a);if("object"==typeof a&&X(d,a)){try{w=m(a)}catch(r){w="Error formatting property. Details: "+J(r)}return w+" [already expanded]"}if(a instanceof Array&&
0<b){d.push(a);w="["+F;Ga=b-1;j=e+"  ";n=[];for(g=0,b=a.length;g<b;g++)try{Ha=c(a[g],Ga,j),n.push(j+Ha)}catch(v){n.push(j+"Error formatting array member. Details: "+J(v)+"")}return w+=n.join(","+F)+F+e+"]"}if("object"==typeof a&&0<b){d.push(a);w="{"+F;Ga=b-1;j=e+"  ";n=[];for(g in a)try{Ha=c(a[g],Ga,j),n.push(j+g+": "+Ha)}catch(B){n.push(j+g+": Error formatting property. Details: "+J(B))}return w+=n.join(","+F)+F+e+"}"}return f(m(a))}var d=[];return c(a,b,i)}function I(a){this.pattern=a?a:I.jm;this.ba=
[]}function va(){}function $(){}function wa(b){function c(a){return I?(B("AjaxAppender: configuration option '"+a+"' may not be set after the appender has been initialized"),p):k}function d(){if(fa&&ja){K=k;var a;if(o)0<da.length?(a=da.shift(),Ra(j(a),d)):(K=p,ua&&window.setTimeout(d,w));else{for(;a=da.shift();)Ra(j(a));K=p;ua&&window.setTimeout(d,w)}}}function e(){if(fa&&ja){for(var a=m.O.Qg()?Xa:1,b,c=[];b=V.shift();)c.push(b),V.length>=a&&(da.push(c),c=[]);0<c.length&&da.push(c);ua=o=p;d()}}function j(a){var b=
[],c;for(c="";c=a.shift();)c=m.O.Ma(c),m.O.gb()&&(c+=loggingEvent.bf()),b.push(c);c=1==a.length?b.join(""):m.O.Kk+b.join(m.O.Lk)+m.O.Jk;c=m.O.El?c:xa(F)+"="+xa(c);0<c.length&&(c+="&");return c+"layout="+xa(m.O.toString())}function n(){B("AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled");fa=p;v&&v("AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled")}function Ra(c,d){try{var e=a(n);if(fa){e.overrideMimeType&&e.overrideMimeType(m.O.bh());e.onreadystatechange=
function(){if(4==e.readyState){if(g(e.status)||0===e.status||200<=e.status&&300>e.status)r&&r(e),d&&d(e);else{var a="AjaxAppender.append: XMLHttpRequest request to URL "+b+" returned status code "+e.status;B(a);v&&v(a)}e.onreadystatechange=f;e=l}};e.open("POST",b,k);try{e.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}catch(j){B("AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled");
fa=p;v&&v("AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled");return}e.send(c)}}catch(o){var ua="AjaxAppender.append: error sending log message to "+b;B(ua,o);fa=p;v&&v(ua+". Details: "+J(o))}}var m=this,fa=k;b||(B("AjaxAppender: URL must be specified in constructor"),fa=p);var ua=this.t.Rt,o=this.t.cu,Xa=this.t.vr,w=this.t.St,r=this.t.ct,v=this.t.Zr,F=this.t.Rs,G=this.t.et,R=l,V=[],da=[],K=p,I=p;
this.rv=function(){return R};this.Ft=function(a){R=Z(a,l);this.O.kt("sessionid",R)};this.pf=function(a){if(c("layout"))this.O=a,R!==l&&this.Ft(R)};this.Dv=function(){return ua};this.ow=function(a){c("timed")&&(ua=Boolean(a))};this.sv=function(){return w};this.pw=function(a){c("timerInterval")&&(w=Ca(a,w))};this.Gv=function(){return o};this.sw=function(a){c("waitForResponse")&&(o=Boolean(a))};this.iv=function(){return Xa};this.Yv=function(a){c("batchSize")&&(Xa=Ca(a,Xa))};this.zv=function(){return G};
this.mw=function(a){c("sendAllOnUnload")&&(G=Ca(a,G))};this.kw=function(a){r="function"==typeof a?a:r};this.cw=function(a){v="function"==typeof a?a:v};this.pv=function(){return F};this.hw=function(a){c("postVarName")&&(F=Z(a,F))};this.Uv=d;this.append=function(a){if(fa&&(I||(I=k,G&&Qa(e),ua&&window.setTimeout(d,w)),V.push(a),V.length>=(this.O.Qg()?Xa:1))){for(var b=[];a=V.shift();)b.push(a);da.push(b);!ua&&(!o||o&&!K)&&d()}}}function Ja(a){try{return Boolean(a.loaded)}catch(b){return p}}function gd(a,
b){if(a.length<b){for(var c=[],d=Math.max(0,b-a.length),e=0;e<d;e++)c[e]=" ";a+=c.join("")}return a}j.prototype={Oc:[],Hd:{},Il:function(a){if(a instanceof Array){this.Oc=a;this.Hd={};for(var a=0,b=this.Oc.length;a<b;a++)this.Hd[this.Oc[a]]=[]}else B("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(a,b){"function"==typeof b?(X(this.Oc,a)||B("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+a+"'"),
this.Hd[a].push(b)):B("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},removeEventListener:function(a,b){"function"==typeof b?(X(this.Oc,a)||B("log4javascript.EventSupport ["+this+"]: removeEventListener: no event called '"+a+"'"),r(this.Hd[a],b)):B("log4javascript.EventSupport ["+this+"]: removeEventListener: listener must be a function")},dispatchEvent:function(a,b){if(X(this.Oc,a))for(var c=this.Hd[a],d=0,e=c.length;d<e;d++)c[d](this,a,b);else B("log4javascript.EventSupport ["+
this+"]: dispatchEvent: no event called '"+a+"'")}};var hd=new Date,id="log4javascript_"+hd.getTime()+"_"+Math.floor(1E8*Math.random()),F="\r\n",xb=p;n.prototype=new j;x=new n;x.version="1.4.2";x.$u="log4javascript";var xa="undefined"!=typeof window.av?function(a){return encodeURIComponent(a)}:function(a){return escape(a).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")};if(!Function.prototype.apply)Function.prototype.apply=function(a,b){var c=
"__apply__";"undefined"!=typeof a[c]&&(c+=(""+Math.random()).substr(2));a[c]=this;for(var d=[],e=0,f=b.length;e<f;e++)d[e]="args["+e+"]";d=eval("obj."+c+"("+d.join(",")+")");delete a[c];return d};if(!Function.prototype.call)Function.prototype.call=function(a){for(var b=[],c=1,d=arguments.length;c<d;c++)b[c-1]=arguments[c];return this.apply(a,b)};var ca={yl:p,Qk:[],iw:function(a){this.yl=Boolean(a)},Js:0,zk:p,Wv:s("zk"),P:function(a){this.Qk.push(a)},Zu:function(){alert(this.Qk.join(F))},warn:q(),
error:function(a,b){if((1==++this.Js||this.zk)&&!this.yl){var c="log4javascript error: "+a;b&&(c+=F+F+"Original error: "+J(b));alert(c)}}};x.Kv=ca;x.Il(["load","error"]);x.handleError=B;var ja=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled);x.bw=function(a){ja=Boolean(a)};x.isEnabled=function(){return ja};var Ka=k;x.Jt=function(a){Ka=Boolean(a)};x.ef=function(){return Ka};x.dv=function(a){return eval(a)};var dd=p;x.nw=function(a){dd=Boolean(a)};e.prototype={toString:t("name"),
Xe:function(a){return this.X==a.X},hh:function(a){return this.X>=a.X}};e.Zl=new e(Number.MIN_VALUE,"ALL");e.Rf=new e(1E4,"TRACE");e.Zc=new e(2E4,"DEBUG");e.mc=new e(3E4,"INFO");e.ii=new e(4E4,"WARN");e.$c=new e(5E4,"ERROR");e.Lh=new e(6E4,"FATAL");e.Lm=new e(Number.MAX_VALUE,"OFF");x.Cb=e;ta.prototype.ns=function(){return(new Date).getTime()-this.start.getTime()};var ed="[null]",Ia="root";T.prototype={Rd:function(){this.log(e.Rf,arguments)},P:function(){this.log(e.Zc,arguments)},info:function(){this.log(e.mc,
arguments)},warn:function(){this.log(e.ii,arguments)},error:function(){this.log(e.$c,arguments)},Ze:function(){this.log(e.Lh,arguments)}};T.prototype.Rd.Ld=k;T.prototype.P.Ld=k;T.prototype.info.Ld=k;T.prototype.warn.Ld=k;T.prototype.error.Ld=k;T.prototype.Ze.Ld=k;var Da={},md=[],jd=e.Zc,za=new T(Ia);za.ib(jd);x.qv=function(){return za};x.dh=function(a){"string"!=typeof a&&(a="[anonymous]",ca.warn("log4javascript.getLogger: non-string logger name "+m(a)+" supplied, returning anonymous logger"));a==
Ia&&B("log4javascript.getLogger: root logger may not be obtained by name");if(!Da[a]){var b=new T(a);Da[a]=b;md.push(a);var c=a.lastIndexOf(".");(-1<c?x.dh(a.substring(0,c)):za).lr(b)}return Da[a]};var La=l;x.mv=function(){if(!La){La=x.dh("[default]");var a=new x.Qm;La.xk(a)}return La};var Ea=l;x.ov=function(){Ea||(Ea=new T(ed),Ea.ib(e.Lm));return Ea};x.Tv=function(){za.ib(jd);Da={}};d.prototype={bf:function(){return this.ic?J(this.ic):""},ah:function(){return 1==this.Ab.length?this.Ab[0]:this.Ab.join(F)},
toString:function(){return"LoggingEvent["+this.X+"]"}};x.su=d;c.prototype={t:{hf:"logger",tf:"timestamp",kf:"milliseconds",ff:"level",jf:"message",Ye:"exception",uf:"url"},hf:"logger",tf:"timestamp",kf:"milliseconds",ff:"level",jf:"message",Ye:"exception",uf:"url",Kk:"",Jk:"",Lk:"",El:p,xl:p,Wl:l,Ma:function(){B("Layout.format: layout supplied has no format() method")},gb:function(){B("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},bh:u("text/plain"),Qg:u(k),Jt:function(a){this.xl=
k;this.Wl=Boolean(a)},ef:function(){return this.xl?this.Wl:Ka},kl:function(a){return this.ef()?a.Ul:a.Qt},gl:function(a,b){var c=[[this.hf,a.gf.name],[this.tf,this.kl(a)],[this.ff,a.X.name],[this.uf,window.location.href],[this.jf,b?a.ah():a.Ab]];this.ef()||c.push([this.kf,a.ul]);a.ic&&c.push([this.Ye,J(a.ic)]);if(this.fh())for(var d=0,e=this.ba.length;d<e;d++){var f=this.ba[d].value;"function"===typeof f&&(f=f(this,a));c.push([this.ba[d].name,f])}return c},Kl:function(a,b,c,d,e,f,g){this.hf=Z(a,this.t.hf);
this.tf=Z(b,this.t.tf);this.ff=Z(c,this.t.ff);this.jf=Z(d,this.t.jf);this.Ye=Z(e,this.t.Ye);this.uf=Z(f,this.t.uf);this.kf=Z(g,this.t.kf)},kt:function(a,b){for(var c=p,d=0,e=this.ba.length;d<e;d++)if(this.ba[d].name===a)this.ba[d].value=b,c=k;c||this.ba.push({name:a,value:b})},fh:function(){return 0<this.ba.length},toString:function(){B("Layout.toString: all layouts must override this method")}};x.ru=c;b.prototype=new j;b.prototype.O=new I;b.prototype.oh=e.Zl;b.prototype.ih=[];b.prototype.Tr=function(a){ja&&
a.X.X>=this.oh.X&&this.append(a)};b.prototype.append=q();b.prototype.pf=function(a){a instanceof c?this.O=a:B("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")};b.prototype.It=function(){var a=x.Cb.Rf;a instanceof e?this.oh=a:B("Appender.setThreshold: threshold supplied to "+this.toString()+" is not a subclass of Level")};b.prototype.Gl=function(a){this.ih.push(a)};b.prototype.Ll=function(a){r(this.ih,a)};b.prototype.jc=f;b.prototype.kc=f;b.prototype.toString=
function(){B("Appender.toString: all appenders must override this method")};x.sh=b;U.prototype=new c;U.prototype.Ma=function(a){return a.X.name+" - "+a.ah()};U.prototype.gb=u(k);U.prototype.toString=u("SimpleLayout");x.Bu=U;ka.prototype=new c;ka.prototype.Ma=function(a){return a.Ab};ka.prototype.gb=u(k);ka.prototype.toString=u("NullLayout");x.uu=ka;la.prototype=new c;la.prototype.bh=u("text/xml");la.prototype.Xr=function(a){return a.replace(/\]\]>/,"]]\>]]&gt;<![CDATA[")};la.prototype.Ma=function(a){function b(a){a=
"string"===typeof a?a:m(a);return"<log4javascript:message><![CDATA["+c.Xr(a)+"]]\></log4javascript:message>"}var c=this,d,e,f='<log4javascript:event logger="'+a.gf.name+'" timestamp="'+this.kl(a)+'"';this.ef()||(f+=' milliseconds="'+a.ul+'"');f+=' level="'+a.X.name+'">'+F;if(this.Sg)f+=b(a.ah());else{f+="<log4javascript:messages>"+F;for(d=0,e=a.Ab.length;d<e;d++)f+=b(a.Ab[d])+F;f+="</log4javascript:messages>"+F}if(this.fh())for(d=0,e=this.ba.length;d<e;d++)f+='<log4javascript:customfield name="'+
this.ba[d].name+'"><![CDATA['+this.ba[d].value.toString()+"]]\></log4javascript:customfield>"+F;a.ic&&(f+="<log4javascript:exception><![CDATA["+J(a.ic)+"]]\></log4javascript:exception>"+F);return f+="</log4javascript:event>"+F+F};la.prototype.gb=u(p);la.prototype.toString=u("XmlLayout");x.Ju=la;ma.prototype=new c;ma.prototype.Ma=function(a){function b(a,d,e){var f=typeof a;if(a instanceof Date)e=""+a.getTime();else if(e&&a instanceof Array){for(var e="["+c.Nd,f=0,g=a.length;f<g;f++){var j=d+c.nh,
e=e+(j+b(a[f],j,p));f<a.length-1&&(e+=",");e+=c.Nd}e+=d+"]"}else e="number"!==f&&"boolean"!==f?'"'+m(a).replace(/\"/g,'\\"').replace(/\r\n|\r|\n/g,"\\r\\n")+'"':a;return e}var c=this,a=this.gl(a,this.Sg),d="{"+this.Nd,e,f;for(e=0,f=a.length-1;e<=f;e++)d+=this.nh+'"'+a[e][0]+'"'+this.Er+b(a[e][1],this.nh,k),e<f&&(d+=","),d+=this.Nd;return d+="}"+this.Nd};ma.prototype.gb=u(p);ma.prototype.toString=u("JsonLayout");ma.prototype.bh=u("application/json");x.pu=ma;na.prototype=new c;na.prototype.Qg=u(p);
na.prototype.Ma=function(a){for(var a=this.gl(a),b=[],c=0,d=a.length;c<d;c++){var e=a[c][1]instanceof Date?""+a[c][1].getTime():a[c][1];b.push(xa(a[c][0])+"="+xa(e))}return b.join("&")};na.prototype.gb=u(p);na.prototype.toString=u("HttpPostDataLayout");x.nu=na;var qa;(function(){function a(b,c){for(;b.length<c;)b="0"+b;return b}function b(a,c,d){a=new Date(a,c,d,0,0,0);a.setMilliseconds(0);return a}var c=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,
d="January,February,March,April,May,June,July,August,September,October,November,December".split(","),e="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),f={lu:0,y:3,tu:4,ww:2,Hu:2,iu:2,Yu:2,ju:2,E:1,Og:0,mu:2,Hv:2,qu:2,ra:2,Mv:2,Vc:2,xu:2,Ku:5};Date.prototype.ls=function(a){return this.getTime()-a.getTime()};Date.prototype.ql=function(a){return this.getTime()<a.getTime()};Date.prototype.ml=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),
this.getMinutes(),this.getSeconds(),this.getMilliseconds())};Date.prototype.eh=function(a){return this.ml()-a.ml()};Date.prototype.jl=function(){var a=new Date((new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0)).getTime()-864E5*this.getDay());return b(a.getFullYear(),a.getMonth(),a.getDate())};Date.prototype.ts=function(a){g(this.jh)&&(a=1);var c=this.jl(),d=b(this.getFullYear(),0,1),c=c.ql(d)?0:1+Math.floor(c.eh(d)/6048E5);7-d.getDay()<a&&c--;return c};Date.prototype.ss=function(a){g(this.jh)&&
(a=1);var c=this.jl(),d=b(this.getFullYear(),this.getMonth(),1),c=c.ql(d)?0:1+Math.floor(c.eh(d)/6048E5);7-d.getDay()>=a&&c++;return c};Date.prototype.js=function(){var a=b(this.getFullYear(),0,1);return 1+Math.floor(this.eh(a)/864E5)};qa=s("bs");qa.prototype.il=function(){return g(this.jh)?1:this.jh};qa.prototype.Ma=function(b){for(var g="",j,n=this.bs;j=c.exec(n);){var o=j[1],m=j[2],w=j[3],r=j[4];if(o)g="''"==o?g+"'":g+o.substring(1,o.length-1);else if(!w)if(r)g+=r;else if(m){o=m.charAt(0);m=m.length;
w="";switch(o){case "G":w="AD";break;case "y":w=b.getFullYear();break;case "M":w=b.getMonth();break;case "w":w=b.ts(this.il());break;case "W":w=b.ss(this.il());break;case "D":w=b.js();break;case "d":w=b.getDate();break;case "F":w=1+Math.floor((b.getDate()-1)/7);break;case "E":w=e[b.getDay()];break;case "a":w=12<=b.getHours()?"PM":"AM";break;case "H":w=b.getHours();break;case "k":w=b.getHours()||24;break;case "K":w=b.getHours()%12;break;case "h":w=b.getHours()%12||12;break;case "m":w=b.getMinutes();
break;case "s":w=b.getSeconds();break;case "S":w=b.getMilliseconds();break;case "Z":w=b.getTimezoneOffset()}switch(f[o]){case 0:g+=4<=m?w:w.substr(0,Math.max(2,m));break;case 1:g+=4<=m?w:w.substr(0,Math.max(3,m));break;case 2:g+=a(""+w,m);break;case 3:g=3>=m?g+(""+w).substr(2,2):g+a(""+w,m);break;case 4:g=3<=m?g+(4<=m?d[w]:d[w].substr(0,Math.max(m,m))):g+a(""+(w+1),m);break;case 5:m=0<w?"-":"+",w=Math.abs(w),o=""+Math.floor(w/60),o=a(o,2),w=""+w%60,w=a(w,2),g+=m+o+w}}n=n.substr(j.index+j[0].length)}return g}})();
x.Au=qa;I.Fu="%r %p %c - %m%n";I.jm="%m%n";I.Qh="yyyy-MM-dd HH:mm:ss,SSS";I.im="dd MMM yyyy HH:mm:ss,SSS";I.Yl="HH:mm:ss,SSS";I.prototype=new c;I.prototype.Ma=function(a){for(var b=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,c="",d,e=this.pattern;d=b.exec(e);){var f=d[0],g=d[1],j=d[2],n=d[3],m=d[5],o=d[6];if(o)c+=""+o;else{o="";switch(n){case "a":case "m":f=0;m&&(f=parseInt(m,10),isNaN(f)&&(B("PatternLayout.format: invalid specifier '"+m+"' for conversion character '"+n+"' - should be a number"),
f=0));for(var m="a"===n?a.Ab[0]:a.Ab,n=0,r=m.length;n<r;n++)0<n&&" "!==o.charAt(o.length-1)&&(o+=" "),o=0===f?o+m[n]:o+fd(m[n],f);break;case "c":o=a.gf.name;m&&(m=parseInt(m,10),f=a.gf.name.split("."),o=m>=f.length?o:f.slice(f.length-m).join("."));break;case "d":o=I.Qh;if(m)if(o=m,"ISO8601"==o)o=I.Qh;else if("ABSOLUTE"==o)o=I.Yl;else if("DATE"==o)o=I.im;o=(new qa(o)).Ma(a.timeStamp);break;case "f":if(this.fh())o=0,m&&(o=parseInt(m,10),isNaN(o)?B("PatternLayout.format: invalid specifier '"+m+"' for conversion character 'f' - should be a number"):
0===o?B("PatternLayout.format: invalid specifier '"+m+"' for conversion character 'f' - must be greater than zero"):o>this.ba.length?B("PatternLayout.format: invalid specifier '"+m+"' for conversion character 'f' - there aren't that many custom fields"):o-=1),o=this.ba[o].value;break;case "n":o=F;break;case "p":o=a.X.name;break;case "r":o=""+a.timeStamp.ls(hd);break;case "%":o="%";break;default:o=f}if(j)j=parseInt(j.substr(1),10),m=o.length,j<m&&(o=o.substring(m-j,m));if(g)if("-"==g.charAt(0))for(j=
parseInt(g.substr(1),10);o.length<j;)o+=" ";else for(j=parseInt(g,10);o.length<j;)o=" "+o;c+=o}e=e.substr(d.index+d[0].length)}return c};I.prototype.gb=u(k);I.prototype.toString=u("PatternLayout");x.vu=I;va.prototype=new b;va.prototype.O=new U;va.prototype.append=function(a){var b=this.O.Ma(a);this.O.gb()&&(b+=a.bf());alert(b)};va.prototype.toString=u("AlertAppender");x.gu=va;$.prototype=new x.sh;$.prototype.O=new ka;$.prototype.oh=e.Zc;$.prototype.append=function(a){function b(){var d=c.O,e=d.Ma(a);
d.gb()&&a.ic&&(e+=a.bf());return e}var c=this;if("undefined"!=typeof opera&&opera.postError)opera.postError(b());else if(window.console&&window.console.log){var d=b();window.console.P&&e.Zc.hh(a.X)?window.console.P(d):window.console.info&&e.mc.Xe(a.X)?window.console.info(d):window.console.warn&&e.ii.Xe(a.X)?window.console.warn(d):window.console.error&&a.X.hh(e.$c)?window.console.error(d):window.console.log(d)}};$.prototype.jc=function(a){window.console&&window.console.jc&&window.console.jc(a)};$.prototype.kc=
function(){window.console&&window.console.kc&&window.console.kc()};$.prototype.toString=u("BrowserConsoleAppender");x.am=$;var cd=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];wa.prototype=new b;wa.prototype.t={cu:p,Rt:p,St:1E3,vr:1,et:k,ct:l,Zr:l,Rs:"data"};wa.prototype.O=new na;wa.prototype.toString=u("AjaxAppender");x.fu=wa;var W;(function(){function a(b,c,d,e,f){this.create(p,l,b,c,d,e,f,
this.t.as)}function c(a,b,d,e,f,g){this.create(k,a,b,d,e,f,g,p)}var f=[];W=q();var j=1;W.prototype=new b;W.prototype.create=function(a,b,c,n,m,r,o,v){function w(){var a=document.domain!=location.hostname;if(m)a="";else{var b;a:{b=document.getElementsByTagName("script");for(var c=0,d=b.length;c<d;++c)if(-1!=b[c].src.indexOf("log4javascript")){d=b[c].src.lastIndexOf("/");b=-1==d?"":b[c].src.substr(0,d+1);break a}b=l}a=b+"console.html"+(a?"?log4javascript_domain="+escape(document.domain):"")}return a}
function fb(a,b,c,d){var e=setInterval(function(){try{ea&&clearInterval(e),a(N())&&(clearInterval(e),c())}catch(b){clearInterval(e),ra=p,B(d,b)}},b)}function G(){var a=N();a.Xv(ga);a.zt(la);a.Dt(na);a.mh(ka);a.qf(ma);a.Nl(va);a.Ml(wa);a.gw(window);var b;a:{b=escape("log4javascriptCommandHistory")+"=";for(var c=document.cookie.split(";"),d=0,e=c.length;d<e;d++){for(var f=c[d];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(b)){b=unescape(f.substring(b.length,f.length));break a}}b=l}if(b)a.Fr=
b.split(","),a.Xu=a.Fr.length;ga.dispatchEvent("load",{win:a})}function K(a){var b=['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">','<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"<head>","<title>log4javascript</title>",'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',"<\!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work --\>",'<meta http-equiv="X-UA-Compatible" content="IE=7" />',
'<script type="text/javascript">var isIe = false, isIePre7 = false;<\/script>','<\!--[if IE]><script type="text/javascript">isIe = true<\/script><![endif]--\>','<\!--[if lt IE 7]><script type="text/javascript">isIePre7 = true<\/script><![endif]--\>','<script type="text/javascript">',"//<![CDATA[","var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}",
"function LogItem(){}","LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}","this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}","this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}",
"if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}","if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}",
'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}',
"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}","Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}",
'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}',
'GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}',"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}",
'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',
"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}","this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}",
"this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}",
"this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}","this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}","if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}",
'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}',
'LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}',
'LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',
"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}',
'this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}',"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',
"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}","LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}",
'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}',
'logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}','rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',
"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}","break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}","break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}',"function setLoggingEnabled(enable){loggingEnabled=enable;}",
"var appender=null;function setAppender(appenderParam){appender=appenderParam;}",'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}','function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}',"var newestAtTop=false;function LogItemContentReverser(){}","LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}",
"matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}","currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}",'$("newestAtTop").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}',"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}",
'$("scrollToLatest").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}",
"var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$("command").focus();}}','function focusSearch(){if(loaded){$("searchBox").focus();}}',"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}",
"return items;}","function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}","loggingEnabled=loggingReallyEnabled;}","function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}",
"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}","if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}",
"displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}","if(scrollToLatest){doScrollToLatest();}","unrenderedLogItemsExist=false;}","function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}",
"var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}","logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}","return false;}",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',
"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}","function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}","function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}","function hide(){if(appender&&mainWindowExists()){appender.hide();}}",
'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}","function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}","return false;}",'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}',
'function getIeWrappedLogContainer(){return $("log_wrapped");}','function getIeUnwrappedLogContainer(){return $("log_unwrapped");}',"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}","updateSearchFromFilters();}",'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}',
'function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}','getCheckBox("ALL").checked=true;}',"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}",'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}',"refreshCurrentMatch();}","var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}",
"searchTimer=setTimeout(doSearch,500);}","function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}","Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}","return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}",
"return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}","for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}","return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}","for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',
"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=endTokenIndex+endToken.length;}",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+',"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+",
"preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=searchIndex+searchTermLength;}","var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}",
"logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}","return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}",
"var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}","for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}","if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}",
"setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}","return y;}",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',
"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}","function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}",
"this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}',
'currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}',
'addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}","function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}","var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}",
"function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}",'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}','function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}',
'function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}',
'if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}','$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}',"setLogContainerHeight();}",'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}',
"refreshCurrentMatch();}",'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}','function clearSearch(){$("searchBox").value="";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}',
'function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}',"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}',
'function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}',"return false;}",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(" ");}}',"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}",
"function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}","return matches;}","function $(id){return document.getElementById(id);}","function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}","node=node.parentNode;}","return false;}","function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}",
"currentNode=currentNode.parentNode;}","return true;}",'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}',"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}","return 0;}","function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}",
"return 0;}",'function getToolBarsHeight(){return $("switches").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}',"return height;}",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+','Math.max(0,windowHeight-getChromeHeight())+"px";}}','function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-',
'($("evaluateButton").offsetWidth+13))+"px";}}',"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}","return this.length;};}","if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}","if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}",
"this.length=this.length-1;return firstItem;}};}","if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}","var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}",
"return itemsDeleted;};}","function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}","if(index>=0){arr.splice(index,1);return index;}else{return false;}}","function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}","array.length=array.length-numberToRemove;}","return array;}","function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}",
"return false;}","function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}",'return""+ex;}',"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}","input.focus();}",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}',
"function getEvent(evt){return evt?evt:event;}","function getTarget(evt){return evt.target?evt.target:evt.srcElement;}",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}',"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}",'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}',
"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}',"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}",
"currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}","//]]\>","<\/script>",'<style type="text/css">',"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}",
"</style>","</head>",'<body id="body">','<div id="switchesContainer">','<div id="switches">','<div id="levels" class="toolbar">',"Filters:",'<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>',
'<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>',
'<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"</div>",'<div id="search" class="toolbar">','<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />',
'<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>',
'<div id="searchNav">','<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>',
'<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"</div>","</div>",'<div id="options" class="toolbar">',"Options:",'<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>',
'<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />',
'<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"</div>","</div>","</div>",'<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','<div id="commandLine" class="toolbar">','<div id="commandLineContainer">','<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />',
'<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"</div>","</div>","</body>","</html>",""];a.open();for(var c=0,d=b.length;c<d;c++)a.writeln(b[c]);a.close()}function wb(){for(;0<$.length;)$.shift().append();v&&N().focus()}function R(){qa();X?ea&&Ka&&Sa():xa();qa()&&wb()}function V(){return pa&&ra&&!ea}function da(a){return U?(B(Qa+": configuration option '"+a+"' may not be set after the appender has been initialized"),
p):k}function T(a,b){this.Lv=a;this.Ds=a.X.name;this.cs=b}function W(a,b){this.name=a;this.zs=b}function Ga(){}var ga=this,X=p,U=p,pa=p,ea=p,$=[],ra=k,Ha=j++,n=g(n)?this.t.pl:Boolean(n),c=g(c)?this.t.rl:Boolean(c),m=g(m)?this.t.Vl:Boolean(m),la=this.t.vl,na=this.t.Fl,r=r?r:this.t.width,o=o?o:this.t.height,ka=this.t.tl,ma=this.t.Pl,ta=this.t.Pk,va=this.t.Ql,wa=this.t.Ol;this.pf(this.t.O);var xa,Sa,qa,N,Ma,Qa=a?"InPageAppender":"PopUpAppender";this.wv=function(){return la};this.At=function(){la=Boolean(k);
V()&&N().zt(la)};this.yv=function(){return na};this.lw=function(a){na=Boolean(a);V()&&N().Dt(na)};this.h=function(){return r};this.tw=function(a){da("width")&&(r=Z(a,r))};this.i=function(){return o};this.ew=function(a){da("height")&&(o=Z(a,o))};this.nv=function(){return ka};this.mh=function(a){ka=Ca(a,ka);V()&&N().mh(ka)};this.Bv=function(){return ma};this.qf=function(a){ma=Boolean(a);V()&&N().qf(ma)};this.Cv=function(){return va};this.Nl=function(a){va=Boolean(a);V()&&N().Nl(va)};this.Av=function(){return wa};
this.Ml=function(a){wa=Boolean(a);V()&&N().Ml(wa)};this.kv=function(){return ta};this.gt=function(a){ta=Ca(a,ta)};var Ya=n;this.vv=function(){return n};this.fw=function(a){da("initiallyMinimized")&&(Ya=n=Boolean(a))};this.Ev=function(){return m};this.qw=function(a){da("useDocumentWrite")&&(m=Boolean(a))};T.prototype.append=function(){N().log(this.Ds,this.cs)};W.prototype.append=function(){N().jc(this.name,this.zs)};Ga.prototype.append=function(){N().kc()};this.append=function(a){if(ra){var b=ga.O.Ma(a);
this.O.gb()&&(b+=a.bf());$.push(new T(a,b));R()}};this.jc=function(a,b){ra&&($.push(new W(a,b)),R())};this.kc=function(){ra&&($.push(new Ga),R())};this.Gl=function(a){this.ih.push(a);ja&&!c&&xa()};this.clear=function(){V()&&N().Vu();$.length=0};this.focus=function(){V()&&N().focus()};this.gv=q();this.hv=q();var aa=window;this.is=function(){return aa};this.ht=function(a){aa=a};this.fv=function(){V()&&N().ev()};var Da=new I("%m");this.jv=function(){return Da};this.$v=function(a){Da=a};this.bv=function(a){var b=
{Gk:k,df:p},c="";try{var f,j;!aa.eval&&aa.execScript&&aa.execScript("null");var o={};for(j=0,len=Ta.length;j<len;j++)o[Ta[j][0]]=Ta[j][1];var n=[],m=function(a){n.push([a,aa[a]])};m("appender");aa.Su=ga;m("commandReturnValue");aa.Wu=b;m("commandLineFunctionsHash");aa.Gr=o;o=function(a){m(a);aa[a]=function(){return this.Gr[a](ga,arguments,b)}};for(j=0,len=Ta.length;j<len;j++)o(Ta[j][0]);aa===window&&aa.execScript?(m("evalExpr"),m("result"),window.cv=a,aa.execScript("window.result=eval(window.evalExpr);"),
f=window.result):f=aa.eval(a);c=g(f)?f:fd(f,ta);for(j=0,len=n.length;j<len;j++)aa[n[j][0]]=n[j][1]}catch(w){c="Error evaluating command: "+J(w),b.df=k}if(b.Gk)a=">>> "+a,g(c)||(a+=F+c),c=new d(l,new Date,b.df?e.$c:e.mc,[a],l),a=this.O,this.pf(Da),this.append(c),this.pf(a)};var Ta=f.concat([]);this.Ru=function(a,b){Ta.push([a,b])};this.uw=function(a){var a=a.join(","),b;document.cookie=escape("log4javascriptCommandHistory")+"="+escape(a)+""+(b?"; path="+b:"")};this.Il(["load","unload"]);this.Sd=function(){ca.P("unload "+
this+", caller: "+this.Sd.caller);ea||(ca.P("really doing unload "+this),ea=k,U=pa=p,ga.dispatchEvent("unload",{}))};if(a){var Aa=l,za=[];this.yk=function(a,b){da("cssProperties")&&za.push([a,b])};var La=p,ya,Ea=id+"_InPageAppender_"+Ha;this.vs=function(){if(X&&U)V()&&N().eu("command").blur(),ya.style.display="none",Ya=k};this.show=function(){if(X)U?(ya.style.display="block",this.qf(ma),Ya=p):La||Sa(k)};this.Cs=function(){return!Ya&&!ea};this.close=function(a){if(!ea&&(!a||confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?")))ya.parentNode.removeChild(ya),
this.Sd()};Ma=function(){function a(b){try{return Boolean(b)&&Boolean(b.document)}catch(c){return p}}function b(){try{n||ga.show(),G(),pa=k,wb()}catch(a){ra=p,B(d,a)}}function c(){try{var a=function(a){return Ja(a)};m&&K(N().document);Ja(N())?b():fb(a,100,b,d)}catch(e){ra=p,B(d,e)}}var d="InPageAppender.open: unable to create console iframe";Ya=p;ya=Aa.appendChild(document.createElement("div"));ya.style.width=r;ya.style.height=o;ya.style.border="solid gray 1px";for(var e=0,f=za.length;e<f;e++)ya.style[za[e][0]]=
za[e][1];ya.innerHTML="<iframe id='"+Ea+"' name='"+Ea+"' width='100%' height='100%' frameborder='0'"+(m?"":" src='"+w()+"'")+" scrolling='no'></iframe>";ea=p;a(N())?c():fb(a,100,c,d);U=k};Sa=function(a){if(a||!n)a=function(){if(b)try{var a=document.getElementById(b);1==a.nodeType&&(Aa=a);Ma()}catch(c){B("InPageAppender.init: invalid container element '"+b+"' supplied",c)}else Aa=document.createElement("div"),Aa.style.position="fixed",Aa.style.left="0",Aa.style.right="0",Aa.style.bottom="0",document.body.appendChild(Aa),
ga.yk("borderWidth","1px 0 0 0"),ga.yk("zIndex",1E6),Ma()},xb&&b&&b.appendChild?(Aa=b,Ma()):xb?a():x.addEventListener("load",a),La=k};xa=function(){Sa();X=k};N=function(){var a=window.frames[Ea];if(a)return a};qa=function(){return ra&&!ea?(U&&!pa&&N()&&Ja(N())&&(pa=k),pa):p}}else{var Za=ga.t.Wt,Ia=ga.t.Hr,Ka=this.t.at;this.Fv=function(){return Za};this.rw=function(a){da("useOldPopUp")&&(Za=Boolean(a))};this.tv=function(){return Ia};this.aw=function(a){da("complainAboutPopUpBlocking")&&(Ia=Boolean(a))};
this.uv=function(){return v};this.dw=function(a){v=Boolean(a)};this.xv=function(){return Ka};this.jw=function(a){Ka=Boolean(a)};this.close=function(){ca.P("close "+this);try{ha.close(),this.Sd()}catch(a){}};this.vs=function(){ca.P("hide "+this);V()&&this.close()};this.show=function(){ca.P("show "+this);U||Ma()};this.Cs=function(){return qa()};var ha;Ma=function(){function a(){ea||ga.Sd()}function b(a){if(ea)return k;try{return Boolean(a)&&a.closed}catch(c){}return p}function c(){N().Zv(!Za||!m);G();
pa=k;wb();fb(b,500,a,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}var d="width="+r+",height="+o+",status,resizable",e="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+Ha;if(!Za||!m)e=e+"_"+id;try{ha=window.open(w(),e,d),ea=p,U=k,ha&&ha.document?m&&Za&&Ja(ha)?(ha.Nv(),c()):(m&&K(ha.document),d=function(a){return Boolean(a)&&Ja(a)},Ja(ha)?c():fb(d,100,c,"PopUpAppender.init: unable to create console window")):(ra=p,ca.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"),
Ia&&B("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging."))}catch(f){B("PopUpAppender.init: error creating pop-up",f)}};Sa=function(){n||Ma()};xa=function(){Sa();X=k};N=function(){return ha};qa=function(){if(ra&&!g(ha)&&!ea){if(ha.closed||pa&&g(ha.closed))return ga.Sd(),ca.P("PopUpAppender: pop-up closed"),p;!pa&&Ja(ha)&&(pa=k)}return ra&&pa&&!ea}}this.lv=N};W.Ob=function(a,b){f.push([a,b])};a.prototype=new W;a.prototype.t={O:new I("%d{HH:mm:ss} %-5p - %m{1}%n"),
pl:p,as:p,rl:k,Wt:k,Hr:k,vl:p,Fl:k,width:"600",height:"400",at:p,tl:l,Pl:k,Pk:1,Ql:p,Ol:k,Lt:k,Vl:k};a.prototype.toString=u("PopUpAppender");x.Qm=a;c.prototype=new W;c.prototype.t={O:new I("%d{HH:mm:ss} %-5p - %m{1}%n"),pl:p,rl:k,vl:p,Fl:k,width:"100%",height:"220px",tl:l,Pl:k,Pk:1,Ql:p,Ol:p,Lt:k,Vl:k};c.prototype.toString=u("InPageAppender");x.Gm=c;x.ou=c})();(function(){var a,b,c,d,e;function f(m,o,r,w,v){function B(a){for(var a=a.style.cssText.split(";"),b="",c=0,d=a.length;c<d;c++){var b=a[c].split(":"),
e=[];/^\s*$/.test(b[0])||e.push(G(b[0]).toLowerCase()+":"+G(b[1]));b=e.join(";")}return b}"string"!=typeof r&&(r="");w=!!w;v=!!v;if(("undefined"==typeof o?k:o)&&m.nodeType!=b)switch(m.nodeType){case c:var J=m.tagName.toLowerCase(),o=w?F+r:"",o=o+"<",v=m.prefix?m.prefix:m.outerHTML&&RegExp("<([^:]+):"+m.tagName+"[^>]*>","i").test(m.outerHTML)?RegExp.$1.toLowerCase():"";(w=!!v)&&(o+=v+":");o+=J;for(v=0,R=m.attributes.length;v<R;v++){var I=m.attributes[v];if(I.specified&&!(I.nodeValue===l||"style"===
I.nodeName.toLowerCase()||"string"!==typeof I.nodeValue||0===I.nodeName.indexOf("_moz")))o+=" "+I.nodeName.toLowerCase()+'="',o+=I.nodeValue.toString().replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\"/g,"&quot;"),o+='"'}m.style.cssText&&""!==B(m)&&(o+=' style="'+B(m)+'"');if(X(j,J)||w&&!m.hasChildNodes())o+="/>";else{for(var o=o+">",w=!(1===m.childNodes.length&&m.childNodes[0].nodeType===a),I=X(g,J),v=0,R=m.childNodes.length;v<R;v++)o+=f(m.childNodes[v],k,r+n,w,I);m="</"+J+">";o+=w?F+r+m:m}return o;
case a:if(m.nodeType==a&&/^[ \t\r\n]*$/.test(m.nodeValue))o="";else{if(v)o=m.nodeValue;else{m=K(G(m.nodeValue));o=[];v=0;for(R=m.length;v<R;v++)o[v]=G(m[v]);o=o.join(F+r)}w&&(o=F+r+o)}return o;case d:return"<![CDATA["+m.nodeValue+"]]\>"+F;case e:o="";v=0;for(R=m.childNodes.length;v<R;v++)o+=f(m.childNodes[v],k,r);return o;default:return""}else{o="";v=0;for(R=m.childNodes.length;v<R;v++)o+=f(m.childNodes[v],k,r+n);return o}}c=1;a=3;d=4;e=9;b=11;var g=["script","pre"],j="br,img,hr,param,link,area,input,col,base,meta".split(","),
n="  ";(function(){W.Ob("$",function(a,b){return document.getElementById(b[0])});W.Ob("dir",function(a,b){for(var c=[],d=0,e=b.length;d<e;d++){var f=c,g=d,j=b[d],n=0,r=i;for(r in j)n=Math.max(m(r).length,n);var B=[];for(r in j){var G="  "+gd(m(r),n+2),I;try{I=K(m(j[r])).join(gd(F,n+6))}catch(J){I="[Error obtaining property. Details: "+v(J)+"]"}B.push(G+I)}f[g]=B.join(F)}return c.join(F+F)});W.Ob("dirxml",function(a,b){for(var c=[],d=0,e=b.length;d<e;d++)c[d]=f(b[d]);return c.join(F+F)});W.Ob("cd",
function(a,b,c){var d;0===b.length||""===b[0]?(d=window,b="Command line set to run in main window"):b[0].window==b[0]?(d=b[0],b="Command line set to run in frame '"+b[0].name+"'"):(d=window.frames[b[0]])?b="Command line set to run in frame '"+b[0]+"'":(c.df=k,b="Frame '"+b[0]+"' does not exist",d=a.is());a.ht(d);return b});W.Ob("clear",function(a,b,c){c.Gk=p;a.clear()});W.Ob("keys",function(a,b){var c=[],d;for(d in b[0])c.push(d);return c});W.Ob("values",function(a,b){var c=[],d;for(d in b[0])try{c.push(b[0][d])}catch(e){ca.warn("values(): Unable to obtain value for key "+
d+". Details: "+v(e))}return c});W.Ob("expansionDepth",function(a,b,c){var d=parseInt(b[0],10);if(isNaN(d)||0>d)return c.df=k,""+b[0]+" is not a valid expansion depth";a.gt(d);return"Object expansion depth set to "+d})})();initialized=k})();x.of=function(){xb=k;x.dispatchEvent("load",{})};if(window.addEventListener)window.addEventListener("load",x.of,p);else if(window.attachEvent)window.attachEvent("onload",x.of);else{var kd=window.onload;window.onload="function"!=typeof window.onload?x.of:function(a){kd&&
kd(a);x.of()}}return window.Jv=x}(),y;
(function(){y=q();y.Ym=function(){return y.Iq};y.fd=function(){return y.Kg};y.km=function(){return y.fo};y.Wd=function(a){return a.layerX||0===a.layerX?new z(a.layerX,a.layerY):new z(a.offsetX,a.offsetY)};y.kj=function(a){var c=new z(a.offsetLeft,a.offsetTop);a.offsetParent&&(a=y.kj(a.offsetParent),c.c+=a.c,c.b+=a.b);return c};y.pk=p;y.Xd=function(a){if(!a.pageX||!a.target){if(!y.pk)y.pk=k,WebvisuLogger.error("Evaluation of Touch events not supported because the browser uses an unexpected interface");return l}var c=
y.kj(a.target);return new z(a.pageX-c.c,a.pageY-c.b)};y.rp=navigator.userAgent.match(/OS 6(_\d)+ like Mac OS X/i);y.ws=function(){return y.rp};y.vj=function(a,c){a.style.cssText+="outline: none; -webkit-tap-highlight-color: rgba(0,0,0,0);";a.tabIndex=c;a.addEventListener("MSHoldVisual",function(a){a.preventDefault()})};y.Hm=function(a,c){y.vj(a,2E3);y.vj(c,1E3)};y.Tj=function(a){if(!(a===i||a===l||0<=a.indexOf("%")))return parseFloat(a)};y.nq=function(a){if(a===i)return l;a=a.split(/[\s,]/);return 4>
a.length?l:new A(parseFloat(a[2]),parseFloat(a[3]))};y.Ni=p;y.Fm=function(){return!y.Ni};y.Dq=function(a){try{if(0<=a.src.toLowerCase().indexOf(".svg")){WebvisuLogger.Rd("Derivation of SVG size for '"+a.src+"' failed. Parsing manually");var c=new XMLHttpRequest,d,e,f;c.open("GET",a.src,p);c.send();if(c.responseXML&&c.responseXML.documentElement){y.Ni=k;d=y.Tj(c.responseXML.documentElement.getAttribute("width"));e=y.Tj(c.responseXML.documentElement.getAttribute("height"));if(d&&e)return new A(d,e);
f=y.nq(c.responseXML.documentElement.getAttribute("viewBox"));if(f!==l)return f}}}catch(g){WebvisuLogger.error("Exception during manual parsing of SVG size.")}return l};y.Dm=function(a){if(a.naturalWidth&&a.naturalHeight)return new A(a.naturalWidth,a.naturalHeight);if(a.width&&a.height)return new A(a.width,a.height);a=y.Dq(a);return a!==l?a:new A(0,0)};y.Xm=function(){return y.Gq};y.$i="undefined"!==typeof MozBlobBuilder;y.aj=p;if(y.$i){var a=navigator.userAgent.indexOf("rv");if(-1!==a)a+=3,y.aj=
9<=parseInt(navigator.userAgent.substr(a,navigator.userAgent.indexOf(".",a)-a),10)}y.Gq=-1!==navigator.userAgent.indexOf("Safari");y.Kg=function(){var a="undefined"===typeof ArrayBuffer||"undefined"==typeof Uint8Array||"undefined"!==typeof Int8Arary;a||(a=new ArrayBuffer(4),a=new Int8Array(a,1,2),a=2!==a.byteLength);return a}();y.fo=function(){if(y.Kg)return p;var a="undefined"!==typeof DataView,c,d,e,f;if(/opera [56789]|opera\/[56789]/i.test(navigator.userAgent)||/MSIE (\d+\.\d+);/.test(navigator.userAgent))return p;
try{if(a){c=new ArrayBuffer(8);d=new Int8Array(c);for(f=0;8>f;++f)d[f]=f;e=new DataView(c);if(a="function"===typeof e.getFloat64&&"function"===typeof e.getFloat32&&"function"===typeof e.getInt32&&"function"===typeof e.getUint32&&"function"===typeof e.getInt16&&"function"===typeof e.getUint16&&"function"===typeof e.getInt8&&"function"===typeof e.getInt8)e.getFloat64(0),e.getFloat32(0),e.getInt32(0),e.getUint32(0),e.getInt16(0),e.getUint16(0),e.getInt8(0),e.getInt8(0)}}catch(g){return p}return a}();
y.Iq=y.Kg||!y.$i||y.aj})();var Configuration;
Configuration=function(){this.PlcAddress="0101";this.UseLocalHost=k;this.CommBufferSize=5E4;this.ErrorReconnectTime=1E4;this.Application="Application";this.UpdateRate=200;this.BestFit=p;this.StartVisu="Visualization";this.PollingRegistrationInterval=100;this.TimeMeasurements="";this.LogLevel="INFO";this.MaxUnusedImageAge=2E4;this.MaxUndrawnImageAge=1E4;this.NumCachedImages=15;this.ChangeWindowTitle=k;this.TooltipFont="11px Arial";this.DefaultKeyActions=k;this.ANSIStringEncoding="iso-8859-1";this.CommitEditcontrolOnClickOut=
k;this.HandleTouchEvents=p;this.FuzzyTransparencyColorEvaluation=k;this.TouchHandlingActive=this.Benchmarking=this.HasKeyboard=this.LoadImagesById=p;this.ClientName="";this.ScaleTypeIsotropic=this.SemiTransparencyActive=p;this.GesturesFlickPanThresholdPxPerSecond=1E3;this.GesturesPanFlickTimeThresholdMs=40;this.GesturesTouchMouseTimeThresholdMs=250;this.GesturesPanClickThresholdDistSquare=10;this.WorkaroundDisableMouseUpDownAfterActiveTouch=k;this.DebugOnlyPrintTouchRectangles=this.DebugOnlyPrintGestures=
this.DebugOnlyPrintRawTouches=this.DebugOnlyPrintPaintCommands=this.WorkaroundDisableResizeHandling=p};
Configuration.prototype={Xt:function(){"string"!==typeof this.PlcAddress&&h(Error("Plc address must be of type string"));"boolean"!==typeof this.UseLocalHost&&h(Error("UseLocalHost must be of type boolean"));"number"!==typeof this.CommBufferSize&&h(Error("CommBufferSize must be of type number"));"number"!==typeof this.ErrorReconnectTime&&h(Error("ErrorReconnectTime must be of type number"));"string"!==typeof this.Application&&h(Error("Application must be of type string"));"number"!==typeof this.UpdateRate&&
h(Error("UpdateRate must be of type number"));"boolean"!==typeof this.BestFit&&h(Error("BestFit must be of type boolean"));"string"!==typeof this.StartVisu&&h(Error("StartVisu must be of type string"));"number"!==typeof this.PollingRegistrationInterval&&h(Error("PollingRegistrationInterval must be of type number"));"string"!==typeof this.TimeMeasurements&&h(Error("TimeMeasurements must be of type string"));"string"!==typeof this.TooltipFont&&h(Error("TooltipFont must be of type string"));"boolean"!==
typeof this.DefaultKeyActions&&h(Error("DefaultKeyActions must be of type boolean"));"string"!==typeof this.ANSIStringEncoding&&h(Error("ANSIStringEncoding must be of type string"));"boolean"!==typeof this.FuzzyTransparencyColorEvaluation&&h(Error("FuzzyTransparencyColorEvaluation must be of type boolean"));"boolean"!==typeof this.LoadImagesById&&h(Error("LoadImagesById must be of type boolean"));"boolean"!==typeof this.Benchmarking&&h(Error("Benchmarking must be of type boolean"));"boolean"!==typeof this.TouchHandlingActive&&
h(Error("TouchHandlingActive must be of type boolean"));"boolean"!==typeof this.HasKeyboard&&h(Error("HasKeyboard must be of type boolean"));"boolean"!==typeof this.SemiTransparencyActive&&h(Error("SemiTransparencyActive must be of type boolean"));"boolean"!==typeof this.ScaleTypeIsotropic&&h(Error("ScaleTypeIsotropic must be of type boolean"));("number"!==typeof this.GesturesFlickPanThresholdPxPerSecond||0>this.GesturesFlickPanThresholdPxPerSecond)&&h(Error("GesturesFlickPanThresholdPxPerSecond must be of type nonnegative number"));
("number"!==typeof this.GesturesPanFlickTimeThresholdMs||0>this.GesturesPanFlickTimeThresholdMs)&&h(Error("GesturesPanFlickTimeThresholdMs must be of type nonnegative number"));("number"!==typeof this.GesturesTouchMouseTimeThresholdMs||0>this.GesturesTouchMouseTimeThresholdMs)&&h(Error("GesturesTouchMouseTimeThresholdMs must be of type nonnegative number"));("number"!==typeof this.GesturesPanClickThresholdDistSquare||0>this.GesturesPanClickThresholdDistSquare)&&h(Error("GesturesPanClickThresholdDistSquare must be of type nonnegative number"));
"boolean"!==typeof this.DebugOnlyPrintPaintCommands&&h(Error("DebugOnlyPrintPaintCommands must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintRawTouches&&h(Error("DebugOnlyPrintPaintCommands must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintGestures&&h(Error("DebugOnlyPrintGestures must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintTouchRectangles&&h(Error("DebugOnlyPrintTouchRectangles must be of type boolean"));"boolean"!==typeof this.WorkaroundDisableMouseUpDownAfterActiveTouch&&
h(Error("WorkaroundDisableMouseUpDownAfterActiveTouch must be of type boolean"));this.ll();this.ca()},ll:function(){return new ia(this.TooltipFont)},ca:function(){return new ba(this.ANSIStringEncoding)}};var oa;oa=function(a,b,c,d){this.CommBufferSize=a;this.sa=b;this.Zd=c;this.Ud=d;this.Fh=43981;this.V=0;this.Sh=""};var sa;
sa=function(a,b,c,d,e,f,g,j,n){this.pd=a;this.Qa=d%360;this.Qn=e;this.Rn=f;this.kg=g;(0===this.kg||2===this.kg)&&180<this.Qa?(this.Qa-=180,this.ee=j?c:n,this.nd=b):(this.ee=b,this.nd=j?c:n)};
sa.prototype={os:function(a,b){if(0===b.h()||0===b.i())return"#ffffff";switch(this.kg){case 0:return this.ui(a,b,p);case 1:return this.Kn(a,b);case 2:return this.ui(a,b,k);default:return"#ffffff"}},ui:function(a,b,c){var d,e,f,g;f=b.hs();var j;d=90<this.Qa?C.Bb(180-this.Qa):C.Bb(this.Qa);e=f.c-Math.max(b.i(),b.h())*Math.cos(d);g=f.b-Math.max(b.i(),b.h())*Math.sin(d);this.Fj(f.c,f.b,e,g,b.e,b.f,b.e,b.w)?(f=d,d=b.h()/2*Math.tan(f),d=b.i()/2-d,f=Math.PI/2-f,f=d*Math.cos(f),e=f*f/d,g=d-e,j=Math.sqrt(Math.max(0,
g*e)),d=b.e-j,f=b.f+g,e=b.s+j,g=b.w-g):this.Fj(f.c,f.b,e,g,b.e,b.f,b.s,b.f)?(f=d,d=b.i()/2/Math.tan(f),d=b.h()/2-d,f=Math.PI/2-f,f=Math.cos(f)*d,e=f*f/d,j=Math.sqrt(Math.max(0,(d-e)*e)),d=b.e+e,f=b.f-j,e=b.s-e,g=b.w+j):(d=b.e,f=b.f,e=b.s,g=b.w);90<this.Qa&&(d=b.s-(d-b.e),e=b.s-(e-b.e));a=a.createLinearGradient(d,f,e,g);a.addColorStop(0,this.ee);c?(a.addColorStop(0.45,this.nd),a.addColorStop(0.55,this.nd),a.addColorStop(1,this.ee)):a.addColorStop(1,this.nd);return a},Kn:function(a,b){var c=new z(b.e+
b.h()*this.Qn,b.f+b.i()*this.Rn),d=this.fp(b,c),c=a.createRadialGradient(c.c,c.b,0,c.c,c.b,d);c.addColorStop(0,this.ee);c.addColorStop(1,this.nd);return c},Fj:function(a,b,c,d,e,f,g,j){var n;n=(j-f)*(c-a)-(g-e)*(d-b);g=(g-e)*(b-f)-(j-f)*(a-e);a=(c-a)*(b-f)-(d-b)*(a-e);if(0===n)return g===a;b=g/n;n=a/n;return 0<=b&&1>=b&&0<=n&&1>=n},fp:function(a,b){var c=[],d,e;c[0]=this.fe(new z(a.e,a.f),b);c[1]=this.fe(new z(a.s,a.f),b);c[2]=this.fe(new z(a.s,a.w),b);c[3]=this.fe(new z(a.e,a.w),b);for(d=e=0;4>d;++d)e=
Math.max(e,c[d]);return Math.sqrt(e)},fe:function(a,b){return(a.c-b.c)*(a.c-b.c)+(a.b-b.b)*(a.b-b.b)}};var Ba;Ba=function(a){this.a=a;this.rd()};
Ba.prototype={rd:function(){var a=this.a.R.q.canvas,b=this;a.addEventListener("keydown",function(a){b.Mp(a)},p);a.addEventListener("keypress",function(a){b.Np(a)},p);a.addEventListener("keyup",function(a){b.Op(a)},p)},Np:function(a){var b=this.a.l,a=this.Vo(a);b!==l&&a!==l&&this.a.Sb(D.fm(b.V,a))},Mp:function(a){var b=this.pj(a),c=this.a.l;this.vi(a);c!==l&&b!==l&&this.a.Sb(D.Ch(E.wm,c.V,b.key,b.yb))},Op:function(a){var b=this.pj(a),c=this.a.l;this.vi(a);c!==l&&b!==l&&this.a.Sb(D.Ch(E.xm,c.V,b.key,
b.yb))},pj:function(a){var a=a?a:event,b=a.keyCode,c=0;if(16<=b&&18>=b)return l;a.shiftKey&&(c|=1);a.altKey&&(c|=2);a.ctrlKey&&(c|=4);return{key:b,yb:c}},Vo:function(a){var a=a?a:event,b=0;if(a.charCode)b=a.charCode;else if(a.which)b=a.which;if(0===b||a.altKey!==i&&a.altKey===k&&48<=b&&57>=b)return l;if(a.ctrlKey!==i&&a.ctrlKey||a.altKey!==i&&a.altKey)if(!(a.ctrlKey!==i&&a.ctrlKey)||!(a.altKey!==i&&a.altKey))return l;return String.fromCharCode(b)},vi:function(a){this.a.n!==l&&!this.a.n.DefaultKeyActions&&
a.preventDefault&&a.preventDefault()}};var Fa;Fa=function(a){this.a=a;this.te=p;this.ng=0;this.rd()};
Fa.prototype={Jl:s("te"),rt:s("ng"),rd:function(){var a=this.a.R.q.canvas,b=this;a.addEventListener("mouseup",function(a){b.Sp(a)},p);a.addEventListener("mousedown",function(a){b.Qp(a)},p);a.addEventListener("mousemove",function(a){b.Rp(a)},p);a.addEventListener("touchstart",function(a){b.wd(a)},k);a.addEventListener("touchmove",function(a){b.wd(a)},k);a.addEventListener("touchend",function(a){b.wd(a)},k)},bg:function(a,b){this.a.l!==l&&this.a.Sb(D.Dh(b,this.a.l.V,y.Wd(a)))},yj:function(a){return 1===
a.which},Sp:function(a){H.U()<this.ng||this.yj(a)&&this.bg(a,E.Ih)},Qp:function(a){!(H.U()<this.ng)&&this.yj(a)&&(this.a.us()&&this.a.Tg(this.a.n.CommitEditcontrolOnClickOut),this.a.kd.Hs(a),this.bg(a,E.Bf))},Rp:function(a){this.te||this.bg(a,E.Cf)},wd:function(a){if(this.a.n!==l&&this.a.n.HandleTouchEvents&&!this.a.n.TouchHandlingActive){var b,c=l;switch(a.type){case "touchstart":b=E.Bf;this.te=k;break;case "touchmove":b=E.Cf;break;case "touchend":b=E.Ih;this.te=p;break;default:return}a.touches&&
1<=a.touches.length?c=y.Xd(a.touches[0]):a.changedTouches&&1<=a.changedTouches.length&&(c=y.Xd(a.changedTouches[0]));c!==l&&(this.a.l!==l&&(b===E.Bf&&this.a.kd.Tt(c),this.a.Sb(D.Dh(b,this.a.l.V,c))),a.preventDefault())}}};var Na;Na=function(a,b,c){this.zc=a;this.eo=b;this.Yf=c;this.Oj=L.r(1E3)};Na.prototype={Gs:function(){return this.eo-this.Oj.size()},Tb:t("Oj"),finish:function(){this.Yf=0},cf:function(){return 0===this.Yf}};var Oa;Oa=s("a");
Oa.prototype={ft:function(){var a=this.a.za(),b=this.a.Ta();b.bu(this.a.l.V);a.Xa(b.Ua(),this,k)},Wa:q(),D:q()};var Pa;Pa=function(a,b,c,d){this.a=a;a=this.lj(b);c=this.lj(c);(a.width!==c.width||a.height!==c.height)&&h(Error("Expected two canvasses of the same size"));y.Hm(a,c);this.Ea=this.mj(a);this.q=this.mj(c);d&&this.al();this.ig=new Ua;this.ij=new Va(this.q);this.ri=new Va(this.Ea);this.Ce=p;this.tj=new Wa;this.og=new $a(this.a);this.Lg=new ab(this);this.Xf=p};
Pa.prototype={Jd:function(){return new M(0,0,this.Ea.canvas.width,this.Ea.canvas.height)},clear:function(){this.q.clearRect(0,0,this.q.canvas.width,this.q.canvas.height);this.Ea.fillStyle="#ffffff";this.Ea.fillRect(0,0,this.Ea.canvas.width,this.Ea.canvas.height)},gs:function(){var a=H.Kf(this.Ea.canvas);return new z(a.e,a.f)},getContext:function(){return this.Ce?this.Ea:this.q},z:function(){return this.Ce?this.ri:this.ij},Zs:function(){this.Ce=k},$s:function(){this.Ce=p},Dr:function(){this.Xf=k},
Yr:function(a,b){this.a.kd.Mt();this.ig.clear();this.q.save();this.ij.apply();this.ri.apply();var c=this.sq(a),d,e=p,f=this;for(d=0;d<c.length;++d)c[d]instanceof bb&&!c[d].xs(this.og,this.tj)&&(e=k),c[d]instanceof cb&&c[d].execute(this);this.On()?e?(WebvisuLogger.P("Waiting for image(s) to load"),this.og.tr(function(){WebvisuLogger.P("Loading image(s) finished so continue with drawing");f.Pi(c,b)})):this.Pi(c,b):b()},al:function(){this.Ea.canvas.width=this.q.canvas.width=window.innerWidth;this.Ea.canvas.height=
this.q.canvas.height=window.innerHeight},Pi:function(a,b){if(this.Xf)this.a.Ok(),this.Xf=p;var c,d,e=[];for(c=0;c<a.length;++c)d=a[c],d instanceof db?d.execute(this):d instanceof eb&&e.push(d);this.ig.rr(this.q);for(c=0;c<a.length;++c)d=a[c],!(d instanceof db)&&!(d instanceof eb)&&!(d instanceof cb)&&a[c].execute(this);this.q.restore();for(c=0;c<e.length;++c)e[c].execute(this);this.fq();this.a.kd.Wr(0===a.length);b()},On:function(){return this.a.xb===l||!this.a.xb.p.nl()},fq:function(){if(!this.a.l.Ud){if(this.cj===
i)this.cj=H.U();if(!(3E4>H.U()-this.cj)){this.q.save();var a=new M(this.q.canvas.width-160,10,this.q.canvas.width-10,50);this.q.strokeStyle="#808080";this.q.fillStyle="#c7c7c7";this.q.lineWidth=2;C.Gh(this.q,a.e,a.f,a.h(),a.i(),k,k);this.q.fillStyle="#ffffff";this.q.font="16px Arial";this.q.textAlign="center";this.q.textBaseline="middle";this.q.fillText("Demo Mode",a.e+a.h()/2,a.f+a.i()/2);this.q.restore()}}},sq:function(a){var b=Array(a.zc),c,d;if(0<a.zc){c=O.r(a.Tb().Tb(),this.a.l.sa,this.a.ca());
c=new gb(c);for(d=0;d<a.zc;++d)if(c.v()<c.size()-4){var e=c.v(),f=c.getUint32(),g=c.getUint32();b[d]=hb.gm(g,c,f,this);c.seek(e+f)}}return b},lj:function(a){var b=window.document.getElementById(a);b===l&&h(Error("Canvas "+a+" does not exist"));return b},mj:function(a){a=a.getContext("2d");a===l&&h(Error("Creating graphics context failed"));return a}};var Va;
Va=function(a){this.Fc=l;this.dg="#ffffff";this.rj=p;this.tg="#000000";this.qe=p;this.ug=0.5;this.mk="#000000";this.ub="12px Arial";this.gj=12;this.da=a;this.Bg=new z(0,0)};
Va.prototype={nt:function(a,b){this.dg=a;this.rj=b;this.da.fillStyle=this.dg},tt:function(a,b,c,d,e,f){this.ug=a;this.tg=b;this.qe=c;this.Gb=d;this.Hb=e;this.gd=f;this.da.strokeStyle=this.tg;this.da.lineWidth=Math.max(1,this.ug);this.da.lineCap=this.Gb;this.da.lineJoin=this.Hb;this.da.miterLimit=this.gd},Ht:function(a,b,c){this.ub=a;this.gj=b;this.mk=c;this.da.font=this.ub},apply:function(){this.da.fillStyle=this.dg;this.da.strokeStyle=this.tg;this.da.lineWidth=this.ug;this.da.font=this.ub;this.da.lineCap=
this.Gb;this.da.lineJoin=this.Hb;this.da.miterLimit=this.gd},gh:function(){return this.Fc===l?this.rj:this.Fc.pd},Ub:function(){return this.Fc!==l},pt:s("Fc"),nf:function(){this.Fc=l;this.apply()},Se:function(a){this.da.fillStyle=this.Fc.os(this.da,a)}};var ib;ib=q();ib.wn="3.5.4.0 (dev)";var jb;
jb=function(a,b,c){this.op();WebvisuLogger.info("Webvisualization starting");WebvisuLogger.info("Version: "+ib.wn);this.xb=this.Bd=l;this.Cg();this.R=new Pa(this,a,b,c);this.rd();this.Mu=new Ba(this);this.yg=new Fa(this);this.kd=new kb(this);this.pp(b);this.xa=l;this.ob=p;this.Ie=l;this.Sa=(new Configuration).ca();this.Ig("Loading Webvisualization");this.le=l;this.Le=-1;this.Bc=new lb(this);this.Yi()};window.Webvisu=jb;
jb.prototype={Yi:function(){var a=this.Bc;if(this.le!==l)this.Ra!==l&&this.Ra.push(this.le),this.le=l;this.Bc=l;try{a.execute()}catch(b){this.error("Unexpected Exception: "+b)}},Cg:function(){this.Ra=this.n=this.l=l;this.Qu=p;if(this.xb!==l)this.xb.Xg(),this.xb=l;this.xa&&this.Rg();this.Bd!==l&&this.Bd.detach();WebvisuExtensionMgr.Qr()},rd:function(){var a=this;window.addEventListener("unload",function(b){a.Pp(b)},p)},pp:function(a){var b="WebvisuAutotestInst";window[b]=new WebvisuAutotest(this,a);
window.WebvisuAutotest_raiseMouse=window[b].raiseMouse;window.WebvisuAutotest_raiseKey=window[b].raiseKey;b="WebvisuExtensionMgr";window[b]=WebvisuExtensionMgr;window.WebvisuExtensionMgr_register=window[b].register;window.WebvisuExtensionMgr_openControlRelative=window[b].openControlRelative},op:function(){WebvisuLogger=x.dh();var a=window.document.getElementById("WebvisuLoggingElem");a!==l?(a=new x.Gm(a),a.At(),a.qf(p),a.mh(100)):(a=new x.am,a.It());WebvisuLogger.xk(a);WebvisuLogger.ib(x.Cb.mc)},
Ig:function(a){this.Ie!==l&&this.Ok();this.Ie=new mb(a,this.R)},Ok:function(){this.Ie.close();this.Ie=l},za:function(){return new nb(this)},Ta:function(){return this.l===l?new ob(k,43981):new ob(this.l.sa,this.l.Fh)},Hl:function(a){"TRACE"===a.LogLevel?WebvisuLogger.ib(x.Cb.Rf):"DEBUG"===a.LogLevel?WebvisuLogger.ib(x.Cb.Zc):"INFO"===a.LogLevel?WebvisuLogger.ib(x.Cb.mc):"WARNING"===a.LogLevel?WebvisuLogger.ib(x.Cb.Iu):"ERROR"===a.LogLevel?WebvisuLogger.ib(x.Cb.$c):"FATAL"===a.LogLevel?WebvisuLogger.ib(x.Cb.Lh):
WebvisuLogger.warn("Unexpected loglevel: "+a.LogLevel);this.n=a;this.Sa=a.ca();if(this.n.TouchHandlingActive)this.xb=new pb(this);if(this.n.BestFit&&!this.n.WorkaroundDisableResizeHandling){if(this.Bd===l)this.Bd=new qb(this);this.Bd.sr()}},ca:t("Sa"),it:s("l"),Os:function(a,b){this.xa=a;this.ob=b;var c=this;this.xa.addEventListener("keydown",function(a){c.Bo(a)},p);window.document.body.appendChild(this.xa)},us:function(){return this.xa!==l},Rg:function(){this.xa!==l&&window.document.body.removeChild(this.xa);
this.xa=l},Y:function(a,b){this.Bc=a;0>=b&&(b=0);this.gk(b)},mt:s("le"),Mq:s("Bc"),error:function(a){WebvisuLogger.error(a);a=this.n!==l?this.n.ErrorReconnectTime:1E4;WebvisuLogger.info("Will restart in "+a+"ms");this.Cg();this.Bq();this.Ig("An error happened; will automatically restart");this.Y(new rb(this),a)},Es:function(){this.Sl("The webvisualization license expired.","License Expired")},Sl:function(a,b){WebvisuLogger.warn(a+" Webvisualization is stopped");this.Ig(b);this.Cg();this.Mq(new rb(this))},
lt:s("Ra"),gk:function(a){var b=this;this.Le=window.setTimeout(function(){b.Yi()},a)},Sb:function(a){this.Ra!==l&&(this.Ra.push(a),this.Bc!==l&&this.Bc.Mk()&&(clearTimeout(this.Le),this.gk(0)))},Tg:function(a){var b,c,d;c=H.Kf(this.xa);b=this.xa.value.length+1;this.ob&&(b*=2);d=L.r(b);P.r(d,this.l.sa).Qb(this.xa.value,this.ob);b=new D(E.um,this.l.V,a?this.ob?3:1:2,0);b.Ya(d);b.Xb=c.ol(4);this.Ra.push(b);a||this.Rg()},Pp:function(){this.l!==l&&(new Oa(this)).ft()},Bo:function(a){this.xa!==l&&(27===
a.keyCode?(a.preventDefault(),a.stopPropagation(),this.Tg(p)):13===a.keyCode&&this.Tg(k))},Bq:function(){var a=this.R.q,b;for(b=0;20>b;++b)a.restore()}};var WebvisuAutotest;WebvisuAutotest=function(a,b){this.a=a;this.xi=b};
WebvisuAutotest.prototype={raiseMouse:function(a,b,c){var d,e,f=window.document.getElementById(this.xi),g;d="mousemove"!==a;e=window;g=window.document.createEvent("MouseEvents");g.initMouseEvent(a,k,d,e,0,b,c,b,c,p,p,p,p,0,f);Object.defineProperty(g,"layerX",{value:b});Object.defineProperty(g,"layerY",{value:c});g.button=1;g.which=1;f.dispatchEvent(g)},raiseKey:function(a,b,c,d,e){var f=this.a.xa;f!==l?13===b||27===b?this.Yj(f,a,b,c,d,e):this.rq(f,b,a,c):this.Yj(window.document.getElementById(this.xi),
a,b,c,d,e)},rq:function(a,b,c,d){if("keypress"===c){var c=a.selectionStart,e=a.selectionEnd,b=String.fromCharCode(b);d||(b=b.toLowerCase());a.value=a.value.substr(0,c)+b+a.value.substr(e);c===e&&this.Uo(a);this.Lq(a,c+1)}},Lq:function(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(k);c.moveEnd("character",b);c.moveStart("character",b);c.select()}},Uo:function(a){var b=0;if(document.selection)a.focus(),b=document.selection.createRange(),
b.moveStart("character",-a.value.length),b=b.text.length;else if(a.selectionStart||"0"==a.selectionStart)b=a.selectionStart;return b},Yj:function(a,b,c,d,e,f){var g;window.document.createEventObject!==i?(g=document.createEvent("Events"),g.initEvent(b,k,k),g.which=c,g.keyCode=c,g.shiftKey=d,g.ctrlKey=f,g.altKey=e,g.metaKey=p):(g=window.document.createEvent("KeyboardEvent"),g.initKeyboardEvent===i?g.initKeyEvent(b,k,k,l,f,e,d,p,c,c,c,a):g.initKeyboardEvent(b,k,k,l,f,e,d,p,c,c,c,a),delete g.keyCode,
Object.defineProperty(g,"keyCode",{value:c}),delete g.charCode,Object.defineProperty(g,"charCode",{value:c}),delete g.shiftKey,Object.defineProperty(g,"shiftKey",{value:d}),delete g.ctrlKey,Object.defineProperty(g,"ctrlKey",{value:f}),delete g.altKey,Object.defineProperty(g,"altKey",{value:e}),delete g.metaKey,Object.defineProperty(g,"metaKey",{value:p}),delete g.which,Object.defineProperty(g,"which",{value:c}),delete g.target,Object.defineProperty(g,"target",{value:a}));a.dispatchEvent(g)}};var WebvisuExtensionMgr;
(function(){var a;a=function(){this.cg=[];this.uc={}};a.prototype={register:function(a){a===l&&h(Error("null value not expected"));"function"!==typeof a.instantiateIf&&h(Error("function instantiateIf of extensionFactory expected"));this.cg.push(a)},openControlRelative:function(a,c,d,e,f,g){a===l&&h(Error("null value not expected"));"number"!==typeof c&&h(new TypeError("Expected numeric value"));"number"!==typeof d&&h(new TypeError("Expected numeric value"));"number"!==typeof e&&h(new TypeError("Expected numeric value"));
"number"!==typeof f&&h(new TypeError("Expected numeric value"));g===l&&h(Error("null value not expected"));c=new M(c,d,c+e,d+f);d=H.Kf(g);c=c.Vb(d.e,d.f);H.Jf(a,c);a.style.zIndex=300;g.parentNode.appendChild(a)},Ut:function(a){var c;for(c=0;c<this.cg.length;++c){var d=this.cg[c].instantiateIf(a);if(d!==l&&d!==i){if(this.gr(d))return d;break}}return l},Qr:function(){var a;for(a=0;a<this.uc.length;++a)this.uc[a]&&this.Yk(a);this.uc=[]},Lr:function(a,c,d,e){a.create(d.e,d.f,d.h(),d.i(),e);this.uc[c]=
a},Yk:function(a){var c=this.pe(a);c!==l&&(c.destroy(),delete this.uc[a])},Kr:function(a,c){var d=this.pe(a);d!==l&&d.setVisibility(c)},Jr:function(a,c){var d=this.pe(a);d!==l&&d.move(c.e,c.f,c.h(),c.i())},Ir:function(a,c,d){a=this.pe(a);return a===l?l:a.invoke(c,d)},pe:function(a){var c=this.uc[a];return!c?(WebvisuLogger.warn("Not existing extension with id "+a+" accessed; ignored"),l):c},gr:function(a){return!this.ld(a,"create")||!this.ld(a,"setVisibility")||!this.ld(a,"move")||!this.ld(a,"invoke")||
!this.ld(a,"destroy")?p:k},ld:function(a,c){return"function"!==typeof a[c]?(WebvisuLogger.warn("Extension object is missing an implementation of '"+c+"'"),p):k}};WebvisuExtensionMgr=new a})();var L;L=function(a){a===i&&(a=10);this.o=new ArrayBuffer(a);this.pb=new Uint8Array(this.o);this.T=0};L.r=function(a){return y.fd()?new sb:new L(a)};
L.prototype={Cq:function(){this.bk(this.Hp(this.o.byteLength))},bk:function(a){var b=this.pb;this.o=new ArrayBuffer(a);this.pb=new Uint8Array(this.o);for(a=0;a<this.T;++a)this.pb[a]=b[a]},Hp:function(a){return 500>a?2*a:Math.floor(1.3*a)},Ee:function(a,b){this.pb[a]=b},Cl:function(a){a>this.o.byteLength&&this.bk(a)},Ak:function(a){this.T>=this.o.byteLength&&this.Cq();var b=this.T;this.T++;this.Ee(b,a)},Fk:function(a,b,c){var d=new Uint8Array(a),e;this.Cl(this.size()+c);if(200<c&&0===b%4&&0===this.T%
4&&!y.Xm()){var f=Math.floor(c/4);e=Math.floor(this.T/4);var a=new Uint32Array(a,4*Math.floor(b/4),f),g=new Uint32Array(this.o,4*e,f),j=c-4*f;for(e=0;e<f;++e)g[e]=a[e];for(e=0;e<j;++e)this.pb[this.T+e+4*f]=d[b+e+4*f]}else for(e=0;e<c;++e)this.pb[this.T+e]=d[b+e];this.T+=c},lh:function(a,b){this.Ee(a,b)},el:function(a){return this.pb[a]},size:t("T"),Tb:function(){var a=new ArrayBuffer(this.T),b=new Uint8Array(this.o),c,d=new Uint8Array(a);for(c=0;c<this.T;++c)d[c]=b[c];return a}};var sb;
(function(){function a(a){return String.fromCharCode((a>>4)+65)+String.fromCharCode((a&15)+65)}sb=function(){this.o="";this.T=0};sb.prototype={Ee:function(b,c){var d=l,e=l,f;0<b&&(d=this.o.substr(0,2*b));b<this.T-1&&(e=this.o.substr(2*b+2,this.o.length-2*b-2));f="";d!==l&&(f=d);f=f.concat(a(c));e!==l&&(f=f.concat(e));this.o=f},Cl:q(),Ak:function(b){this.o=this.o.concat(a(b));this.T++},qr:function(b){var c="",d;for(d=0;d<b.length;++d)c=c.concat(a(b.charCodeAt(d)));this.o=this.o.concat(c);this.T+=c.length/
2},Fk:function(a,c,d){this.o=this.o.concat(a.substr(2*c,2*d));this.T+=d},lh:function(a,c){this.Ee(a,c)},el:function(a){return this.o.charCodeAt(2*a)-65<<4|this.o.charCodeAt(2*a+1)-65},size:t("T"),Tb:t("o")}})();var O;
(function(){function a(a,b,c){return function(){if(0===this.d%c&&(1===c||this.F))try{return(new a[b+"Array"](this.o,this.d,1))[0]}catch(d){}return l}}function b(a,b){return function(){var c=this["getOptimized"+a]();c===l&&(c=this["_get"+a]());this.d+=b;return c}}function c(c,d){O.prototype["getOptimized"+c]=a(this,c,d);O.prototype["get"+c]=b(c,d)}O=function(a,b,c,d,e){a instanceof ArrayBuffer||h(new TypeError("BinaryReader requires an ArrayBuffer"));b===i&&h(Error("Byteorder must be explicitly assigned"));
c===i&&(c=(new Configuration).ca());d===i&&(d=0);if(e===i)e=a.byteLength;c instanceof ba||h(new TypeError("BinaryReader requires a TextDecoder"));0>d&&h(Error("Invalid start offset"));(0===e||d+e>a.byteLength)&&h(Error("Valid data range exceeded"));this.F=b;this.Jb=e;this.o=a;this.d=d;this.pb=new Uint8Array(this.o);this.Sa=c;this.k=new tb(this,this.F)};O.r=function(a,b,c,d,e){return y.km()?new ub(a,b,c,d,e):y.fd()?new yb(a,b,c,d,e):new O(a,b,c,d,e)};O.prototype={Rc:t("F"),Yc:t("Sa"),getString:function(a,
b){var c=a*(b?2:1),d;(0>a||this.d+c>this.o.byteLength)&&h(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=this.k.Al(this.o,this.d,a,c,b,this.Sa);this.d+=c;return d},zb:function(a){return this.k.zb(a)},Pc:function(){return String.fromCharCode(this.getUint8())},hc:function(){return this.d>=this.Jb},v:t("d"),seek:s("d"),size:t("Jb"),ap:function(){return this.k.Sk()},$o:function(){return this.k.Rk()},cp:function(){return this.k.Uk()},ip:function(){return this.k.Wg()},bp:function(){return this.k.Tk()},hp:function(){return this.k.Vg()},
dp:function(){return this.k.Vk()},C:function(a){return this.pb[a]},getUint8:function(){var a=this.C(this.d);this.d++;return a},Id:t("o")};var d={Int8:1,Int16:2,Int32:4,Uint16:2,Uint32:4,Float32:4,Float64:8},e,f;for(e in d)if(d.hasOwnProperty(e))c(e,d[e]),f="_getFloat64",O.prototype[f]=O.prototype.ap,f="_getFloat32",O.prototype[f]=O.prototype.$o,f="_getInt32",O.prototype[f]=O.prototype.cp,f="_getUint32",O.prototype[f]=O.prototype.ip,f="_getInt16",O.prototype[f]=O.prototype.bp,f="_getUint16",O.prototype[f]=
O.prototype.hp,f="_getInt8",O.prototype[f]=O.prototype.dp})();var gb;gb=s("k");
gb.prototype={Rc:function(){return this.k.Rc()},Yc:function(){return this.k.Yc()},getString:function(a,b){return this.k.getString(a,b)},zb:function(a){return this.k.zb(a)},Pc:function(){return this.k.Pc()},hc:function(){return this.k.hc()},v:function(){return this.k.v()},seek:function(a){this.k.seek(a)},size:function(){return this.k.size()},getFloat64:function(){this.vc(8);return this.k.getFloat64()},getFloat32:function(){this.vc(4);return this.k.getFloat32()},getInt32:function(){this.vc(4);return this.k.getInt32()},
getUint32:function(){this.vc(4);return this.k.getUint32()},getInt16:function(){this.vc(2);return this.k.getInt16()},getUint16:function(){this.vc(2);return this.k.getUint16()},getInt8:function(){return this.k.getInt8()},getUint8:function(){return this.k.getUint8()},C:function(a){return this.k.C(a)},Id:function(){return this.k.Id()},vc:function(a){var b=this.k.v();8!==a&&4!==a&&2!==a||0===b%a||this.k.seek(b+a-b%a)}};var ub;
ub=function(a,b,c,d,e){a instanceof ArrayBuffer||h(new TypeError("BinaryReader_DataView requires an ArrayBuffer"));b===i&&h(Error("Byteorder must be explicitly assigned"));c===i&&(c=(new Configuration).ca());d===i&&(d=0);if(e===i)e=a.byteLength;c instanceof ba||h(new TypeError("BinaryReader_DataView requires a TextDecoder"));0>d&&h(Error("Invalid start offset"));(0===e||d+e>a.byteLength)&&h(Error("Valid data range exceeded"));this.F=b;this.Nb=new DataView(a,0,e+d);this.Jb=e;this.o=a;this.d=d;this.Sa=
c;this.k=new tb(this,this.F)};
ub.prototype={Rc:t("F"),Yc:t("Sa"),getString:function(a,b){var c=a*(b?2:1),d;(0>a||2*(this.d+c)>this.o.length)&&h(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=this.k.Al(this.o,this.d,a,c,b,this.Sa);this.d+=c;return d},zb:function(a){return this.k.zb(a)},Pc:function(){return String.fromCharCode(this.getUint8())},hc:function(){return this.d>=this.Jb},v:t("d"),seek:s("d"),size:t("Jb"),getFloat64:function(){var a=this.Nb.getFloat64(this.d,this.F);this.d+=8;return a},getFloat32:function(){var a=this.Nb.getFloat32(this.d,
this.F);this.d+=4;return a},getInt32:function(){var a=this.Nb.getInt32(this.d,this.F);this.d+=4;return a},getUint32:function(){var a=this.Nb.getUint32(this.d,this.F);this.d+=4;return a},getInt16:function(){var a=this.Nb.getInt16(this.d,this.F);this.d+=2;return a},getUint16:function(){var a=this.Nb.getUint16(this.d,this.F);this.d+=2;return a},getInt8:function(){var a=this.Nb.getInt8(this.d);this.d++;return a},getUint8:function(){var a=this.C(this.d);this.d++;return a},C:function(a){return this.Nb.getUint8(a)},
Id:t("o")};var yb;yb=function(a,b,c,d,e){"string"!==typeof a&&h(new TypeError("BinaryReader_StringBased expects a string"));b===i&&h(Error("Byteorder must be explicitly assigned"));c===i&&(c=(new Configuration).ca());d===i&&(d=0);e===i&&(e=a.length/2);c instanceof ba||h(new TypeError("BinaryReader requires a TextDecoder"));0>d&&h(Error("Invalid start offset"));(0===e||d+e>a.length/2)&&h(Error("Valid data range exceeded"));this.F=b;this.Jb=e;this.o=a;this.d=d;this.Sa=c;this.k=new tb(this,b)};
yb.prototype={Rc:t("F"),Yc:t("Sa"),getString:function(a,b){var c=a*(b?2:1),d,e;(0>a||2*(this.d+c)>this.o.length)&&h(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=Array(a);if(b){var f;if(this.F)for(e=0;e<a;++e)f=2*e+this.d,d[e]=(this.C(f+1)<<8)+this.C(f);else for(e=0;e<a;++e)f=2*e+this.d,d[e]=this.C(f+1)+(this.C(f)<<8);d=String.fromCharCode.apply(l,d)}else{for(e=this.d;e<this.d+a;++e)d[e-this.d]=this.C(e);d=this.Sa.Or(d)}this.d+=c;return d},zb:function(a){return this.k.zb(a)},Pc:function(){return String.fromCharCode(this.getUint8())},
hc:function(){return this.d>=this.Jb},v:t("d"),seek:s("d"),size:t("Jb"),getFloat64:function(){var a=this.k.Sk();this.d+=8;return a},getFloat32:function(){var a=this.k.Rk();this.d+=4;return a},getInt32:function(){var a=this.k.Uk();this.d+=4;return a},getUint32:function(){var a=this.k.Wg();this.d+=4;return a},getInt16:function(){var a=this.k.Tk();this.d+=2;return a},getUint16:function(){var a=this.k.Vg();this.d+=2;return a},getInt8:function(){var a=this.k.Vk();this.d++;return a},getUint8:function(){var a=
this.C(this.d);this.d++;return a},C:function(a){return this.o.charCodeAt(2*a)-65<<4|this.o.charCodeAt(2*a+1)-65},Id:t("o")};var tb;tb=function(a,b){this.A=a;this.F=b};
tb.prototype={zb:function(a){var b=this.A.v(),c=0;if(a)for(;0!==this.A.getUint16();)c++;else for(;0!==this.A.getUint8();)c++;this.A.seek(b);b=this.A.getString(c,a);a?this.A.getUint16():this.A.getUint8();return b},Sk:function(){var a=this.A.v(),b=this.A.C(this.aa(a,0,8)),c=this.A.C(this.aa(a,1,8)),d=this.A.C(this.aa(a,2,8)),e=this.A.C(this.aa(a,3,8)),f=this.A.C(this.aa(a,4,8)),g=this.A.C(this.aa(a,5,8)),j=this.A.C(this.aa(a,6,8)),n=this.A.C(this.aa(a,7,8)),a=1-2*(b>>7),b=((b<<1&255)<<3|c>>4)-(Math.pow(2,
10)-1),c=(c&15)*Math.pow(2,48)+d*Math.pow(2,40)+e*Math.pow(2,32)+f*Math.pow(2,24)+g*Math.pow(2,16)+j*Math.pow(2,8)+n;return 1024===b?0!==c?NaN:Infinity*a:-1023===b?a*c*Math.pow(2,-1074):a*(1+c*Math.pow(2,-52))*Math.pow(2,b)},Rk:function(){var a=this.A.v(),b=this.A.C(this.aa(a,0,4)),c=this.A.C(this.aa(a,1,4)),d=this.A.C(this.aa(a,2,4)),e=this.A.C(this.aa(a,3,4)),a=1-2*(b>>7),b=(b<<1&255|c>>7)-127,c=(c&127)<<16|d<<8|e;return 128===b?0!==c?NaN:Infinity*a:-127===b?a*c*Math.pow(2,-149):a*(1+c*Math.pow(2,
-23))*Math.pow(2,b)},Uk:function(){var a=this.Wg();return a>Math.pow(2,31)-1?a-Math.pow(2,32):a},Wg:function(){var a=this.A.v(),b=this.A.C(this.aa(a,0,4)),c=this.A.C(this.aa(a,1,4)),d=this.A.C(this.aa(a,2,4)),a=this.A.C(this.aa(a,3,4));return b*Math.pow(2,24)+(c<<16)+(d<<8)+a},Tk:function(){var a=this.Vg();return a>Math.pow(2,15)-1?a-Math.pow(2,16):a},Vg:function(){var a=this.A.v(),b=this.A.C(this.aa(a,0,2)),a=this.A.C(this.aa(a,1,2));return(b<<8)+a},Vk:function(){var a=this.A.C(this.A.v());return a>
Math.pow(2,7)-1?a-Math.pow(2,8):a},Al:function(a,b,c,d,e,f){var g=l;if(e){if(this.F&&0===b%2)try{g=new Int16Array(a,b,c)}catch(j){}if(g===l)if(g=new Int16Array(Array(c)),b=new Uint8Array(a,b,d),this.F)for(a=0;a<c;++a)g[a]=(b[2*a+1]<<8)+b[2*a];else for(a=0;a<c;++a)g[a]=b[2*a+1]+(b[2*a]<<8);b=[];for(a=0;a<c;++a)b[a]=g[a];return String.fromCharCode.apply(l,b)}g=new Int8Array(a,b,c);return f.Ug(g)},aa:function(a,b,c){return a+(this.F?c-b-1:b)}};var P;
P=function(a,b){a instanceof L||h(new TypeError("BinaryWriter expects a BinaryBuffer"));b===i&&h(Error("Byteorder must be explicitly assigned"));this.ac=a;this.F=b;this.wa=-1};P.r=function(a,b){return y.fd()?new zb(a,b):new P(a,b)};
P.prototype={Vq:function(a){var b=a.length/2,c,d;1!==b&&2!==b&&4!==b&&h(Error("Unexpected size for swapping"));for(d=0;d<b;++d)c=a[d],a[d]=a[a.length-d-1],a[a.length-d-1]=c},$b:function(a,b,c){var d=new ArrayBuffer(c),b=new b(d),d=new Uint8Array(d);b[0]=a;1<c&&!this.F&&this.Vq(d,c);for(a=0;a<c;++a)this.pi(d[a])},pi:function(a){-1!==this.wa?(this.ac.lh(this.wa,a),this.wa++):this.ac.Ak(a)},seek:s("wa"),v:function(){return-1!==this.wa?this.wa:this.ac.size()},Re:function(a){var b=[204,221],c;for(c=0;c<
a;++c)this.W(b[c%2])},W:function(a){this.pi(a)},Ek:function(a){this.$b(a,Int8Array,1)},$:function(a){this.$b(a,Uint16Array,2)},Ka:function(a){this.$b(a,Int16Array,2)},B:function(a){this.$b(a,Uint32Array,4)},Dk:function(a){this.$b(a,Int32Array,4)},Bk:function(a){this.$b(a,Float32Array,4)},Ck:function(a){this.$b(a,Float64Array,8)},Pb:function(a,b){this.hd(a,b,p)},Qb:function(a,b){this.hd(a,b,k)},hd:function(a,b,c){for(var d=0;d<a.length;++d){var e=a.charCodeAt(d);b?this.$(e):128>e?this.W(e):this.W(63)}c&&
(b?this.$(0):this.W(0))}};var zb;zb=function(a,b){a instanceof sb||h(new TypeError("BinaryWriter expects a BinaryBuffer_StringBased"));b===i&&h(Error("Byteorder must be explicitly assigned"));this.ac=a;this.F=b;this.wa=-1};
zb.prototype={Ib:function(a){if(-1!==this.wa)for(var b=0;b<a.length;++b)this.ac.lh(this.wa,a.charCodeAt(b)&255),this.wa++;else this.ac.qr(a)},seek:s("wa"),v:function(){return-1!==this.wa?this.wa:this.ac.size()},Re:function(a){var b=[204,221],c;for(c=0;c<a;++c)this.W(b[c%2])},W:function(a){this.Ib(this.Ec(a,8,p))},Ek:function(a){this.Ib(this.Ec(a,8,k))},$:function(a){this.Ib(this.Ec(a,16,p))},Ka:function(a){this.Ib(this.Ec(a,16,k))},B:function(a){this.Ib(this.Ec(a,32,p))},Dk:function(a){this.Ib(this.Ec(a,
32,k))},Bk:function(a){this.Ib(this.Vi(a,23,8))},Ck:function(a){this.Ib(this.Vi(a,52,11))},Pb:function(a,b){this.hd(a,b,p)},Qb:function(a,b){this.hd(a,b,k)},hd:function(a,b,c){for(var d=0;d<a.length;++d){var e=a.charCodeAt(d);b?this.$(e):128>e?this.W(e):this.W(63)}c&&(b?this.$(0):this.W(0))},Vi:function(a,b,c){var d=Math.pow(2,c-1)-1,e=-d+1,f=e-b,g=parseFloat(a),j=isNaN(g)||-Infinity==g||Infinity==g?g:0,n=0,m=2*d+1+b+3,a=Array(m),v=0>(g=0!==j?0:g),J=Math.floor(g=Math.abs(g)),G=g-J,K=[],r;for(r=m;r;a[--r]=
0);for(r=d+2;J&&r;a[--r]=J%2,J=Math.floor(J/2));for(r=d+1;0<G&&r;(a[++r]=(1<=(G*=2))-0)&&--G);for(r=-1;++r<m&&!a[r];);if(a[(K=b-1+(r=(n=d+1-r)>=e&&n<=d?r+1:d+1-(n=e-1)))+1]){if(!(g=a[K]))for(G=K+2;!g&&G<m;g=a[G++]);for(G=K+1;g&&0<=--G;(a[G]=!a[G]-0)&&(g=0));}for(r=0>r-2?-1:r-3;++r<m&&!a[r];);(n=d+1-r)>=e&&n<=d?++r:n<e&&(n!=d+1-m&&n<f&&this.warn("encodeFloat::float underflow"),r=d+1-(n=e-1));if(J||0!==j)this.warn(J?"encodeFloat::float overflow":"encodeFloat::"+j),n=d+1,r=d+2,-Infinity==j?v=1:isNaN(j)&&
(a[r]=1);for(g=Math.abs(n+d),G=c+1,c="";--G;c=g%2+c,g=g>>=1);for(g=0,G=0,r=(c=(v?"1":"0")+c+a.slice(r,r+b).join("")).length,K=[];r;G=(G+1)%8)g+=(1<<G)*c.charAt(--r),7==G&&(K[K.length]=String.fromCharCode(g),g=0);K[K.length]=g?String.fromCharCode(g):"";return(this.F?K:K.reverse()).join("")},Ec:function(a,b,c){var d=[],e=Math.pow(2,b);if(c){if(c=-Math.pow(2,b-1),a>-c-1||a<c)this.wk("encodeInt::overflow"),a=0}else if(a>e||0>a)this.wk("encodeInt::overflow"),a=0;for(0>a&&(a+=e);a;a=Math.floor(a/256))d[d.length]=
String.fromCharCode(a%256);for(b=-(-b>>3)-d.length;b;b--)d[d.length]=String.fromCharCode(0);return(this.F?d:d.reverse()).join("")},wk:function(a){h(Error(a))}};var Ab;Ab=function(a,b,c,d,e){this.k=O.r(a,b,c,d,e)};Ab.prototype={Qc:function(){var a,b=0,c=0;do a=this.k.getUint8(),b|=(a&127)<<c,c+=7;while(0!==(a&128));return b}};var Bb;Bb=function(a,b){this.wc=P.r(a,b)};
Bb.prototype={H:function(a,b){var c,d,e;c=b!==i?b:this.ep(a);0===c&&h(Error("Expected value for MBui greater then zero"));d=a;for(e=0;e<c-1;e++)this.wc.W(d&127|128),d>>=7;this.wc.W(d&127);0!==d>>7&&h(Error("Value "+a+" cannot be written as an MBUI with "+c+" bytes"))},ep:function(a){var b=0;do a>>=7,b++;while(0<a);return b}};var Cb;Cb=function(a,b,c,d){this.Vh=a;this.Zd=b;this.hm=c;this.cm=d};var nb;nb=function(a){this.Q=new XMLHttpRequest;this.a=a};
nb.prototype={Xa:function(a,b,c){c===i&&(c=p);this.qb=b;var b="/WebVisuV3.bin",d=this;y.ws()&&(b+="?"+H.U());this.Q.open("POST",b,!c);if(!c&&!y.fd())this.Q.responseType="arraybuffer";if(!c)this.Q.onreadystatechange=function(){d.Ms()};y.Ym()?this.Q.send(a):(c=new MozBlobBuilder,c.append(a),this.Q.send(c.getBlob()))},sl:function(a,b){this.qb=b;this.Q.open("GET",a,k);var c=this;this.Q.onreadystatechange=function(){c.Ls(a)};this.Q.send()},Ls:function(a){4==this.Q.readyState&&(200==this.Q.status||"OK"==
this.Q.status?this.qb.bl(this.Q.responseText):this.qb.D("Loading file '"+a+"' failed: "+this.Q.status))},Ms:function(){if(4==this.Q.readyState)if(200==this.Q.status||"OK"==this.Q.status){this.Q.onreadystatechange=l;var a;y.fd()?(a=this.Q.responseText,""===a&&(a=l)):(a=this.Q.response,a instanceof ArrayBuffer&&0===a.byteLength&&(a=l));try{a!==l||this.Eo()?this.qb.Wa(a):this.qb.D("Sending service failed, server not available?")}catch(b){this.qb.D("Unexpected exception while evaluating comm result"+
b)}}else 4E3===this.Q.status?this.a.Es():0===this.Q.status?this.qb.D("Sending service aborted"):this.qb.D("Sending service failed, status: "+this.Q.status)},Eo:function(){return"function"!==typeof this.qb.$k?p:k}};var Q;Q=q();Q.Xh=65407;Q.Yh=1;Q.Wh=2;Q.dn=130;Q.en=32;Q.fn=33;Q.di=34;Q.ci=35;Q.bn=129;Q.gn=16;Q.cn=17;Q.Db=4;Q.$h=1;Q.Wm=2;Q.Zh=3;Q.Lf=4;Q.yu=5;Q.Vm=6;Q.hn=1;Q.Eu=1;Q.jn=3;Q.Qf=132;Q.pn=1;Q.kn=2;Q.qn=3;Q.ln=4;Q.rn=2;Q.mn=3;Q.nn=4;Q.on=1;Q.sn=134;Q.tn=2;Q.Ah=0;Q.bm=1;var Db;
Db=function(a,b,c){this.Fg=a;this.Gg=b;this.ek=c;this.De=0};Db.Ss=function(a){var b=a.getUint16(),c;52565!=b&&h(Error("Unsupported protocol: "+b));this.od=a.getUint16();12>this.od&&h(Error("Unsupported length of header: "+this.od));this.Fg=a.getUint16();this.Gg=a.getUint16();this.ek=a.getUint32();this.De=a.getUint32();b=this.od-12;16<=this.od&&(a.getUint16(),b-=2);for(c=0;c<b;++c)a.getUint8();return this};Db.Tm=4;Db.Um=20;Db.yn=16;
Db.prototype={write:function(a,b){a.$(52565);a.$(Db.yn);a.$(this.Fg);a.$(this.Gg);a.B(this.ek);a.B(b);a.$(0);a.$(0)}};var Eb;Eb=function(a,b,c){this.dc=new Ab(a,b,c);this.I=this.dc.k};
Eb.prototype={zl:function(){try{if("|"!=this.I.Pc())return"Unexpected format of service: 1";var a=this.ok();return 4>a.length?"Unexpected format of service: 2":new oa(parseInt(a[0],10),0===parseInt(a[1],10),parseInt(a[2],10),"true"!==a[3])}catch(b){return"Exception during readOpenConnectionResult: "+b}},Us:function(){var a=this.ok(),b;for(b=0;b<a.length;++b)if(0===a[b].indexOf("IPv4:"))return a[b].substr(5);return""},ok:function(){for(var a=[],b="";!this.I.hc();){var c=this.I.Pc();"|"==c?(a.push(b),
b=""):b+=c}return a},Be:function(a,b){for(var c=this.I.v()+a;this.I.v()<c;){var d=this.dc.Qc(),e=this.dc.Qc(),d=b[d],f=this.I.v();"function"===typeof d&&d(this,e);d=this.I.v()-f;d<e&&this.Qq(e-d)}},Ts:function(){try{var a=this.Ae(Q.Yh,Q.Wh),b=0,c=0,d=0,e=Q.Ah,f={};f[Q.dn]=function(a,d){var e={};e[Q.en]=function(a){b=a.I.getUint16()};e[Q.fn]=function(a){c=a.I.getUint32()};a.Be(d,e)};f[Q.di]=function(a){e=a.I.getUint32()};f[Q.ci]=function(a){d=a.I.getUint32()};this.Be(a.De,f);return new Cb(b,c,e,d)}catch(g){return"Exception during readDeviceLoginResult: "+
g}},Ws:function(){try{for(this.Ae(Q.Db,Q.$h);!this.I.hc();){var a=this.dc.Qc(),b;this.dc.Qc();if(a===Q.Xh)return"Visu not supported by the plc";b=this.I.getUint32();return 2952790016>b?b:4294967292===b?"No more memory on the plc":4294967293===b?"Connection to invalid application":"Unknown error"}return"Unexpected format of service: 4"}catch(c){return"Exception during readVisuRegisterClientResult: "+c}},Vs:function(){try{for(this.Ae(Q.Db,Q.Zh);!this.I.hc();){var a=this.dc.Qc(),b;this.dc.Qc();if(a===
Q.Xh)return"Visu not supported by the plc";b=this.I.getUint32();return 0===b||1===b?b:2===b?"Client registration failed":3===b?"Client registration failed due to an invalid external id":"Unknown error"}return"Unexpected format of service: 5"}catch(c){return"Exception during readVisuIsRegisteredClientResult: "+c}},mf:function(a){try{var b=this.Ae(Q.Db,Q.Lf),c=0,d=a,a={};a[Q.Qf]=function(a,b){var e={};e[Q.rn]=function(a){a.I.getUint32();var b=a.I.getUint32(),c=a.I.getUint32(),a=a.I.getUint32();d=new Na(b,
c,a)};e[Q.nn]=function(){d.finish()};e[Q.on]=function(a){c=a.I.getUint32()};e[Q.mn]=function(a,b){d.Tb().Fk(a.I.Id(),a.I.v(),Math.min(b,d.Gs()))};a.Be(b,e)};this.Be(b.De,a);return 0!==c?65535===c?"Client id not or no longer valid":c.toString():d===l?"Unexpected format of service: 6":d}catch(e){return"Exception during readVisuGetPaintDataResult: "+e}},Qq:function(a){this.I.seek(this.I.v()+a)},Ae:function(a,b){var c=Db.Ss(this.I),d=Db.Tm+c.od+c.De;this.I.size()<d&&h(Error("Actual packet size "+this.I.size()+
" smaller than expected "+d));(c.Fg!=(128|a)||c.Gg!=b)&&h(Error("Unexpected format of service: 3"));return c}};var ob;ob=function(a,b){this.F=a;this.lo=b;this.o=L.r(50);this.Z=new Bb(this.o,a);this.u=this.Z.wc};
ob.prototype={Ua:function(){return this.o.Tb()},wl:function(a,b,c){this.Vf(1);this.u.Pb("|",p);this.u.Pb(a,p);this.u.Pb("|",p);this.u.Pb(b.toString(),p);this.u.Pb("|",p);this.u.Pb(c.toString(),p);this.u.Pb("|",p)},dt:function(){this.Vf(3)},Rr:function(a,b,c,d){if(a===i||a===l)a="";b===i&&(b=l);c===i&&(c=0);if(d===i)d=Q.Ah;var e=this.Jc(Q.Yh,Q.Wh),f=l;this.Z.H(Q.di);this.Z.H(4,3);this.u.B(d);0!==c&&(this.Z.H(Q.ci),this.Z.H(4,3),this.u.B(c));a=this.Zo(a);b!==l&&0!==c&&d===Q.bm&&(f=this.Yo(b,c));this.Z.H(Q.bn);
this.Z.H(a.size()+(f!==l?f.size():0),2);this.de(this.u,a);f!==l&&this.de(this.u,f);this.yc(e)},au:function(a,b,c){var d=this.Jc(Q.Db,Q.$h),e=a.length+4+1,f=this.jg(e,4,0),g=0,j=0;b&&0<b.length&&g++;c&&0<c.length&&g++;0<g&&(j=8+84*g,e+=j);this.Z.H(Q.hn);this.Z.H(e+f,3);this.u.Qb(a,p);this.Uf(this.u,f,0);this.u.B(524288);0<g&&(this.u.B(j),this.u.B(g),b&&0<b.length&&(this.u.$(1),this.u.Qb(b,p),this.u.Re(82-b.length-1)),c&&0<c.length&&(this.u.$(2),this.u.Qb(c,p),this.u.Re(82-c.length-1)));this.yc(d)},
Zt:function(a){var b=this.Jc(Q.Db,Q.Zh);this.Z.H(Q.jn);this.Z.H(4,3);this.u.B(a);this.yc(b)},vf:function(a){this.vk(a,Q.Lf,Q.Qf)},Yt:function(a){var b=this.Jc(Q.Db,Q.Lf);this.Z.H(Q.Qf);this.Z.H(8,2);this.Z.H(Q.ln);this.Z.H(4,3);this.u.B(a);this.yc(b)},$t:function(a){this.vk(a,Q.Vm,Q.sn)},bu:function(a){var b=this.Jc(Q.Db,Q.Wm);this.Z.H(Q.tn);this.Z.H(4,3);this.u.B(a);this.yc(b)},vk:function(a,b,c){b=this.Jc(Q.Db,b);a=this.jp(a);this.Z.H(c);this.Z.H(a.size(),2);this.de(this.u,a);this.yc(b)},yc:function(a){var b=
this.u.v()-a.$m;this.jr(a.Em,b)},Jc:function(a,b){var c=new Db(a,b,this.lo);this.Vf(2);this.u.Re(Db.Um);return{Em:c,$m:this.u.v()}},Zo:function(a){var b=L.r(10+a.length),c=new Bb(b,this.F),d=c.wc,e=a.length+1,f=this.jg(e,4,2);c.H(Q.gn);c.H(e+f);d.Qb(a,p);this.Uf(d,f,0);return b},Yo:function(a,b){var c=this.Xo(a,b),d=L.r(10+c.length),e=new Bb(d,this.F),f=e.wc;e.H(Q.cn);e.H(c.length,3);for(e=0;e<c.length;++e)f.W(c[e]);return d},Xo:function(a,b){var c="Qcw@e46A6!R.gssltR4dg=_l)B^nQSo^",d="",e=[],f,g=
0,j=0,n,m=a.length+1,v=[b&255,0,0,0];for(f=0;f<c.length;f+=4)d=d.concat(String.fromCharCode(c.charCodeAt(f+2)+3)),d=d.concat(String.fromCharCode(c.charCodeAt(f+1)+2)),d=d.concat(String.fromCharCode(c.charCodeAt(f+3)+4)),d=d.concat(String.fromCharCode(c.charCodeAt(f+0)+1));c=d;32>m&&(m=32);0!==m%4&&(m+=4-m%4);for(f=0;f<m;++f)d=c.charCodeAt(g),n=0,f<a.length&&(n=a.charCodeAt(f)),e[f]=(n^d+v[j])&255,g++,g===c.length&&(g=0),j++,4===j&&(j=0);return e},jp:function(a){var b=L.r(100),c=new Bb(b,this.F),d=
c.wc,e=a.li;c.H(Q.pn);c.H(16,3);d.B(a.jb);d.B(a.Om);d.B(a.Pm);d.B(a.dm);if(e!==l){c.H(Q.kn);var f=e.size(),g;g=this.jg(f,4,0);c.H(f+g,3);this.de(d,e);this.Uf(d,g,0)}a.Xb!==l&&(c.H(Q.qn),c.H(8,3),d.$(a.Xb.e),d.$(a.Xb.f),d.$(a.Xb.s),d.$(a.Xb.w));return b},de:function(a,b){var c=b.size(),d;for(d=0;d<c;++d)a.W(b.el(d))},jg:function(a,b,c){for(var d=0;0!==(a+c)%b;)a++,d++;return d},Uf:function(a,b,c){for(var d=0;d<b;++d)a.W(c)},Vf:function(a){this.u.W(a);this.u.W(0);this.u.$(0)},jr:function(a,b){this.u.seek(4);
a.write(this.u,b)}};var E;E=q();E.zm=1;E.Bf=2;E.Ih=4;E.Cf=16;E.wm=128;E.xm=256;E.mm=257;E.Hh=1048576;E.um=512;E.vm=513;E.Am=515;E.Jh=516;E.ym=518;E.rm=2049;E.qm=2050;E.nm=2051;E.om=2052;E.pm=2053;E.sm=2054;E.tm=2055;E.Kh=2097152;var D;D=function(a,b,c,d){c===i&&(c=0);d===i&&(d=0);this.jb=a;this.dm=b;this.Om=c;this.Pm=d;this.Xb=this.li=l;this.Vj=p};D.Dh=function(a,b,c){return new D(a,b,c.Rb())};D.Ch=function(a,b,c,d){return new D(a,b,c,d)};D.fm=function(a,b){return new D(E.mm,a,b.charCodeAt(0))};
D.Eh=function(a,b,c,d){a=new D(E.Jh,a,b?c?3:1:0,0);b=L.r(8);c=P.r(b,k);c.Ka(0);c.Ka(0);c.Ka(d.h()-1);c.Ka(d.i()-1);a.Ya(b);return a};D.prototype={Ya:s("li"),Et:function(){this.Vj=k}};var Fb;Fb=function(a){a===i&&(a=100);this.je=[];this.Lc=this.yd=0;this.vd=a;this.ne=p;this.Dj=0};
Fb.prototype={push:function(a){if(a.jb!==E.Kh)this.Dj=H.U();if(this.sp(a))return k;if(this.ne)return"undefined"!==typeof WebvisuLogger&&WebvisuLogger.warn("Eventqueue full, dropped event with tag "+a.jb),p;this.je[this.Lc%this.vd]=a;this.Lc=(this.Lc+1)%this.vd;if(this.Lc==this.yd)this.ne=k;return k},empty:function(){return!this.ne&&this.yd===this.Lc},pop:function(){if(this.empty())return l;this.ne=p;var a=this.yd;this.yd=(this.yd+1)%this.vd;return this.je[a]},sp:function(a){if(!this.empty()&&(a.jb===
E.Cf||a.jb===E.pm||a.jb===E.tm||a.jb===E.Jh)){var b=(this.Lc+this.vd-1)%this.vd;if(this.je[b].jb===a.jb)return this.je[b]=a,k}return p}};var $a;$a=function(a){this.fc={};this.a=a;this.vg=l};
$a.prototype={af:function(a,b){b===i&&(b=l);var c=this.Jp(a,b),d;d=this.fc[c];if(d!==i)return d;d=new Gb(this.a,a,b);return this.fc[c]=d},tr:function(a){var b=[];this.hj(function(c){c.Od()||(b.push(c),c.ur(function(){b.splice(b.indexOf(c),1);0===b.length&&(y.Fm()?a():setTimeout(a,0))}))})},Ar:function(){var a=H.U(),b=[],c=this.a.n,d,e;if(-1!==c.NumCachedImages)if(0===c.NumCachedImages)this.fc={};else if(this.hj(function(d,e){var j=d.Ap,n=d.Mj?c.MaxUnusedImageAge:c.MaxUndrawnImageAge;0!==j&&j<a-n&&
b.push({path:e,time:j})}),d=Math.min(H.lm(this.fc)-c.NumCachedImages,b.length),0<d){b.sort(function(a,b){return a.Tl-b.Tl});for(e=0;e<d;++e)delete this.fc[b[e].path]}},Fs:function(){if(this.vg===l)this.vg=this.a.n.LoadImagesById;return this.vg},hj:function(a){var b,c;for(b in this.fc)c=this.fc[b],a(c,b)},Jp:function(a,b){return b===l?a:a+":"+b}};var Gb;Gb=function(a,b,c){this.Mj=p;this.Lb=c;this.qd=H.Oh(b);this.wq=3;this.jk();this.Mg();this.ve=this.Ne=l;this.a=a;this.qg=l};
Gb.prototype={mp:function(){try{this.Lb!==l&&this.cr(),this.Wf(2)}catch(a){this.a.error("Unexpected exception during load image callback: "+a)}},cr:function(){try{var a=window.document.createElement("canvas"),b=a.getContext("2d"),c,d,e=parseInt(this.Lb.substr(1,2),16),f=parseInt(this.Lb.substr(3,2),16),g=parseInt(this.Lb.substr(5,2),16),j=this.Wo(),n=this.hl();a.width=n.N;a.height=n.M;b.drawImage(this.bc,0,0);c=b.getImageData(0,0,a.width,a.height);for(d=0;d<c.data.length;d+=4)j(c.data[d+0],c.data[d+
1],c.data[d+2],e,f,g)&&(c.data[d+3]=0,c.data[d+0]=0,c.data[d+1]=0,c.data[d+2]=0);b.putImageData(c,0,0);this.Ne=a;this.bc=l}catch(m){this.Ne=this.Lb=l,WebvisuLogger.warn("Exception during making image "+this.qd+" transparent. Is this an SVG? As a workaround it will be rendered ignoring the transparency color")}},Cp:function(a){try{if(WebvisuLogger.warn("Loading image "+this.qd+" failed: "+a.type),0<=this.wq--){var b=this;window.setTimeout(function(){WebvisuLogger.info("Triing to load the image "+b.qd+
" again");b.jk(b.qd)},50);this.Wf(4)}else this.Wf(3)}catch(c){this.a.error("Unexpected exception during handling of load image problems: "+c)}},ps:function(){this.Mg();this.Mj=k;2!==this.L&&WebvisuLogger.warn("Access to not (yet) loaded image");return this.Ne!==l?this.Ne:this.bc},hl:function(){if(this.qg===l)this.qg=y.Dm(this.bc);return this.qg},ur:s("ve"),Od:function(){return 2===this.L||3===this.L},loaded:function(){return 2===this.L},Wf:function(a){this.Mg();this.L=a;if(this.ve!==l&&this.Od())this.ve(),
this.ve=l},Mg:function(){this.Ap=H.U()},jk:function(){this.bc=new Image;var a=this;this.bc.onload=function(){a.mp()};this.bc.onerror=function(b){a.Cp(b)};this.L=1;this.bc.src=this.qd},Wo:function(){return this.a.n.FuzzyTransparencyColorEvaluation?function(a,b,c,d,e,f){return 2>Math.abs(a-d)&&2>Math.abs(b-e)&&2>Math.abs(c-f)}:function(a,b,c,d,e,f){return a===d&&b===e&&c===f}}};var Wa;Wa=function(){this.wb={};this.Vd="<Project>"};
Wa.prototype={rs:function(a){var a=a.toLowerCase().split("."),b=[],c;for(c=0;c<a.length;++c)b[c]=H.rc(a[c]);var d;if(1>b.length)return l;a=b[b.length-1];if(1===b.length)return this.xd(this.Lo(a));c=b[b.length-2];if(2==b.length){d=this.Mo(c);if(d!==l)return this.xd(this.eg(a,d));d=this.gg(c);return d!==l?this.xd(this.me(a,d)):l}b=b.slice(0,b.length-2).join(".");d=this.gg(b);if(d!==l&&(d=this.fg(c,d),d!==l))return this.xd(this.eg(a,d));d=this.gg(b+"."+c);return d!==l?this.xd(this.me(a,d)):l},xd:function(a){return a!==
l?a.path:l},gg:function(a){a=this.wb[a];return a!==i?a:l},Lo:function(a){var b=this.wb[this.Vd],c;if(b!==i&&(b=this.me(a,b),b!==l))return b;for(c in this.wb)if(c!==this.Vd&&(b=this.me(a,this.wb[c]),b!==l))return b;return l},me:function(a,b){var c,d;for(c in b.Tc)if(d=this.eg(a,b.Tc[c]),d!==l)return d;return l},eg:function(a,b){var c=b.We[a];return c===i?l:c},Mo:function(a){var b=this.wb[this.Vd],c;if(b!==i&&(b=this.fg(a,b),b!==l))return b;for(c in this.wb)if(b=this.fg(a,this.wb[c]),b!==l)return b;
return l},fg:function(a,b){var c=b.Tc[a];return c!==i?c:l},fill:function(a){var a=a.replace(/\r\n/g,"\n").split("\n"),b,c,d,e,f,g,j;for(b=0;b<a.length;++b)c=a[b].split(";"),4>c.length||(d=this.Ip(H.rc(c[1])),e=H.rc(c[0]).toLowerCase(),f=H.rc(c[2]).toLowerCase(),g=H.rc(c[3]),c=this.wb[d],c===i?(c={Tc:{}},j=this.Ji(e),j.We[f]=this.Zf(f,g),c.Tc[e]=j,this.wb[d]=c):(j=c.Tc[e],j===i?(j=this.Ji(e),j.We[f]=this.Zf(f,g),c.Tc[e]=j):j.We[f]=this.Zf(f,g)))},Ip:function(a){return a===l||""===a?this.Vd:a.toLowerCase()},
Ji:function(a){return{name:a,We:{}}},Zf:function(a,b){return{id:a,path:b}}};var cb;cb=q();cb.prototype={execute:function(a){a=a.a.xb;a!==l&&a.p.Nr()}};var Hb;Hb=function(a,b){this.g=C.Zb(b)};Hb.prototype={execute:function(a){a=a.getContext();a.save();a.beginPath();a.rect(this.g.e,this.g.f,this.g.h(),this.g.i());a.clip()}};var Ib;
Ib=function(a,b){this.g=C.Yd(b,p);this.xe=0!==b.getInt8();this.Mb=b.getInt8();switch(this.Mb){case 2:case 4:this.he=b.getUint32();this.Ri=b.getUint32();this.ie=b.getUint32();break;case 1:case 3:this.Ei=b.getInt16(),this.he=b.getUint32()}};
Ib.prototype={execute:function(a){var b=a.getContext(),c=this.g.e,d=this.g.f,e=this.g.h(),f=this.g.i(),g=b.lineWidth;b.save();this.dk=a.a.n.SemiTransparencyActive;a.z().Ub()?a.z().Se(this.g):b.fillStyle=this.dk===k?C.$a(this.he):C.la(this.he);b.lineWidth=1;c+=0.5;d+=0.5;switch(this.Mb){case 2:case 4:this.hq(b,c,d,e,f);break;case 1:case 3:this.gq(b,c,d,e,f)}b.lineWidth=g;a.z().Ub()&&a.z().nf();b.restore()},hq:function(a,b,c,d,e){var f,g,j;this.dk===k?(f=this.xe?C.$a(this.ie):"#000000",g=C.$a(this.Ri),
j=C.$a(this.ie)):(f=this.xe?C.la(this.ie):"#000000",g=C.la(this.Ri),j=C.la(this.ie));this.xe?(a.strokeStyle=f,a.strokeRect(b,c,d,e),a.fillRect(b,c,d,e)):(a.fillRect(b,c,d,e),a.strokeStyle=g,a.beginPath(),a.moveTo(b,c),a.lineTo(b+d,c),a.moveTo(b,c),a.lineTo(b,c+e),a.stroke(),a.closePath(),a.strokeStyle=f,a.beginPath(),a.moveTo(b,c+e),a.lineTo(b+d,c+e),a.lineTo(b+d,c),a.stroke(),a.closePath(),a.strokeStyle=j,a.beginPath(),a.moveTo(b+1,c+e-1),a.lineTo(b+d-2,c+e-1),a.moveTo(b+d-1,c+1),a.lineTo(b+d-1,
c+e-1),a.stroke(),a.closePath())},gq:function(a,b,c,d,e){var f=new Jb(this.he,this.Ei);if(this.xe)a.strokeStyle=C.la(f.fl(0)),a.strokeRect(b,c,d,e),a.fillRect(b,c,d,e);else{a.strokeStyle="#000000";a.fillRect(b,c,d,e);a.strokeRect(b,c,d,e);var g;for(g=0;g<this.Ei;++g)a.beginPath(),a.moveTo(b+g,c+e-g),a.lineTo(b+g,c+g),a.lineTo(b+d-g,c+g),a.strokeStyle=C.la(f.fs(g)),a.stroke(),a.beginPath(),a.moveTo(b+d-g,c+1+g),a.lineTo(b+d-g,c+e-g),a.lineTo(b+1+g,c+e-g),a.strokeStyle=C.la(f.fl(g)),a.stroke()}}};var bb;
bb=function(a,b,c){var a=b.v(),d,e;d=b.getUint16();e=b.getString(d,p);d=b.getUint16();d=b.getString(d,p);""!==e&&(d=e+"."+d);this.pg=d;this.g=C.Yd(b,k);this.g.normalize();e=b.getUint32();this.xp=0!==(e&1);this.oi=0!==(e&2);this.dj=0!==(e&4);this.Pq=0!==(e&8);this.Ai=0!==(e&16);this.qk=0!==(e&32);this.qj=0!==(e&128);this.ck=0!==(e&256);this.uk=0!==(e&1024);this.si=0!==(e&2048);this.Zi=p;this.Lb=C.la(b.getUint32());if(c>=b.v()-a+16)this.Zi=k,this.Fo=b.getFloat32(),this.Go=b.getFloat32();this.fb=l};
bb.prototype={execute:function(a){var a=a.getContext(),b=C.Km(this.g),c=this.g.qa(),d=this;this.Nq(a,c,b);this.fb!==l&&(this.fb.loaded()?this.qo(a,this.fb.ps(),function(){return d.fb.hl()},c):this.ro(a,this.g));this.Pq&&(c=C.Ff(a),a.strokeRect(this.g.e+c,this.g.f+c,this.g.h(),this.g.i()));this.Yn(a,b)},xs:function(a,b){if(this.fb===l){if(a.Fs()){var c="/ImageByImagePoolId?id="+this.pg;this.fb=this.qk?a.af(c,this.Lb):a.af(c);return this.fb.Od()}c=b.rs(this.pg);if(c!==l)return this.fb=this.qk?a.af(c,
this.Lb):a.af(c),this.fb.Od();WebvisuLogger.warn("Imagepoolentry for "+this.pg+" not found");return k}return this.fb.Od()},qo:function(a,b,c,d){if(this.dj&&this.Zi){var e=c(),d=this.zn(d,new A(this.Fo*e.N,this.Go*e.M));this.dj=p;this.oi=k}this.oi?a.drawImage(b,d.e,d.f,d.h(),d.i()):this.xp?(e=c(),d.h()/b.width<d.i()/b.height?(c=d.h()*e.M/e.N,e=d.h()):(c=d.i(),e=d.i()*e.N/e.M),d=this.An(new M(d.e,d.f,d.e+e,d.f+c),d),a.drawImage(b,d.e,d.f,e,c)):a.drawImage(b,d.e,d.f)},zn:function(a,b){this.qj?(a.e+=
Math.floor(a.h()/2)-Math.floor(b.N/2),a.s=a.e+b.N):this.ck?a.e=a.s-b.N:a.s=a.e+b.N;this.uk?(a.f+=Math.floor(a.i()/2)-Math.floor(b.M/2),a.w=a.f+b.M):this.si?a.f=a.w-b.M:a.w=a.f+b.M;return a},An:function(a,b){a.h()<b.h()&&(this.qj?a=a.Vb(Math.floor(b.h()/2)-Math.floor(a.h()/2),0):this.ck&&(a=a.Vb(b.h()-a.h(),0)));a.i()<b.i()&&(this.uk?a=a.Vb(0,Math.floor(b.i()/2)-Math.floor(a.i()/2)):this.si&&(a=a.Vb(0,b.i()-a.i())));return a},Nq:function(a,b,c){c&&(a.save(),b.Oa.Te(a,b));this.Ai&&(a.save(),a.beginPath(),
a.rect(b.e,b.f,b.h()+1,b.i()+1),a.clip())},Yn:function(a,b){this.Ai&&a.restore();b&&a.restore()},ro:function(a,b){var c=b.ol(-3);a.save();a.fillStyle="#eeeeee";a.strokeStyle="#ff0000";a.lineWidth=3;a.fillRect(c.e,c.f,c.h(),c.i());a.beginPath();a.moveTo(c.e,c.f);a.lineTo(c.s,c.w);a.moveTo(c.s,c.f);a.lineTo(c.e,c.w);a.closePath();a.stroke();a.restore()}};var Kb;Kb=function(a,b){this.g=C.Yd(b,k);this.ik=C.Bb(b.getInt16());this.Wq=C.Bb(b.getInt16());this.Ho=1==b.getInt16()};
Kb.prototype={execute:function(a){var b=a.getContext(),c=this.g.h(),d=this.g.i(),e=!a.z().gh(),f=!a.z().qe,g=Math.min(c,d)/2;0>=c||0>=d||(b.save(),this.Cn(b),a.z().Ub()&&a.z().Se(this.gp(g)),b.beginPath(),b.arc(0,0,g,this.ik,this.ik+this.Wq,p),this.Ho&&(b.lineTo(0,0),b.closePath(),e&&b.fill()),b.restore(),f&&b.stroke(),a.z().Ub()&&a.z().nf())},gp:function(a){return new M(-a,-a,a,a)},Cn:function(a){var b=this.g.h(),c=this.g.i();this.g.Oa!==l?this.g.Oa.Te(a,this.g):a.translate(this.g.e+0.5,this.g.f+
0.5);a.translate(b/2,c/2);b>c?a.scale(b/c,1):a.scale(1,c/b)}};var Lb;Lb=function(a,b){this.j=C.Uh(b)};Lb.prototype={execute:function(a){var a=a.getContext(),b;for(b=0;b<this.j.length;++b)a.fillRect(this.j[b].c,this.j[b].b,1,1)}};var Mb;Mb=function(a,b){this.Mb=b.getUint16();this.j=C.Uh(b)};
Mb.prototype={execute:function(a){var b=a.getContext(),c=!a.z().gh(),d=!a.z().qe;if(!(2>this.j.length)){a.z().Ub()&&a.z().Se(this.Uq());d&&this.qq(b);switch(this.Mb){case 0:this.so(b,c,d);break;case 1:d&&this.to(b);break;case 2:d&&this.oo(b)}a.z().Ub()&&a.z().nf()}},qq:function(a){var a=C.Ff(a),b;if(0!==a)for(b=0;b<this.j.length;++b)this.j[b].c+=a,this.j[b].b+=a},so:function(a,b,c){a.beginPath();a.moveTo(this.j[0].c,this.j[0].b);for(var d=1;d<this.j.length;++d)a.lineTo(this.j[d].c,this.j[d].b);a.closePath();
b&&a.fill();c&&a.stroke()},to:function(a){var b,c,d,e;a.beginPath();a.moveTo(this.j[0].c,this.j[0].b);for(b=1;b<this.j.length;++b)a.lineTo(this.j[b].c,this.j[b].b);1==a.lineWidth&&(c=this.j[b-1].c-this.j[b-2].c,d=this.j[b-1].b-this.j[b-2].b,e=Math.abs(c)-Math.abs(d),0<e?(c=0<c?1:-1,d=0):(c=0>e?0:0<c?1:-1,d=0<d?1:-1),a.lineTo(this.j[b-1].c+c,this.j[b-1].b+d));a.stroke()},oo:function(a){a.beginPath();a.moveTo(this.j[0].c,this.j[0].b);for(var b=1;b+3<=this.j.length;)a.bezierCurveTo(this.j[b].c,this.j[b].b,
this.j[b+1].c,this.j[b+1].b,this.j[b+2].c,this.j[b+2].b),b+=3;for(;b<this.j.length;++b)a.lineTo(this.j[b].c,this.j[b].b);a.stroke()},Uq:function(){var a=1E9,b=-1E9,c=1E9,d=-1E9,e;for(e=0;e<this.j.length;++e){if(this.j[e].c<a)a=this.j[e].c;if(this.j[e].b<c)c=this.j[e].b;if(this.j[e].c>b)b=this.j[e].c;if(this.j[e].b>d)d=this.j[e].b}return new M(a,c,b,d)}};var Nb;Nb=function(a,b){var c=b.getUint16(),d=C.Yd(b,k);this.fr=new Ob(c,d)};Nb.prototype={execute:function(a){this.fr.Zk(a)}};var Pb;
Pb=function(a,b){this.Mb=b.getUint16();var c,d;c=b.getUint16();d=b.getUint16();this.He=new A(c,d);c=b.getUint16();d=b.getUint16();this.hk=new A(c,d);c=b.getUint32();this.dr=0!==(c&1);this.er=0!==(c&2)};Pb.prototype={execute:function(a){var b=a.z().Bg,c;c=new z(b.c+this.hk.N,b.b+this.hk.M);(new Ob(this.Mb,new M(c.c,c.b,c.c+this.He.N,c.b+this.He.M))).Zk(a);this.dr&&(b.c+=this.He.N);this.er&&(b.b+=this.He.M)}};var Ob;Ob=function(a,b){this.Mb=a;this.g=b.Is()};
Ob.prototype={po:function(a,b,c,d,e,f,g){var j=0.5522848*(d/2),n=0.5522848*(e/2),m=b+d,v=c+e,d=b+d/2,e=c+e/2;a.beginPath();a.moveTo(b,e);a.bezierCurveTo(b,e-n,d-j,c,d,c);a.bezierCurveTo(d+j,c,m,e-n,m,e);a.bezierCurveTo(m,e+n,d+j,v,d,v);a.bezierCurveTo(d-j,v,b,e+n,b,e);a.closePath();f&&a.fill();g&&a.stroke()},uo:function(a,b,c,d,e,f,g){f&&a.fillRect(b,c,d,e);g&&a.strokeRect(b,c,d,e)},Zk:function(a){var b=a.getContext(),c=this.g.e,d=this.g.f,e=this.g.h(),f=this.g.i(),g=!a.z().gh(),j=!a.z().qe,n=this.g.Oa;
if(!(0>e||0>f)){a.z().Ub()&&a.z().Se(this.g);n!==l&&(b.save(),this.g.Oa.Te(b,this.g));if(j&&n===l)var m=C.Ff(b),c=c+m,d=d+m;switch(this.Mb){case 0:this.uo(b,c,d,e,f,g,j);break;case 1:C.Gh(b,c,d,e,f,g,j);break;case 2:this.po(b,c,d,e,f,g,j);break;case 3:j&&(b.beginPath(),b.moveTo(c,d+f),b.lineTo(c+e,d),b.stroke());break;case 4:j&&(b.beginPath(),b.moveTo(c,d),b.lineTo(c+e,d+f),b.stroke())}n!==l&&b.restore();a.z().Ub()&&a.z().nf()}}};var Qb;
Qb=function(a,b){var c,d;d=C.Th(b);c=b.getUint32();this.re=this.lp(c);this.Oe=this.hr(c);this.Fn=0!==(c&16);this.Ln=0!==(c&32);this.vq=0!==(c&64);this.g=C.zh(d,0!==(c&128));c=b.getUint16();this.ga=b.getString(c,11==a);this.Lj=C.Im(this.ga);this.kk=C.Jm(this.ga)};
Qb.prototype={execute:function(a){var b=a.getContext(),c;if(this.vq)c=a.z().Bg,this.g=new M(c.c,c.b,c.c+this.g.h(),c.b+this.g.i());b.save();this.g.Oa!==l&&this.g.Oa.Te(b,this.g);b.beginPath();b.rect(this.g.e-0.5,this.g.f-0.5,this.g.h()+1,this.g.i()+1);b.clip();b.fillStyle=a.z().mk;this.Lj?this.xq(b,a):this.yq(b);if(this.Ln)c=a.z().Bg,c.c=this.g.e+this.Xq(b),c.b=this.g.f;b.restore()},yq:function(a){this.kk?this.zq(a):this.ge(a,this.ga,this.Tf(a))},xq:function(a,b){var c=C.Of(this.ga),d=this,e,f,g,
j,n;if(0<c.length){f=H.Ph(b);e=f*c.length;e=this.Bn(a,e);var m=function(b){d.ge(a,b.text,g)};for(n=0;n<c.length;++n)this.kk?(j=C.Pf(a,c[n]),g=this.mi(a,j),g.b=e.b,this.Aj(j,g,m)):this.ge(a,c[n],e),e.b+=f}},zq:function(a){var b=C.Pf(a,this.ga),c=this.mi(a,b),d=this;this.Aj(b,c,function(b){d.ge(a,b.text,c)})},Aj:function(a,b,c){var d;if(2==this.re)for(d=a.length-1;0<=d;--d)c(a[d]),b.c-=a[d].qh*C.sc;else for(d=0;d<a.length;++d)c(a[d]),b.c+=a[d].qh*C.sc},ge:function(a,b,c){this.Fn&&(b=this.Oo(a,b));a.fillText(b,
c.c,c.b)},Oo:function(a,b){if(C.nc(a,b,p)<=this.g.h())return b;for(var c,d=0,e=b.length-1,f,g;1<e-d;){f=Math.floor((d+e)/2);c=b.substr(0,f)+"...";g=C.nc(a,c,p)-this.g.h();if(0===g)return c;0>g?(d=f,g=p):(e=f,g=k)}return g===k?0<f?c.substr(0,f-1)+"...":"":c},Bn:function(a,b){var c=this.Tf(a);a.textBaseline="top";3===this.Oe?c=new z(c.c,this.g.f+this.g.i()/2-b/2):2===this.Oe&&(c=new z(c.c,c.b-b));return c},Tf:function(a){var b,c;1===this.re?(b=this.g.e+1,a.textAlign="left"):3===this.re?(b=this.g.e+
this.g.h()/2,a.textAlign="center"):(b=this.g.s-1,a.textAlign="right");1===this.Oe?(c=this.g.f+2,a.textBaseline="top"):3===this.Oe?(c=this.g.f+this.g.i()/2,a.textBaseline="middle"):(c=this.g.w-1,a.textBaseline="bottom");return new z(b,c)},mi:function(a,b){var c=this.Tf(a),d,e=0;if(3===this.re){for(d=0;d<b.length;++d)e+=b[d].qh*C.sc;c.c=this.g.e+(this.g.h()-e+C.sc)/2}return c},lp:function(a){var b=1;0!==(a&1)?b=3:0!==(a&2)&&(b=2);return b},hr:function(a){var b=1;0!==(a&4)?b=3:0!==(a&8)&&(b=2);return b},
Xq:function(a){if(this.Lj){var b=0,c=C.Of(this.ga),d;for(d=0;d<c.length;++d)b=Math.max(b,C.nc(a,c[d],k));return b}return C.nc(a,this.ga,k)}};var eb;
(function(){var a=l;eb=function(a,c){var d=c.getUint16();this.ga=c.getString(d,15==a);this.d=C.cd(c);this.Gp=1===(c.getUint32()&1)};eb.prototype={execute:function(b){var c=b.getContext(),d=C.Of(this.ga),e=b.a.n.ll(),f=this.Mn(c,e,d),g=f.lineHeight,j=new A(6,4),f=this.Nn(b.Jd(),f.size,j),f=f.Vb(0.5,0.5);c.save();c.font=e.Nh;c.textBaseline="top";c.textAlign="left";c.lineWidth=1;c.strokeStyle="#000000";c.fillStyle="#ffffe1";c.fillRect(f.e,f.f,f.h(),f.i());c.strokeRect(f.e,f.f,f.h(),f.i());c.fillStyle=
"#000000";j=new z(f.e+j.N/2,f.f+j.M/2);for(e=0;e<d.length;++e)c.fillText(d[e],j.c,j.b),j=new z(j.c,j.b+g);this.Gp&&(a=new M(0,0,0,0));(a===l||!f.Xe(a))&&this.Jq(b.a,f);a=f;c.restore()},Jq:function(a,c){var d=new D(E.vm,a.l.V,0,0),e=L.r(8),f=P.r(e,k);f.Ka(Math.floor(c.e));f.Ka(Math.floor(c.f));f.Ka(Math.ceil(c.s));f.Ka(Math.ceil(c.w));d.Ya(e);a.Ra.push(d)},Mn:function(a,c,d){var e=new A(0,0),f=a.font,g,j,n=0;a.font=c.Nh;for(g=0;g<d.length;++g)0===g&&(n=H.Ef(c.Cm)),j=C.nc(a,d[g],p),e.N=Math.max(e.N,
j),e.M+=n+0;e.M=Math.ceil(e.M);a.font=f;return{size:e,lineHeight:n}},Nn:function(a,c,d){var e,f;e=this.d.c+20+d.N+c.N>=a.h()?this.d.c-20-d.N-c.N:this.d.c+20;f=this.d.b+20+c.M>=a.i()?this.d.b-20-c.M:this.d.b+20;0>e&&(e=c.N<a.h()?(a.h()-c.N)/2:0);0>f&&(f=c.M<a.i()?(a.i()-c.M)/2:0);return new M(e,f,e+c.N+d.N,f+d.M+c.M)}}})();var Rb;Rb=q();Rb.prototype={execute:q()};var Sb;Sb=function(a,b){var c=b.getUint16();this.Zn=0===c||2==c};Sb.prototype={execute:function(a){this.Zn&&a.a.Rg()}};var Tb;
Tb=function(a,b,c){var d;d=b.v();this.$n=b.getUint16();a=b.getUint16();this.Ci=b.getString(a,p);c>=b.v()-d+10?(a=b.getUint16(),this.Di=b.getString(a,p)):this.Di=""};
Tb.prototype={execute:function(){switch(this.$n){case 0:WebvisuLogger.warn("The functionality start process is not possible in the webvisualization.");break;case 1:case 2:case 3:WebvisuLogger.warn("The functionality printing is not possible in the webvisualization.");break;case 4:this.Fp()}},Fp:function(){"replace"===this.Di?window.location.href=this.Ci:window.open(this.Ci)}};var db;db=function(a,b,c){a=b.v();this.g=C.Zb(b);this.zi=k;if(c>=b.v()-a+12)this.zi=0===(b.getUint32()&1)};
db.prototype={execute:function(a){a.ig.Pg(this.g);this.zi&&a.q.clearRect(this.g.e,this.g.f,this.g.h(),this.g.i());a.a.kd.Xs(this.g)}};var Ub;
Ub=function(a,b){var c,d,e,f,g;this.Si=b.getUint32();this.Ao=b.getUint32();c=b.getUint16();this.Kj=b.getString(c,p);c=b.getUint32();d=b.getUint16();this.Rj=[];this.Sj=p;try{for(e=0;e<d;++e)f=b.getUint32(),g=b.getUint32(),this.Rj.push(this.tq(b,f,g))}catch(j){j instanceof TypeError?(WebvisuLogger.error("Invalid argumenttype for calling '"+this.Kj+"'; call will not be executed"),this.Sj=k):h(j)}2==(c&2)?(this.Cd=b.getUint32(),this.Dg=b.getUint32()):this.Dg=this.Cd=l};
Ub.prototype={execute:function(a){if(!this.Sj){var b=WebvisuExtensionMgr.Ir(this.Si,this.Kj,this.Rj);b!==l&&b!==i&&this.Dg!==l&&this.Cd!==l&&this.Co(b,a.a)}},ao:function(a,b){var c=L.r(b),d=P.r(c,k),e;for(e=0;e<b;++e)d.W(a.getUint8());return O.r(c.Tb(),a.Rc(),a.Yc())},tq:function(a,b,c){a=this.ao(a,c);switch(b){case 0:case 1:return 0!==a.getUint8();case 2:case 10:return a.getUint8();case 6:return a.getInt8();case 3:case 11:return a.getUint16();case 7:return a.getInt16();case 8:return a.getInt32();
case 9:h(new TypeError("Type LINT not supported"));case 4:case 12:return a.getUint32();case 5:case 13:h(new TypeError("Type LWORD/ULINT not supported"));case 14:return a.getFloat32();case 15:return a.getFloat64();case 16:case 17:return a.zb(17===b);default:h(new TypeError("TypeCode + "+b.toString()+" not supported"))}},Co:function(a,b){var c=L.r(this.Dg),d=P.r(c,b.l.sa),e=new D(E.Am,b.l.V,this.Si,this.Ao);try{this.Do(a,d),e.Ya(c)}catch(f){WebvisuLogger.error("Failed to encode return value: "+a.toString()+
". Result ignored")}b.Sb(e)},Do:function(a,b){switch(this.Cd){case 0:case 1:b.W(a?1:0);break;case 2:case 10:b.W(a);break;case 6:b.Ek(a);break;case 3:case 11:b.$(a);break;case 7:b.Ka(a);break;case 8:b.Dk(a);break;case 9:h(new TypeError("Type LINT not supported"));case 4:case 12:b.B(a);break;case 5:case 13:h(new TypeError("Type LWORD/ULINT not supported"));case 14:b.Bk(a);break;case 15:b.Ck(a);break;case 16:case 17:b.Qb(a,17===this.Cd);break;default:h(new TypeError("TypeCode + "+this.Cd.toString()+
" not supported"))}}};var Vb;Vb=function(a,b){var c;this.Cc=b.getUint32();c=b.getUint16();this.Fi=b.getString(c,p);this.ud=C.Zb(b)};Vb.prototype={execute:function(a){var b=WebvisuExtensionMgr.Ut(this.Fi);b===l?WebvisuLogger.warn("No native control named '"+this.Fi+"' found"):WebvisuExtensionMgr.Lr(b,this.Cc,this.ud,a.q.canvas)}};var Wb;Wb=function(a,b){this.Cc=b.getUint32();this.ud=C.Zb(b)};Wb.prototype={execute:function(){WebvisuExtensionMgr.Jr(this.Cc,this.ud)}};var Xb;
Xb=function(a,b){this.Cc=b.getUint32();var c=b.getUint32();this.Oq=1===(c&1);this.Lu=2===(c&2);this.ko=4===(c&4)};Xb.prototype={execute:function(){this.ko?WebvisuExtensionMgr.Yk(this.Cc):WebvisuExtensionMgr.Kr(this.Cc,this.Oq)}};var Yb;
Yb=function(a,b){var c,d,e,f;b.getUint16();b.getUint16();this.Dc=C.Zb(b);d=b.getUint32();this.yp=0!==(d&1);this.In=0!==(d&2);this.ej=b.getUint16();c=b.getUint16();this.Ro=b.getString(c,p);this.ce=b.getUint16();f=b.getUint16();c=L.r(f);d=P.r(c,k);for(e=0;e<f;++e)d.W(b.getUint8());this.ob=this.Uj=p;if(25==a)d=b.getUint16(),this.Uj=0!==(d&1),this.ob=2==(d&2);0<f?(this.ob&&(f/=2),c=O.r(c.Tb(),b.Rc(),b.Yc()),this.uj=c.getString(f,this.ob)):this.uj=""};
Yb.prototype={execute:function(a){var b=window.document.createElement("input"),c=this.Jn(),d=a.gs();if(this.Uj)b.type="password";b.value=this.uj;c=c.Vb(d.c,d.b);H.Jf(b,c);b.style.zIndex=300;b.style.textAlign=0!==(this.ce&1)?"center":0!==(this.ce&2)?"right":"left";b.style.fontFamily=this.Ro;b.style.fontSize=this.ej+"px";if(this.yp)b.style.fontStyle="italic";if(this.In)b.style.fontWeight="bold";a.a.Os(b,this.ob);b.select()},Jn:function(){var a=this.Dc.e+3,b=this.Dc.s-9,c,d=H.Ef(this.ej);c=0!==(this.ce&
8)?this.Dc.w-d-9:0!==(this.ce&4)?this.Dc.f+(this.Dc.i()-d)/2:this.Dc.f+1;return new M(a,c,b,c+d)}};var hb;(function(){var a=l;hb=q();hb.gm=function(b,c,d,e){a===l&&(a=[Rb,Nb,Mb,Qb,Zb,$b,ac,db,Hb,bc,Yb,Qb,Sb,Rb,eb,eb,Rb,Tb,cc,bb,dc,ec,ec,Ib,fc,Yb,Vb,Ub,Wb,Xb,gc,Pb,hc,ic,ic,jc,Kb,kc,Rb,Rb,Rb,cb,lc,mc,Lb]);return b<a.length?new a[b](b,c,d,e):new Rb}})();var C;
(function(){var a="0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F".split(","),b,c;b=function(b){return a[b>>4&15]+a[b&15]};c=function(a){return a&255};C=q();C.sc=50;C.cd=function(a){var b=a.getInt16(),a=a.getInt16();return new z(b,a)};C.Th=function(a){var b=[],c;for(c=0;4>c;++c)b[c]=C.cd(a);return b};C.zh=function(a,b){if(b&&(a[0].b!==a[1].b||a[3].b<a[0].b)){var c,g;c=Math.sqrt((a[0].c-a[1].c)*(a[0].c-a[1].c)+(a[0].b-a[1].b)*(a[0].b-a[1].b));g=Math.sqrt((a[0].c-a[3].c)*(a[0].c-a[3].c)+(a[0].b-a[3].b)*(a[0].b-a[3].b));
return new M(0,0,c,g,nc.em((a[1].c-a[0].c)/c,(a[1].b-a[0].b)/c,(a[3].c-a[0].c)/g,(a[3].b-a[0].b)/g,a[0].c,a[0].b))}return new M(a[0].c,a[0].b,a[2].c,a[2].b)};C.Yd=function(a,b){var c=C.Th(a);return C.zh(c,b)};C.Zb=function(a){var b;b=C.cd(a);a=C.cd(a);return new M(b.c,b.b,a.c,a.b)};C.Uh=function(a){var b=a.getUint16(),c,g;g=Array(b);for(c=0;c<b;++c)g[c]=C.cd(a);return g};C.Bb=function(a){return Math.PI*a/180};C.la=function(a){return"#"+b(a>>16)+b(a>>8)+b(a)};C.$a=function(a){var e;e=a>>24&255;return 255==
e?"#"+b(a>>16)+b(a>>8)+b(a):"rgba("+c(a>>16)+", "+c(a>>8)+", "+c(a)+", "+e/255+")"};C.Ff=function(a){return 1==a.lineWidth%2?0.5:0};C.Im=function(a){return 0<=a.indexOf("\n")||0<=a.indexOf("\r")};C.Of=function(a){return a.replace(/(\r\n|\n\r|\r|\n)/g,"\n").split("\n")};C.Jm=function(a){return 0<=a.indexOf("\t")};C.Zm=function(a){return a.split("\t")};C.nc=function(a,b,c){if(c){a=C.Pf(a,b);for(b=c=0;b<a.length;++b)c+=a[b].du;return c}return a.measureText(b).width};C.Pf=function(a,b){var c=C.Zm(b),
g=[],j,n,m;for(j=0;j<c.length;++j)n=a.measureText(c[j]).width,m=Math.max(1,Math.ceil(n/C.sc)),j<c.length-1&&(n=m*C.sc),g.push({text:c[j],qh:m,du:n});return g};C.Km=function(a){return a.Oa!==l};C.Gh=function(a,b,c,g,j,n,m){var v=C.Bb(90),J=C.Bb(180),G=C.Bb(270),K=C.Bb(360),r;r=Math.max(1,Math.min(g,j)/8);a.beginPath();a.moveTo(b+r,c);a.lineTo(b+g-r,c);a.arc(b+g-r,c+r,r,G,K,p);a.lineTo(b+g,c+j-r);a.arc(b+g-r,c+j-r,r,K,v,p);a.lineTo(b+r,c+j);a.arc(b+r,c+j-r,r,v,J,p);a.lineTo(b,c+r);a.arc(b+r,c+r,r,J,
G,p);a.closePath();n&&a.fill();m&&a.stroke()}})();var fc;
fc=function(a,b){switch(b.getUint16()){case 0:this.ia="pointer";break;case 1:this.ia="default";break;case 2:this.ia="pointer";break;case 3:this.ia="wait";break;case 4:this.ia="text";break;case 5:this.ia="crosshair";break;case 6:this.ia="help";break;case 7:this.ia="col-resize";break;case 8:this.ia="row-resize";break;case 9:this.ia="nw-resize";break;case 10:this.ia="ne-resize";break;case 11:this.ia="w-resize";break;case 12:this.ia="s-resize";break;case 13:this.ia="pointer";break;default:this.ia="default"}};
fc.prototype={execute:function(a){a.q.canvas.style.cursor=this.ia}};var Zb;Zb=function(a,b,c,d){a=b.getUint32();b=b.getUint32();this.pd=1===(a&1);this.md=d.a.n.SemiTransparencyActive===k?C.$a(b):C.la(b)};Zb.prototype={execute:function(a){a.z().nt(this.md,this.pd)}};var ac;ac=function(a,b,c,d){this.md=d.a.n.SemiTransparencyActive===k?C.$a(b.getUint32()):C.la(b.getUint32());a=this.Tq(b.getUint32());this.fj=b.getUint16();c=b.getUint16();b=b.getString(c,p);this.ub=a+" "+this.fj+"px "+b};
ac.prototype={execute:function(a){a.z().Ht(this.ub,this.fj,this.md)},Tq:function(a){var b=[];0!==(a&1)&&b.push("italic");0!==(a&2)&&b.push("bold");return b.join(" ")}};var gc;
gc=function(a,b,c,d){var a=1===b.getUint32(),c=b.getUint32(),e=b.getUint32(),f=b.getUint32(),g=b.getUint32()/100,j=b.getUint32()/100,n=b.getUint32(),m=0===b.getUint32();b.getUint32();b=b.getUint32();d.a.n.SemiTransparencyActive===k?(c=C.$a(c),e=C.$a(e),b=C.$a(b)):(c=C.la(c),e=C.la(e),b=C.la(b));this.kp=new sa(a,c,e,f,g,j,n,m,b)};gc.prototype={execute:function(a){a.z().pt(this.kp)}};var lc;lc=function(a,b,c,d){this.Ga=b.getUint32();d.a.n.SemiTransparencyActive=2===(this.Ga&2)};
lc.prototype={execute:function(a){a=a.a.xb;a!==l&&a.p.qt(1===(this.Ga&1))}};var $b;
$b=function(a,b,c,d){var e=b.v(),f=b.getUint32(),g=b.getUint32(),a=b.getUint16(),j=["butt","square","round"],n=["miter","bevel","round"];this.pd=5===f;this.md=d.a.n.SemiTransparencyActive===k?C.$a(g):C.la(g);this.ir=a;if(c>=b.v()-e+11){c=b.getUint16();this.Gb=j[0];if(0!==(c&0))this.Gb=j[0];if(0!==(c&1))this.Gb=j[1];if(0!==(c&2))this.Gb=j[2];c=b.getUint16();this.Hb=n[0];if(0!==(c&0))this.Hb=n[0];if(0!==(c&1))this.Hb=n[1];if(0!==(c&2))this.Hb=n[2];b=b.getUint16();this.gd=1==b?1.7*a:2*b}else this.Gb=
j[0],this.Hb=n[0],this.gd=1.7*a};$b.prototype={execute:function(a){a.z().tt(this.ir,this.md,this.pd,this.Gb,this.Hb,this.gd)}};var mc;mc=function(a,b,c){this.ya=[];for(var d=l,a=b.v(),e,f;b.v()-a<c-8;)e=b.getUint32(),e&2147483648?(f=b.getUint32(),d=C.Zb(b),d.w-=1,d.s-=1,d=new oc(f,d,e&2147483647),this.ya.push(d)):d!==l&&(f=e&65535,e=(e&2147483647)>>16,f=b.v()+f,this.uq(b,d,e),b.seek(f))};
mc.prototype={execute:function(a){var b=a.a.xb,c;if(b!==l){b.ya.clear();for(c=0;c<this.ya.length;++c)b.ya.Pg(this.ya[c]);a.a.n.DebugOnlyPrintTouchRectangles&&this.yo()}},uq:function(a,b,c){switch(c){case 3:b.info().scroll().G.wt(new z(a.getInt32(),a.getInt32()));b.info().scroll().G.ut(new z(a.getInt32(),a.getInt32()));b.Pe(pc.ai);break;case 4:b.info().zoom().G.xt(a.getFloat32()),b.info().zoom().G.vt(a.getFloat32()),b.Pe(pc.ji)}},yo:function(){var a,b;for(a=0;a<this.ya.length;++a)b=this.ya[a],WebvisuLogger.P(H.ma("TouchRect ({0}): {1} (Flags: {2})",
b.id(),H.Sm(b.ha),b.yb())),b.m(pc.ai)&&WebvisuLogger.P(H.ma("  ScrollLimits {0} -> {1}",H.Yb(b.info().scroll().G.fa),H.Yb(b.info().scroll().G.ea))),b.m(pc.ji)&&WebvisuLogger.P(H.ma("  Zoomlimits: {0} -> {1}",b.info().zoom().G.fa,b.info().zoom().G.ea))}};var cc;cc=function(a,b){this.Gn=1===b.getUint16()};cc.prototype={execute:function(a){this.Gn?a.Zs():a.$s()}};var kc;kc=function(a,b){var c=b.getUint16();this.ga=b.getString(c,p)};
kc.prototype={execute:function(a){if(a.a.n.ChangeWindowTitle)window.document.title=this.ga}};var bc;bc=function(a,b){this.g=C.Zb(b)};bc.prototype={execute:function(a){a.getContext().restore();a.z().apply()}};var dc;dc=q();dc.prototype={execute:function(){WebvisuLogger.warn("The functionality ExecuteClientProgram is not possible in the webvisualization.")}};var ec;ec=q();ec.prototype={execute:function(){WebvisuLogger.warn("The functionality OpenFileDialog is not possible in the webvisualization.")}};
var jc;jc=q();jc.prototype={execute:function(a){var b=a.a.Ra,c=a.Lg,d,e,f;d=L.r(4*c.Ic.length);e=P.r(d,a.a.l.sa);for(f=0;f<c.Ic.length;++f)e.Ka(c.h(f)),e.Ka(c.i(f));a=new D(E.ym,a.a.l.V,0,0);a.Ya(d);b.push(a)}};var ic;ic=function(a,b){var c=b.getUint16();this.ga=b.getString(c,34==a)};ic.prototype={execute:function(a){a.Lg.nr(this.ga)}};var hc;hc=function(a,b){b.getUint32();b.getUint32()};hc.prototype={execute:function(a){a.Lg.clear()}};var qc;qc=function(a,b){this.a=a;this.Qo=b};
qc.prototype={execute:function(){var a=this.a.za(),b=this.a.n,c=this.a.Ta();c.wl(b.PlcAddress,b.CommBufferSize,b.UseLocalHost);a.Xa(c.Ua(),this)},Wa:function(a){a=(new Eb(a,k,this.a.ca())).zl();a instanceof oa?(this.a.l.Ud=a.Ud,this.a.Y(this.Qo,0)):this.a.error("Checking for demo mode failed (1): "+a)},Mk:u(p),D:function(a){this.a.error("Checking for demo mode failed (2): "+a)},className:u("CheckDemoModeState")};var rc;
rc=function(a,b,c,d,e){b===i&&(b=l);c===i&&(c=l);this.a=a;this.cq=b;this.bq=c;this.aq=e;this.$p=d};
rc.prototype={execute:function(){var a=this.a.za(),b=this.a.Ta();b.Rr(this.cq,this.bq,this.$p,this.aq);a.Xa(b.Ua(),this)},Wa:function(a){a=(new Eb(a,this.a.l.sa,this.a.ca())).Ts();a instanceof Cb?0===a.Vh?(WebvisuLogger.P("Successfully Logged in! DeviceSessionId: "+a.Zd),this.a.l.Fh=a.Zd,this.a.Y(new sc(this.a),0)):(WebvisuLogger.P("Login failed. Probably credentials necessary; result: "+a.Vh),this.a.Y(new tc(this.a,a),0)):this.D("DeviceLogin failed with the following error: "+a)},D:function(a){this.a.error("Login to the plc device failed: "+
a)},className:u("DeviceLoginState")};var rb;rb=s("a");rb.prototype={execute:function(){WebvisuLogger.info("Triing to reconnect after error");this.a.Y(new lb(this.a),0)},className:u("ErrorState")};var tc;tc=function(a,b){this.a=a;this.Xj=b};
tc.prototype={execute:function(){this.Zp()},className:u("QueryCredentialsState"),Zp:function(){var a=window.document.createElement("div"),b=this.Gi("Ok"),c=this.Gi("Cancel"),d=this.bo(),e=this;b.addEventListener("click",function(){e.Tp(a,d.Xl,d.Qs)},p);c.addEventListener("click",function(){e.Lp(a)},p);a.style.Uu=a.style.WebkitBoxShadow="2px 2px 6px 6px rgba(0,0,0,0.5)";a.align="center";a.appendChild(d.Pt);a.appendChild(b);a.appendChild(c);window.document.body.appendChild(a);H.Jf(a,this.Sn(300,200));
a.style.zIndex=300;a.style.backgroundColor="#d4d0c8";d.Xl.focus()},bo:function(){var a=window.document.createElement("table"),b=window.document.createElement("input"),c=window.document.createElement("input");c.type="password";a.border="0";a.appendChild(this.Ii("Username: ",b));a.appendChild(this.Ii("Password: ",c));return{Pt:a,Xl:b,Qs:c}},Ii:function(a,b){var c=window.document.createElement("tr"),d=window.document.createElement("td");d.appendChild(window.document.createTextNode(a));c.appendChild(d);
d=window.document.createElement("td");d.appendChild(b);c.appendChild(d);return c},Sn:function(a,b){var c=this.a.R.Jd();return new z((c.e+c.s-a)/2,(c.f+c.w-b)/2)},Bi:function(a){window.document.body.removeChild(a)},Tp:function(a,b,c){this.Bi(a);this.a.Y(new rc(this.a,b.value,c.value,this.Xj.cm,this.Xj.hm),0)},Lp:function(a){this.a.Sl("The user did not provide credentials.","No credentials");this.Bi(a)},Gi:function(a){var b=window.document.createElement("input");b.type="button";b.value=a;return b}};
var lb;
(function(){var a,b;a=function(a){if(a!==l){if("false"===a.toLowerCase())return p;if("true"===a.toLowerCase())return k}return l};b=[{La:"HandleTouchEvents",Va:"CFG_HandleTouchEvents",type:"boolean",Na:a},{La:"TouchHandlingActive",Va:"CFG_TouchHandlingActive",type:"boolean",Na:a},{La:"BestFit",Va:"CFG_BestFit",type:"boolean",Na:a},{La:"LogLevel",Va:"CFG_LogLevel",type:"string",Na:l},{La:"Benchmarking",Va:"CFG_Benchmarking",type:"boolean",Na:a},{La:"WorkaroundDisableMouseUpDownAfterActiveTouch",Va:"CFG_WorkaroundDisableMouseUpDownAfterActiveTouch",
type:"boolean",Na:a},{La:"WorkaroundDisableResizeHandling",Va:"CFG_WorkaroundDisableResizeHandling",type:"boolean",Na:a},{La:"DebugOnlyPrintRawTouches",Va:"CFG_DebugOnlyPrintRawTouches",type:"boolean",Na:a},{La:"DebugOnlyPrintGestures",Va:"CFG_DebugOnlyPrintGestures",type:"boolean",Na:a},{La:"DebugOnlyPrintTouchRectangles",Va:"CFG_DebugOnlyPrintTouchRectangles",type:"boolean",Na:a},{La:"ClientName",Va:"ClientName",type:"string",Na:l}];lb=s("a");lb.prototype={execute:function(){var a=this.a.za(),b;
b=window.document.URL;b=b.substr(0,b.lastIndexOf("."));a.sl(b+".cfg.json",this)},bl:function(a){try{var b=this.lq(a);this.mq(b);this.a.Hl(b);this.wo(b);this.Dd()}catch(e){this.D(e)}},mq:function(a){var d,e,f;for(d=0;d<b.length;++d)e=b[d],f=this.Dp(e.Va),f!==l&&(f=e.Na!==l?e.Na(f):f,a[e.La]=f,WebvisuLogger.info("Overridden Config Entry: "+e.La+" = "+f))},Dp:function(a){a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.href);return a===l?l:a[1]},lq:function(a){try{var b=JSON.parse(a),e=new Configuration,
f;for(f in b)f!==i&&(e[f]=b[f]);e.Xt();return e}catch(g){return this.td(g),new Configuration}},D:function(a){this.td(a);this.a.Hl(new Configuration);this.Dd()},Dd:function(){this.a.Y(new uc(this.a),0)},td:function(a){WebvisuLogger.error("Loading the configuration failed for the following reason: "+a+". A default config will be used instead.")},className:u("RetrievingConfigurationState"),wo:function(a){WebvisuLogger.P("Configuration:");for(var b in a)a.hasOwnProperty(b)&&WebvisuLogger.P(H.ma(" - {0}: {1}",
b,a[b]));a.Benchmarking&&WebvisuLogger.info("Benchmarking active")}}})();var vc;vc=s("a");vc.prototype={execute:function(){var a=this.a.za(),b=this.a.Ta();b.dt();a.Xa(b.Ua(),this)},$k:u(k),Wa:function(a){if(a!==l&&(a=(new Eb(a,k,this.a.ca())).Us(),""!==a))this.a.l.Sh=a;this.a.Y(new rc(this.a),0)},D:function(a){this.a.error("Retrieving IP Info failed: "+a)},className:u("RetrievingMyIpState")};var wc;wc=s("a");
wc.prototype={execute:function(){var a=this.a.za(),b=this.a.n,c=this.a.Ta();c.wl(b.PlcAddress,b.CommBufferSize,b.UseLocalHost);a.Xa(c.Ua(),this)},$k:u(k),Wa:function(a){a===l?this.a.Y(this,this.a.n.PollingRegistrationInterval):(a=(new Eb(a,k,this.a.ca())).zl(),a instanceof oa?(WebvisuLogger.P("Successfully connected! SessionId: "+a.Zd+" IntelByteOrder: "+a.sa),this.a.it(a),this.a.Y(new vc(this.a),0)):this.a.error("Connection failed: "+a))},D:function(a){this.a.error("Starting to connect failed: "+
a)},className:u("StartConnectState")};var uc;uc=s("a");uc.prototype={execute:function(){this.a.za().sl(H.Oh((this.a.n.Application+".imagepoolcollection.csv").toLowerCase()),this)},bl:function(a){try{this.a.R.tj.fill(a)}catch(b){this.td(b)}this.Dd()},D:function(a){this.td(a);this.Dd()},Dd:function(){this.a.Y(new wc(this.a),0)},td:function(a){WebvisuLogger.error("Loading the imagepool failed for the following reason: "+a+". Images will not work at all.")},className:u("UploadImagePoolState")};var xc;
xc=s("a");xc.prototype={execute:function(){var a=this.a.za(),b=this.a.Ta(),c=D.Eh(this.a.l.V,this.a.n.BestFit,this.a.n.ScaleTypeIsotropic,this.a.R.Jd());b.vf(c);a.Xa(b.Ua(),this)},Wa:function(a){a=(new Eb(a,this.a.l.sa,this.a.ca())).mf(l);a instanceof Na?!a.cf()||0<a.zc?this.D("Unexpected paint result in "+this.className()):this.a.Y(new yc(this.a),0):this.D(a)},D:function(a){this.a.error("Error during initializing (1) the visualization: "+a)},className:u("VisuOnlineInitState1")};var yc;yc=s("a");
yc.prototype={execute:function(){var a=this.a.za(),b=this.a.Ta(),c=new D(E.Hh,this.a.l.V,0,0),d=L.r(16),e=P.r(d,k),f=this.a.n,g;e.B(458752);e.B(4);g=0;f.HasKeyboard===k&&(g|=24);f.TouchHandlingActive&&(g|=3);e.B(g);c.Ya(d);b.vf(c);a.Xa(b.Ua(),this)},Wa:function(a){a=(new Eb(a,this.a.l.sa,this.a.ca())).mf(l);a instanceof Na?!a.cf()||0<a.zc?this.D("Unexpected paint result in "+this.className()):this.a.Y(new zc(this.a),0):this.D(a)},D:function(a){this.a.error("Error during initializing (2) the visualization: "+
a)},className:u("VisuOnlineInitState2")};var zc;zc=s("a");
zc.prototype={execute:function(){var a=this.a.za(),b=this.a.Ta(),c=new D(E.Hh,this.a.l.V,0,0),d=L.r(32),e=P.r(d,k);e.B(1);e.Qb(this.a.n.StartVisu,p);c.Ya(d);b.vf(c);a.Xa(b.Ua(),this)},Wa:function(a){a=(new Eb(a,this.a.l.sa,this.a.ca())).mf(l);a instanceof Na?!a.cf()||0<a.zc?this.D("Unexpected paint result in "+this.className()):this.a.Y(new Ac(this.a),0):this.D(a)},D:function(a){this.a.error("Error during initializing (3) the visualization: "+a)},className:u("VisuOnlineInitState3")};var Ac;
Ac=function(a){this.a=a;this.Ac=l;this.Cj=H.U();this.a.lt(new Fb);this.Ng=p;this.bj=k;this.Ag=p};
Ac.prototype={execute:function(){var a=this.a.za(),b=this.a.Ta();this.Wn(this.a.R.og);if(this.Ac===l){var c;c=this.a.Ra.empty()?new D(E.zm,this.a.l.V,0,0):this.a.Ra.pop();c.Vj?(this.Ag=k,b.$t(c)):(this.Ag=p,b.vf(c))}else b.Yt(this.Ac.Yf);this.Kq=H.U();a.Xa(b.Ua(),this)},Mk:function(){return this.Ac===l&&!this.Ng},Wa:function(a){if(this.Ag)this.a.Y(this.nj(),this.Oi());else{var a=(new Eb(a,this.a.l.sa,this.a.ca())).mf(this.Ac),b=this;if(a instanceof Na)if(a.cf()){this.Ac=l;if(this.bj)this.a.R.Dr(),
this.bj=p;this.Ng=k;this.a.R.Yr(a,function(){b.Ng=p;b.a.Y(b.nj(),b.Oi())})}else this.Ac=a,this.a.Y(this,0);else this.D(a)}},nj:function(){return!this.a.l.Ud&&4E3<=H.U()-this.Cj?(this.Cj=H.U(),new qc(this.a,this)):this},Oi:function(){var a=this.a.Ra;if(a.empty()){var b=H.U(),c=this.a.n.UpdateRate,a=b-a.Dj;return 0<=a&&a<Math.min(2*c,500)?Math.max(10,c/5):Math.max(10,c-(b-this.Kq))}return 0},Wn:function(a){a.Ar()},D:function(a){this.a.error("Error while processing the visualization: "+a)},className:u("VisuOnlineState")};
var Bc;Bc=function(a){this.a=a;this.Eq=0};
Bc.prototype={execute:function(){var a=this.a.za(),b=this.a.Ta();b.Zt(this.a.l.V);a.Xa(b.Ua(),this)},Wa:function(a){a=(new Eb(a,this.a.l.sa,this.a.ca())).Vs();"number"===typeof a?0===a?(WebvisuLogger.P("Successfully finished visu registration"),this.a.Y(new xc(this.a),0)):1===a?(0===this.Eq++%20&&WebvisuLogger.info("Still polling the registration of the visualization. Is the visu stopped?"),this.a.Y(this,this.a.n.PollingRegistrationInterval)):this.D("Unexpected return value: "+a):this.D(a)},D:function(a){this.a.error("Visu registration in the plc failed: "+
a)},className:u("VisuPollingRegistrationState")};var sc;sc=s("a");
sc.prototype={execute:function(){var a=this.a.za(),b=this.a.Ta(),c=this.a.n;b.au(c.Application,c.ClientName,this.a.l.Sh);a.Xa(b.Ua(),this)},Wa:function(a){a=(new Eb(a,this.a.l.sa,this.a.ca())).Ws();"number"===typeof a?(WebvisuLogger.P("Successful first visu registration step: "+a),this.a.l.V=a,this.a.Y(new Bc(this.a),this.a.n.PollingRegistrationInterval)):this.D(a)},D:function(a){this.a.error("Visu registration in the plc failed: "+a)},className:u("VisuRegistrationState")};var Cc;
Cc=function(a){this.a=a;this.xc=l;this.Ia=[];this.Da=[];"onpointerdown"in window?(WebvisuLogger.Rd("Touchsupport using PointerEvents"),this.Jo(),this.$j(this.wi)):"ontouchstart"in window?(WebvisuLogger.Rd("Touchsupport using TouchEvents"),this.Ko(),this.$j(this.wi)):WebvisuLogger.warn("No touch support")};
Cc.prototype={register:s("xc"),Xg:function(){var a;for(a=0;a<this.Ia.length;++a)this.a.R.q.canvas.removeEventListener(this.Ia[a].gc,this.Ia[a].ka)},wi:function(){return this.a.R.q.canvas},$j:function(){var a;for(a=0;a<this.Ia.length;++a)this.a.R.q.canvas.addEventListener(this.Ia[a].gc,this.Ia[a].ka)},Ko:function(){function a(a){b.wd(a)}var b=this;this.Ia.push({gc:"touchstart",ka:a});this.Ia.push({gc:"touchmove",ka:a});this.Ia.push({gc:"touchend",ka:a})},Jo:function(){var a=this;this.Ia.push({gc:"pointerdown",
ka:function(b){a.Up(b)}});this.Ia.push({gc:"pointermove",ka:function(b){a.Vp(b)}});this.Ia.push({gc:"pointerup",ka:function(b){a.Wp(b)}})},$q:function(a,b){var c;for(c=0;c<a.length;++c)if(a[c].identifier===b)return k;return p},Sf:function(a,b,c){var d,e;for(d=0;d<a.length;++d)e=a[d],b.Mc(new Dc(e.identifier,y.Xd(e),c))},ki:function(a,b,c){var d,e;for(d=0;d<a.length;++d)e=a[d],this.$q(b,e.identifier)||c.Mc(new Dc(e.identifier,y.Xd(e),S.mb))},mo:function(){this.a.n!==l&&this.a.n.WorkaroundDisableMouseUpDownAfterActiveTouch&&
this.a.yg.rt(H.U()+100)},wd:function(a){if(this.xc!==l){a.preventDefault();this.mo();var b=new Ec;"touchstart"==a.type?(this.Sf(a.changedTouches,b,S.lb),this.ki(a.targetTouches,a.changedTouches,b,S.mb)):"touchmove"==a.type?this.Sf(a.targetTouches,b,S.mb):(this.Sf(a.changedTouches,b,S.Pa),this.ki(a.targetTouches,a.changedTouches,b,S.mb),0===a.targetTouches.length&&this.lk());this.xc(b)}},Up:function(a){"mouse"!==a.pointerType&&(a.preventDefault(),-1!==this.hg(a.pointerId)?WebvisuLogger.warn(H.ma("Unexpected Pointerdown event for id: {0}; Ignored!",
a.pointerId)):(this.sk(),this.Da.push(new Dc(a.pointerId,y.Wd(a),S.lb)),this.Zj()))},Wp:function(a){this.tk(a,S.Pa);this.Da.splice(this.hg(a.pointerId),1);"touch"===a.pointerType&&0===this.Da.length&&this.lk()},Vp:function(a){this.tk(a,S.mb)},tk:function(a,b){"mouse"!==a.pointerType&&(a.preventDefault(),this.sk(),this.Da[this.hg(a.pointerId)]=new Dc(a.pointerId,y.Wd(a),b),this.Zj())},Zj:function(){var a=new Ec,b;for(b=0;b<this.Da.length;++b)a.Mc(this.Da[b]);this.xc(a)},sk:function(){var a;for(a=0;a<
this.Da.length;++a)this.Da[a]=new Dc(this.Da[a].id(),this.Da[a].location().oa,S.mb)},hg:function(a){var b;for(b=0;b<this.Da.length;++b)if(this.Da[b].id()===a)return b;return-1},lk:function(){function a(a){a.preventDefault()}var b=this;b.a.R.q.canvas.addEventListener("contextmenu",a);window.setTimeout(function(){b.a.R.q.canvas.removeEventListener("contextmenu",a)},500)}};var Fc;Fc=function(a){this.bb=this.Fa=l;if(!a)a=S.ua;this.sf(a)};
Fc.prototype={type:function(){this.Fa===l&&h(Error("Unexpected call. Gesture data not yet assigned"));return this.Fa.type()},sf:function(a){if(!(this.Fa!==l&&this.type()===a))switch(a){case S.nb:this.Fa=new Gc;break;case S.ua:this.Fa=new Hc;break;case S.Fb:this.Fa=new Ic;break;case S.cb:this.Fa=new Jc(p);break;case S.Ca:this.Fa=new Jc(k);break;default:h(Error("Unexpected gesture type"))}},data:t("Fa"),qa:function(){var a=new Fc;if(this.Fa!==l)a.Fa=this.Fa.qa();a.bb=this.bb;return a}};var S;
S={mb:1,Pa:2,lb:4,be:8,hi:16,Gf:5,ua:0,Fb:1,nb:2,cb:3,Ca:4,Eb:0,ae:1,vn:2,$d:4,fi:8,gi:16,Gu:255,Ba:0,dd:5,ed:10};S.ta=S.ed;S.qc=11;S.kb=12;S.ab=13;S.an=S.ab;var Kc;Kc=function(){this.rh=this.Rh=this.Du=this.Df=this.If=this.Af=p};var Lc;Lc=function(){this.tb=[]};
Lc.prototype={Bl:function(a,b){this.empty()||!this.vp(a)||!b?this.tb.push(a):this.tb[this.tb.length-1]=a},bt:function(a,b){var c,d;for(c=0;c<this.tb.length;++c)if(d=this.tb[c],a.Pd(d,b),b.p.Ad)return p;this.tb=[];return k},empty:function(){return 0===this.tb.length},vp:function(a){var b=this.tb[this.tb.length-1],c,d,e;if(a.touches().length!==b.touches().length)return p;for(c=0;c<a.touches().length;++c)if(d=a.touches()[c],e=b.touches()[c],d.id()!==e.id()||d.yb()!==e.yb()||d.m(S.Pa)||d.m(S.lb))return p;
return k}};var Dc;Dc=function(a,b,c){this.mg=a;this.Ga=c;this.ud=new Mc(b)};Dc.prototype={id:t("mg"),location:t("ud"),yb:t("Ga"),Pe:function(a){this.Ga|=a},m:function(a){return(this.Ga&a)===a}};var Ec;Ec=function(){this.S=[];this.Yq=H.U()};Ec.prototype={touches:t("S"),Mc:function(a){this.S.push(a)},timeStamp:t("Yq")};var Mc;Mc=function(a){this.oa=a;this.Bj=l};Mc.prototype={Md:t("Bj"),st:s("Bj")};var Nc;
Nc={Zg:function(a,b){var c=0<b.touches().length,d,e;a.data().Cr();for(d=0;d<b.touches().length;++d)e=b.touches()[d],a.data().Mc(e.id(),e.location().oa,e.yb()),e.m(S.Pa)||(c=p);return c},pr:function(a,b){var c;for(c=0;c<a.touches().length;++c)if(a.touches()[c].m(b))return k;return p},Qe:function(a,b){var c;for(c=0;c<a.touches().length;++c)if(!a.touches()[c].m(b))return p;return k},Pr:function(a){var b=S.fi|S.gi;1===a.touches().length?b|=S.ae|S.$d:2===a.touches().length&&(b|=S.vn);return b},Kd:function(a){return a===
S.cb||a===S.Ca}};var pb;pb=function(a){var b=this;this.a=a;this.Wi=new Cc(a);this.Wi.register(function(a){b.xc(a)});this.Me=l;this.ya=new Oc;this.p=new Pc;this.Hc=new Qc(a.n);this.Aq=-1;this.fk("none")};
pb.prototype={Xg:function(){this.fk("auto");this.Wi.Xg()},ds:function(a,b){var c=new Kc,d;if(this.rg(a,S.fi)&&this.ya.$r(b))c.rh=k;else if(this.rg(a,S.gi)&&this.ya.or(b))c.Rh=k;else if(this.rg(a,S.ae|S.$d))d=[],this.ya.Br(b,d),c.If=d[0],c.Df=d[1];c.Af=!this.Un();return c},$g:function(a,b,c){if(a>=S.ed&&a<=S.an)if(b.type()===S.ua||b.type()===S.Fb){if(this.So(a,b,b.bb,c))return k}else if(this.up(b.type())&&this.To(a,b,b.bb))return k;return p},fk:function(a){this.a.R.q.canvas.style.touchAction=a},Un:function(){return this.p.nl()?
(this.p.Ct(k),p):k},rg:function(a,b){return(a&b)==b},up:function(a){return a===S.nb||Nc.Kd(a)},zj:function(a){return a===S.Ca},So:function(a,b,c,d){var e=Y.Hf;if(a===S.ta){c=this.ya.dl(b);if(c===l)return k;b.bb=c;this.Rq(c);this.p.ys()}else if((a===S.ab||a===S.kb)&&c!==l)this.Xi(e,b,c),this.pq(b,c);if(c!==l){if(b.type()===S.Fb||b.type()===S.ua)e=b.data().Ik(c,a);Y.lc(e,Y.wf)&&(e=Y.hb(e,Y.Bh))}return a!==S.kb&&(this.Xi(e,b,c),this.Me.Ps(this.a.R.q,c,e,d),Y.m(e,Y.Bh))?((b.type()===S.Fb||b.type()===
S.ua)&&b.data().cl(c.info()),k):p},To:function(a,b,c){if(a===S.ta){c=this.ya.dl(b);if(c===l&&!this.zj(b.type()))return k;b.bb=c;Nc.Kd(b.type())&&this.zg(b,c)}else if(c!==l||this.zj(b.type()))Nc.Kd(b.type())?this.zg(b,c):(a===S.ab||a===S.kb)&&this.zg(b,c);return p},zg:function(a,b){this.Qi(a.data().createEvent(this.a.l.V,b))},Qi:function(a){this.a.Sb(a)},pq:function(a,b){var c=a.data().createEvent(this.a.l.V,b);c.Xb=b.ha;this.Qi(c)},Rq:function(a){a.info().zoom().Xc(1);a.info().scroll().Za(new z(0,
0));this.Me.yr(this.a.R,a.ha)},Xi:function(a,b,c){Y.lc(a,Y.Mm)&&this.no(a,b,c);Y.m(a,Y.Nf)&&(c.info().zoom().Xc(c.info().zoom().G.fa),this.En(b,c));Y.m(a,Y.Mf)&&c.info().zoom().Xc(c.info().zoom().G.ea)},En:function(a,b){this.Ej(Y.oc|Y.pc,b)},no:function(a,b,c){b.type()===S.Fb?this.Ej(a,c):b.type()===S.ua&&this.Bp(a,c)},Ej:function(a,b){var c=b.Xk(),d=b.info().zoom(),e;Y.m(a,Y.ad)?d.Wc(new z(d.sb.c+c.e,d.va.b)):Y.m(a,Y.oc)&&(e=d.sb.c-(1-d.eb)*d.sb.c,d.Wc(new z(e,d.va.b)),b.info().scroll().Za(new z(d.va.c-
d.sb.c,b.info().scroll().pa.b)));Y.m(a,Y.bd)?d.Wc(new z(d.va.c,d.sb.b+c.f)):Y.m(a,Y.pc)&&(e=d.sb.b-(1-d.eb)*d.sb.b,d.Wc(new z(d.va.c,e)),b.info().scroll().Za(new z(b.info().scroll().pa.c,d.va.b-d.sb.b)))},Bp:function(a,b){var c=b.info().scroll(),d=c.G;Y.m(a,Y.ad)&&c.Za(new z(d.fa.c,c.pa.b));Y.m(a,Y.bd)&&c.Za(new z(c.pa.c,d.fa.b));Y.m(a,Y.oc)&&c.Za(new z(d.ea.c,c.pa.b));Y.m(a,Y.pc)&&c.Za(new z(c.pa.c,d.ea.b))},xc:function(a){var b=this.a.n;if(!(b===l||!this.p.sj||!b.TouchHandlingActive)){b.DebugOnlyPrintRawTouches&&
this.zo(a);this.Xn(a);if(this.Me===l)this.Me=new Rc(this.a.R.q.canvas);this.p.Ad?(this.Hc.buffer().Bl(a,k),this.Hg()):this.Hc.Pd(a,this)&&(this.p.Ad&&this.Hc.buffer().Bl(a,k),this.Hc.buffer().empty()||this.Hg())}},Xn:function(a){Nc.Qe(a,S.lb)?this.a.yg.Jl(k):Nc.Qe(a,S.Pa)&&this.a.yg.Jl(p)},Hg:function(){if(-1!==this.Aq){var a=this;window.setTimeout(function(){a.Xp()},100)}},Xp:function(){this.Hc.buffer().bt(this.Hc,this)||this.Hg()},zo:function(a){var b,c,d,e,f;c=H.ma("Touches ({0}): ",a.touches().length);
for(b=0;b<a.touches().length;++b)d=a.touches()[b],e="D",f="",d.m(S.mb)?e="M":d.m(S.Pa)&&(e="U"),d.m(S.be)&&(f="P"),c+=H.ma("[{0}{1}{2} ({3}/{4})] ",f,e,d.id(),d.location().oa.c,d.location().oa.b);WebvisuLogger.Rd(c)}};var Rc;Rc=function(a){this.Eg=this.Hi(a.width,a.height);this.oq=this.co()};
Rc.prototype={Ps:function(a,b,c,d){Y.lc(c,Y.wf)?this.eq(a,b,c,d):this.Pj(a,b)},Pj:function(a,b){a.save();var c=b.ha.e,d=b.ha.f,e=b.ha.h(),f=b.ha.i();a.fillStyle=this.oq;a.fillRect(c,d,e,f);a.beginPath();a.rect(c,d,e,f);a.clip();this.br(a,b);a.drawImage(this.Eg,c,d,e,f,c,d,e,f);a.restore()},eq:function(a,b,c,d){var e=H.U(),f,g,j=b.info().zoom().eb,n=b.info().scroll().pa,m=[],v=[],J,G,K,r,X,Z,Ca,Qa,B,ta,T,U=this;for(g=0;3>g;++g)m[g]=j,v[g]=n.qa();if(Y.m(c,Y.zf)){for(g=0;3>g;++g)m[g]=b.info().zoom().G.fa;
m[1]*=0.8}else if(Y.m(c,Y.yf)){for(g=0;3>g;++g)m[g]=b.info().zoom().G.ea;m[1]*=1.2}else if(Y.m(c,Y.ad)){for(g=0;3>g;++g)v[g].c=b.info().scroll().G.fa.c;v[1].c-=50}else if(Y.m(c,Y.bd)){for(g=0;3>g;++g)v[g].b=b.info().scroll().G.fa.b;v[1].b-=50}else if(Y.m(c,Y.oc)){for(g=0;3>g;++g)v[g].c=b.info().scroll().G.ea.c;v[1].c+=50}else if(Y.m(c,Y.pc)){for(g=0;3>g;++g)v[g].b=b.info().scroll().G.ea.b;v[1].b+=50}d.Wk=k;T=function(){f=H.U();f<e+300&&f>=e?(G=(J=f<e+150)?0:1,K=m[G],r=m[G+1],Z=v[G],Ca=v[G+1],B=(f-
e-(J?0:150))/150,ta=Ca.Ot(Z),X=K+B*(r-K),Qa=Z.kh(ta.scale(B)),b.info().zoom().Xc(X),b.info().scroll().Za(Qa),U.Pj(a,b),window.setTimeout(T,40)):(b.info().zoom().Xc(j),b.info().scroll().Za(n),d.xr())};window.setTimeout(T,0)},br:function(a,b){a.translate(b.info().zoom().va.c,b.info().zoom().va.b);a.scale(b.info().zoom().eb,b.info().zoom().eb);a.translate(-b.info().zoom().va.c,-b.info().zoom().va.b);a.translate(b.info().scroll().pa.c,b.info().scroll().pa.b)},yr:function(a,b){var c=this.Eg.getContext("2d");
c.drawImage(a.Ea.canvas,b.e,b.f,b.h(),b.i(),b.e,b.f,b.h(),b.i());c.drawImage(a.q.canvas,b.e,b.f,b.h(),b.i(),b.e,b.f,b.h(),b.i())},Hi:function(a,b){var c=window.document.createElement("canvas");c.width=a;c.height=b;return c},co:function(){var a=this.Hi(8,8),b=a.getContext("2d");b.fillStyle="#fff";b.fillRect(0,0,a.width,a.height);b.Iv="#000";b.lineWidth=1;b.beginPath();b.moveTo(b.lineWidth/2,a.height);b.lineTo(b.lineWidth/2,b.lineWidth/2);b.lineTo(a.width,b.lineWidth/2);b.stroke();b.closePath();return this.Eg.getContext("2d").createPattern(a,
"repeat")}};var Pc;Pc=function(){this.Ad=this.sj=p;this.se=0};Pc.prototype={qt:s("sj"),Ct:s("Ad"),ys:function(){this.se++},Nr:function(){this.se--;if(0===this.se)this.Ad=p},nl:function(){return 0<this.se}};var Y;Y={Hf:0,Nf:1,Mf:2};Y.zu=Y.Nf|Y.Mf;Y.ad=4;Y.bd=8;Y.oc=16;Y.pc=32;Y.Mm=Y.ad|Y.bd|Y.oc|Y.pc;Y.Bh=65536;Y.xh=131072;Y.yh=262144;Y.vh=524288;Y.wh=1048576;Y.zf=2097152;Y.yf=4194304;Y.th=Y.xh|Y.vh;Y.uh=Y.yh|Y.wh;Y.xf=Y.th|Y.uh;Y.$l=Y.zf|Y.yf;Y.wf=Y.$l|Y.xf;Y.hb=function(a,b){return a|b};
Y.Ys=function(a){return a&~Y.xf};Y.m=function(a,b){return(a&b)===b};Y.lc=function(a,b){return 0!==(a&b)};var Qc;Qc=function(a){var b;this.o=new Lc;this.zd=[];this.zd[0]=new Sc;for(b=1;b<S.Gf;++b)this.zd[b]=new Tc;this.ak();this.Fe=new Uc(a);this.p=new Vc;this.ke=new Wc;this.sd=l;this.xo=a.DebugOnlyPrintGestures};
Qc.prototype={Pd:function(a,b){if(1>a.touches().length||a.touches().length>S.Gf)return p;var c=new Fc,d,e=p;this.Io(a);this.Tn(a,b)&&((this.p.K.state()===S.ta||this.p.K.state()===S.qc)&&this.No(a,b),this.p.Dl(),this.ak(),this.ke.oe.rh&&this.p.K.Ha.sf(S.cb));if(this.p.K.Ha.type()!=S.cb&&(d=a.touches().length-1,d=this.zd[d].Pd(this,a,c),d===S.dd||d>=S.ed)){if(d>=S.ed){if(this.sd!==l)this.ye(this.sd.state(),this.sd.Ha,a,b),this.sd=l;this.ye(d,c,a,b);return k}this.p.K.assign(d,c);this.p.K.Hk(a);e=k}if(!e)return this.ke.oe.Af||
(d=this.jo(c,a),this.ye(d,c,a,b)),k;this.$f(S.Ba,c);return p},buffer:t("o"),As:function(a,b){var c=new Fc(S.Ca);c.data().Mc(b,a,S.lb|S.be);this.sd=new Xc(S.ta,c)},ye:function(a,b,c,d){if(this.p.K.state()!==S.kb){var e=this.p.K.Ha.bb;this.Vn(a,b);this.$f(a,b);this.p.K.assign(a,b.qa());b.bb=e;e={Wk:p,xr:function(){d.$g(S.kb,b)}};d.$g(a,b,e)&&(this.$f(S.kb,b),e.Wk||d.$g(S.kb,b),this.p.K.rf(S.kb));this.p.K.Ha.bb=b.bb;a!==S.ab&&this.p.K.Hk(c)}a===S.ab&&this.p.Dl()},Vn:function(a,b){var c,d;if(a===S.ta&&
b.type()===S.Ca){c=p;for(d=0;d<b.data().touches().length;++d)if(b.data().touches()[d].m(S.be)){c=k;break}if(!c)for(d=0;d<b.data().touches().length;++d)if(b.data().touches()[d].m(S.lb)){this.p.K.ot(b.data().touches()[d].id());break}}if(this.p.K.jj)for(d=0;d<b.data().touches().length;++d)if(b.data().touches()[d].id()==this.p.K.qi){b.data().touches()[d].Pe(S.hi);break}},jo:function(a,b){var c=Nc.Qe(b,S.Pa),d;d=this.p.K.Ha.type()===S.cb?S.cb:S.Ca;a.sf(d);Nc.Zg(a,b);return c?S.ab:this.p.K.state()===S.ta||
this.p.K.state()===S.qc?S.qc:S.ta},ak:function(){var a;for(a=0;a<this.zd.length;++a)this.zd[a].rf(S.Ba)},Io:function(a){var b,c;for(b=0;b<a.touches().length;++b)c=a.touches()[b],this.p.Vt(c)||this.p.mr(c)||WebvisuLogger.error("Could not store touch information; probably a touch release/up was missing")},Tn:function(a,b){return this.tp(a)?(this.ke.yt(b.ds(Nc.Pr(a),a)),k):p},No:function(a,b){Nc.Kd(this.p.K.Ha.type())&&Nc.Zg(this.p.K.Ha,a);this.ye(S.ab,this.p.K.Ha,a,b)},tp:function(a){if(this.p.K.state()===
S.Ba)return k;if(Nc.Kd(this.p.K.Ha.type()))return Nc.Qe(a,S.lb);if(this.p.K.Ed.length!==a.touches().length)return k;var b;for(b=0;b<a.touches().length;++b)if(!this.p.K.Bs(a.touches()[b].id()))return k;return p},$f:function(a,b){if(this.xo){var c="";switch(a){case S.Ba:WebvisuLogger.P("No gesture");return;case S.dd:c="Gesture (candidate); ";break;case S.ta:c="Gesture (new); ";break;case S.ab:c="Gesture (finished); ";break;case S.qc:return;case S.ab:c="Gesture (finished); ";break;case S.kb:c="Gesture (cancelled); "}c+=
b.data().Ve();WebvisuLogger.P(c)}}};var Yc;Yc=function(){this.L=S.Ba;this.Ha=new Fc;this.Ed=[];this.jj=p;this.qi=-1};Yc.prototype={state:t("L"),rf:s("L"),ot:function(a){this.jj=k;this.qi=a},assign:function(a,b){this.L=a;this.Ha=b},Hk:function(a){var b;this.Ed=[];for(b=0;b<a.touches().length;++b)this.Ed.push(a.touches()[b].id())},Bs:function(a){var b;for(b=0;b<this.Ed.length;++b)if(this.Ed[b]===a)return k;return p}};var Wc;Wc=function(){this.Ou=p;this.oe=l};Wc.prototype={yt:s("oe")};var Xc;
Xc=function(a,b){this.L=a;this.Ha=b};Xc.prototype={state:t("L")};var Vc;Vc=function(){this.cc=[];this.K=new Yc};Vc.prototype={Vt:function(a){var b;for(b=0;b<this.cc.length;++b)if(this.cc[b].id===a.id())return a.location().st(this.cc[b].Md),a.m(S.Pa)?this.cc.splice(b,1):this.cc[b].Md=a.location().Md(),k;return p},mr:function(a){if(this.cc.length===S.Gf)return p;this.cc.push({id:a.id(),Md:a.location().oa});return k},Dl:function(){this.K=new Yc}};var Uc;
Uc=function(a){this.Po=a.GesturesFlickPanThresholdPxPerSecond;this.jq=a.GesturesPanFlickTimeThresholdMs;this.ar=a.GesturesTouchMouseTimeThresholdMs;this.iq=a.GesturesPanClickThresholdDistSquare};Uc.prototype={Bm:t("Po"),Nm:t("jq"),un:t("ar")};var Gc;Gc=function(a){a===i&&(a=new z(0,0));this.ja=a;this.Ja=new z(0,0);this.Kc=0};
Gc.prototype={type:function(){return S.nb},qa:function(){var a=new Gc(this.ja);a.Gd(this);return a},Ve:function(){return H.ma("Flick: start({0}), overall move({1}), velocity {2}",H.Yb(this.ja),H.Yb(this.Ja),this.Kc)},createEvent:function(a,b){var c=new D(E.nm,a,b.id(),0),d,e;d=L.r(12);e=P.r(d,k);e.B(this.ja.Rb());e.B(this.Ja.Rb());e.B(this.Kc);c.Ya(d);return c},Gd:function(a){this.ja=a.ja;this.Ja=a.Ja;this.Kc=a.Kc},start:t("ja"),Kt:s("Kc"),ph:function(a){this.Ja=a.Wb(this.ja)}};var Jc;
Jc=function(a){this.Fd=a;this.S=[]};
Jc.prototype={type:function(){return this.Fd?S.Ca:S.cb},touches:t("S"),Cr:function(){this.S=[]},Mc:function(a,b,c){a=new Dc(a,b,c);if(a.m(S.Pa)||a.m(S.lb))this.Nu=k;this.S.push(a)},qa:function(){var a=new Jc(this.Fd);a.S=this.S.slice(0);return a},Ve:function(){var a="",b="",c,a=this.Fd?"TouchToMouse":"IEC-Touches";for(c=0;c<this.S.length;++c)if(2>c)b+=H.ma("[{0}, {1}]({2}) ",c,this.S[c].yb(),H.Yb(this.S[c].location().oa));else{b+="...";break}return H.ma("{0} ({1}): {2}",a,this.S.length,b)},createEvent:function(a,
b){var c,d=c=0,e,f,g,j,n=k,m;this.Fd||(c=b.id());d=this.S.length;m=this.Fd?E.sm:E.om;e=L.r(8*this.S.length);f=P.r(e,k);for(g=0;g<this.S.length;++g){f.B(this.S[g].location().oa.Rb());j=255&this.Ep(this.S[g]);this.S[g].m(S.mb)||(n=p);if(this.S[g].m(S.be)||this.S[g].m(S.hi))j|=256;j|=(this.S[g].id()&65535)<<16>>>0;f.B(j)}n&&m++;c=new D(m,a,c,d);c.Ya(e);return c},Ep:function(a){return a.m(S.mb)?2:a.m(S.Pa)?3:a.m(S.lb)?1:0}};var Hc;Hc=function(a){a===i&&(a=new z(0,0));this.ja=a;this.Ja=new z(0,0)};
Hc.prototype={type:function(){return S.ua},qa:function(){var a=new Hc(this.ja);a.Gd(this);return a},Gd:function(a){this.ja=a.ja;this.Ja=a.Ja},cl:function(a){this.Ja=a.scroll().pa},Ik:function(a,b){var c=a.info().scroll();b===S.ta&&c.jt(this.ja);c.Za(this.Ja);return a.Nk()},Ve:function(){return H.ma("Pan: start({0}), overall move({1})",H.Yb(this.ja),H.Yb(this.Ja))},createEvent:function(a,b){var c=new D(E.qm,a,b.id(),0),d,e;d=L.r(8);e=P.r(d,k);e.B(b.info().scroll().Ki.Rb());e.B(b.info().scroll().pa.Rb());
c.Ya(d);return c},start:t("ja"),ph:function(a){this.Ja=a.Wb(this.ja)}};var Ic;Ic=function(){this.Jg=new z(0,0);this.yi=new z(0,0);this.Nj=1;this.we=this.Je=0};
Ic.prototype={type:function(){return S.Fb},qa:q(),Ve:u("SpreadPinch: "),cl:function(a){this.Nj=a.zoom().eb},Ik:function(a,b){var c=a.info().zoom(),d=a.info().scroll();b===S.ta&&c.Wc(this.Jg);c.Wc(this.yi);c.Xc(this.Nj);c.Gt(this.Je);c.Bt(this.we);d.Za(this.yi.Wb(this.Jg));c=a.Nk();Y.lc(c,Y.xf)&&this.wp(a)&&(c=Y.Ys(c));return c},createEvent:function(a,b){var c=new D(E.rm,a,b.id(),0),d,e,f,g;g=b.info().zoom();d=L.r(16);e=P.r(d,k);e.B(g.va.Rb());e.B(g.sb.Rb());e.B(65536*g.eb);f=65536*(g.Je/2/Math.PI);
g=65536*(g.orientation()/2/Math.PI);e.B(f|g<<16);c.Ya(d);return c},wp:function(a){return 400>a.info().scroll().Mr.Yg(new z(0,0))}};var Tc;Tc=q();Tc.prototype={Pd:function(){return S.Ba},state:function(){return S.Ba},rf:q()};var Sc;Sc=function(){this.L=S.Ba;this.Ke=0;this.Sq=this.na=this.Gc=this.sg=l;this.rb=-1};
Sc.prototype={Pd:function(a,b,c){var d,e=a.ke.oe;if(Nc.pr(b,S.Pa)){if(this.L===S.dd)this.na=S.Eb,this.rb=S.Ca,this.xj(a,b);this.L=this.Pn()}else switch(d=b.touches()[0].location(),this.L){case S.Ba:if(e.Af)return S.Ba;e.Rh?(this.na=S.Eb,this.rb=S.Ca,this.L=S.ta):e.If||e.Df?(this.na=S.Eb,e.If&&(this.na|=S.ae),e.Df&&(this.na|=S.$d),this.L=S.dd):(this.na=S.Eb,this.rb=S.Ca,this.L=S.ta);this.np(b);break;case S.dd:if(d=d.oa.Yg(d.Md())>a.Fe.iq)this.na===S.ae?this.ue(b,S.ua):this.na===S.$d?this.ue(b,S.nb):
(d=b.timeStamp()-this.Ke>a.Fe.Nm)&&(this.Gc.Kc<a.Fe.Bm?this.ue(b,S.ua):this.ue(b,S.nb));else if(d=b.timeStamp()-this.Ke>a.Fe.un)this.na=S.Eb,this.rb=S.Ca,this.xj(a,b),this.L=S.qc;break;default:this.rk(b),this.L=S.qc}if(this.L>=S.ed)switch(c.sf(this.rb),this.rb){case S.ua:c.data().Gd(this.sg);break;case S.nb:c.data().Gd(this.Gc);break;case S.cb:case S.Ca:Nc.Zg(c,b);break;default:h(Error("unexpected"))}return this.L},state:t("L"),rf:s("L"),np:function(a){a=a.touches()[0].location().oa;this.Ke=H.U();
this.Gc=new Gc(a);this.sg=new Hc(a);this.Sq=a},ue:function(a,b){this.rk(a);this.na=S.Eb;this.rb=b;this.L=S.ta},xj:function(a,b){a.As(b.touches()[0].location().oa,b.touches()[0].id())},rk:function(a){var b=a.touches()[0].location().oa,c;(this.rb===S.ua||this.na!==S.Eb)&&this.sg.ph(b);if(this.rb===S.nb||this.na!==S.Eb)c=this.Gc.start().Sr(b),a=a.timeStamp()-this.Ke,1.0E-6>a&&(a=10),this.Gc.Kt(1E3*(c/a)),this.Gc.ph(b)},Pn:function(){return this.L===S.Ba?S.Ba:S.ab}};var oc;
oc=function(a,b,c){this.mg=a;this.ha=b;this.Ga=c;this.vb=new Zc};
oc.prototype={id:t("mg"),yb:t("Ga"),Pe:function(a){this.Ga|=a},m:function(a){return(this.Ga&a)===a},info:t("vb"),Nc:function(a){return a.c>=this.ha.e&&a.c<=this.ha.s&&a.b>=this.ha.f&&a.b<=this.ha.w},ze:function(a,b,c,d){if(!Y.lc(d,Y.wf)){var e=Math.abs(b.c-c.c),b=Math.abs(b.b-c.b);if(Y.lc(a,Y.th)&&e>b||Y.lc(a,Y.uh)&&b>e)d=Y.hb(d,a)}return d},Nk:function(){var a=Y.Hf,b=this.vb.zoom(),c=this.vb.scroll(),d=b.eb,e=c.pa,f=this.Xk();d<b.G.fa&&(a=Y.hb(a,Y.Nf),a=Y.hb(a,Y.zf));d>b.G.ea&&(a=Y.hb(a,Y.Mf),a=
Y.hb(a,Y.yf));e.c<f.e&&(a=Y.hb(a,Y.ad),a=this.ze(Y.xh,e,c.G.fa,a));e.b<f.f&&(a=Y.hb(a,Y.bd),a=this.ze(Y.yh,e,c.G.fa,a));e.c>f.s&&(a=Y.hb(a,Y.oc),a=this.ze(Y.vh,e,c.G.ea,a));e.b>f.w&&(a=Y.hb(a,Y.pc),a=this.ze(Y.wh,e,c.G.ea,a));return a},Xk:function(){var a,b;b=this.ha.Qd().Wb(this.vb.scroll().G.ea);a=this.ha.Ue().Wb(this.vb.scroll().G.fa);a=(new M(b.c,b.b,a.c,a.b)).zr(this.vb.zoom().va,this.vb.zoom().eb);b=this.ha.Qd().Wb(a.Qd());a=this.ha.Ue().Wb(a.Ue());a=new M(b.c,b.b,a.c,a.b);b=a.Ue().min(this.vb.scroll().G.fa);
a=a.Qd().min(this.vb.scroll().G.ea);return new M(b.c,b.b,a.c,a.b)}};var pc;pc={Hf:0,bi:1,xn:3,wu:4,Mh:8,ei:16,ji:32,ai:64,Rm:128};var Zc;Zc=function(){this.kr=new $c;this.Hq=new ad};Zc.prototype={zoom:t("kr"),scroll:t("Hq")};var ad;ad=function(){this.G=new bd;this.Ki=new z(0,0);this.pa=new z(0,0)};ad.prototype={jt:s("Ki"),Mr:t("pa"),Za:s("pa")};var $c;$c=function(){this.G=new ld;this.va=new z(0,0);this.sb=new z(0,0);this.eb=1;this.we=this.Je=0};
$c.prototype={Wc:s("va"),Xc:s("eb"),Gt:s("Je"),orientation:t("we"),Bt:s("we")};var Oc;Oc=function(){this.J=[]};
Oc.prototype={dl:function(a){var b,c;switch(a.type()){case S.Fb:c=pc.xn;break;case S.ua:c=pc.bi;break;case S.nb:c=pc.Mh;break;case S.cb:c=pc.ei;break;default:c=0}for(b=0;b<this.J.length;++b)if(this.J[b].m(c)&&(a.type()===S.Fb&&this.J[b].Nc(a.data().Jg)||a.type()===S.ua&&this.J[b].Nc(a.data().start())||a.type()===S.nb&&this.J[b].Nc(a.data().start())||a.type()===S.cb&&this.ni(a.data().touches(),this.J[b])))return this.J[b];return l},$r:function(a){var b;for(b=0;b<this.J.length;++b)if(this.J[b].m(pc.ei)&&
this.ni(a.touches(),this.J[b]))return this.J[b];return l},or:function(a){var b,c,d=[];for(b=0;b<this.J.length;++b)for(c=0;c<a.touches().length;++c)d[c]||this.J[b].Nc(a.touches()[c].location().oa)&&this.J[b].m(pc.Rm)&&(d[c]=k);for(c=0;c<a.touches().length;++c)if(d[c]!==k)return p;return k},Br:function(a,b){b[0]=p;b[1]=p;if(1===a.touches().length){var c,d=a.touches()[0].location().oa,e;for(c=0;c<this.J.length&&(!this.J[c].Nc(d)||!(e=p,this.J[c].m(pc.bi)&&(e=b[0]=k),this.J[c].m(pc.Mh)&&(e=b[1]=k),!e));++c);
}},clear:function(){this.J=[]},Pg:function(a){this.J.unshift(a)},ni:function(a,b){var c;for(c=0;c<a.length;++c)if(!b.Nc(a[c].location().oa))return p;return k}};var bd;bd=function(){this.fa=new z(0,0);this.ea=new z(0,0)};bd.prototype={wt:s("fa"),ut:s("ea")};var ld;ld=function(){this.ea=this.fa=0};ld.prototype={xt:s("fa"),vt:s("ea")};var kb;kb=function(a){this.a=a;this.tc=this.wj=p;this.wg=this.Qj=0;this.Kb=l;this.xg=p};
kb.prototype={Mt:function(){this.wj||this.qp();if(this.tc)this.Qj=H.Td()},Wr:function(a){if(this.tc&&!a){a=H.Td();if(this.xg)this.Wj(a-this.wg,2),this.xg=p;this.Wj(a-this.Qj,1)}},Hs:function(a){if(this.tc)this.wg=H.Td(),this.Kb=y.Wd(a)},Tt:function(a){if(this.tc)this.wg=H.Td(),this.Kb=a},Xs:function(a){if(this.tc&&this.Kb!==l&&!(this.Kb.c<a.e||this.Kb.c>a.s))if(!(this.Kb.b<a.f||this.Kb.b>a.w))this.Kb=l,this.xg=k},Wj:function(a,b){var c;c=new D(E.Kh,this.a.l.V,b,a&4294967295);c.Et();this.a.Sb(c)},
qp:function(){this.tc=this.a.n.Benchmarking;this.wj=k}};var Ua;Ua=function(){this.clear()};Ua.prototype={clear:function(){this.J=[]},Pg:function(a){this.J.push(a)},rr:function(a){a.beginPath();for(var b=0;b<this.J.length;++b)a.rect(this.J[b].e-1,this.J[b].f-1,this.J[b].h()+2,this.J[b].i()+2);a.clip()}};var Jb;
Jb=function(a,b){this.Hn=a;this.Ge=b;this.ti=[];this.Li=[];var c,d=this.Zq(this.Hn);for(c=0;c<this.Ge;++c){var e=Math.floor(d.ka+(c+1)*(128-Math.floor(d.ka/2))/this.Ge);this.ti[this.Ge-c-1]=this.nk(d.ra,d.Vc,e,d.Og);e=Math.floor(Math.floor(d.ka/3)+Math.floor(2*c*d.ka/(3*this.Ge)));this.Li[c]=this.nk(d.ra,d.Vc,e,d.Og)}};
Jb.prototype={fs:function(a){return this.ti[a]},fl:function(a){return this.Li[a]},Zq:function(a){var b={},c,d,e,f,g,j,n;e=((a&4278190080)>>24)/255;c=((a&16711680)>>16)/255;d=((a&65280)>>8)/255;a=(a&255)/255;f=Math.min(c,Math.min(d,a));g=Math.max(c,Math.max(d,a));j=g-f;b.ka=(f+g)/2;if(0===j)b.ra=b.Vc=0;else{b.Vc=0.5>b.ka?j/(g+f):j/(2-g-f);f=((g-c)/6+j/2)/j;n=((g-d)/6+j/2)/j;j=((g-a)/6+j/2)/j;if(c===g)b.ra=j-n;else if(d===g)b.ra=1/3+f-j;else if(a===g)b.ra=2/3+n-f;0>b.ra&&(b.ra+=1);1<b.ra&&(b.ra-=1)}b.ra=
Math.round(255*b.ra);b.Vc=Math.round(255*b.Vc);b.ka=Math.round(255*b.ka);b.Og=Math.round(255*e);return b},nk:function(a,b,c,d){var e,f;0===b?c=f=a=c:(a/=255,b/=255,c/=255,b=0.5>c?c*(1+b):c+b-c*b,e=2*c-b,c=Math.round(255*this.lg(e,b,a+1/3)),f=Math.round(255*this.lg(e,b,a)),a=Math.round(255*this.lg(e,b,a-1/3)));return(d<<24)+(c<<16)+(f<<8)+a},lg:function(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}};var ia;
ia=function(a){try{this.kq(a)}catch(b){h(Error("Parsing the fontstring '"+a+"' failed for the following reason: "+b))}};
ia.prototype={kq:function(a){var b=l,c=l,d,e=p,f=a.split(/\s+/);for(d=0;d<f.length;++d){var g=f[d];switch(g){case "normal":break;case "italic":case "oblique":break;case "small-caps":break;case "bold":case "bolder":case "lighter":case "100":case "200":case "300":case "400":case "500":case "600":case "700":case "800":case "900":break;default:if(c===l){g=g.split("/");g=H.rc(g[0]);"p"===g.charAt(g.length-2)&&"x"===g.charAt(g.length-1)&&(c=parseInt(g.substr(0,g.length-2),10));break}b=g;d<f.length-1&&(b+=
" "+f.slice(d+1).join(" "));e=k}if(e)break}b===l&&h(Error("Font Family/Name missing"));(c===l||isNaN(c))&&h(Error("Invalid or unsupported font Size"));this.ku=b;this.Cm=c;this.Nh=a}};var z;z=function(a,b){this.c=a;this.b=b};
z.prototype={Rl:function(a){this.c-=a.c;this.b-=a.b;return this},Wb:function(a){return this.qa().Rl(a)},Ot:function(a){a=this.Wb(a);return new A(a.c,a.b)},min:function(a){return new z(Math.min(this.c,a.c),Math.min(this.b,a.b))},max:function(a){return new z(Math.max(this.c,a.c),Math.max(this.b,a.b))},lf:function(a){this.c+=a.c;this.b+=a.b;return this},Vb:function(a){return this.qa().lf(a)},Ks:function(a){this.c+=a.N;this.b+=a.M;return this},kh:function(a){return this.qa().Ks(a)},Rb:function(){return(this.b>>>
0&65535|this.c>>>0<<16)>>>0},Sr:function(a){return Math.sqrt(this.Yg(a))},Yg:function(a){return(this.c-a.c)*(this.c-a.c)+(this.b-a.b)*(this.b-a.b)},qa:function(){return new z(this.c,this.b)}};var M;M=function(a,b,c,d,e){this.e=a;this.f=b;this.s=c;this.w=d;this.Oa=e!==i?e:l};
M.prototype={h:function(){return this.s-this.e},i:function(){return this.w-this.f},hs:function(){return new z((this.e+this.s)/2,(this.f+this.w)/2)},qa:function(){return new M(this.e,this.f,this.s,this.w,this.Oa)},Qd:function(){return new z(this.e,this.f)},Ue:function(){return new z(this.s,this.w)},zr:function(a,b){var c=this.size().scale(b),d=this.Qd().Rl(a),d=(new A(d.c,d.b)).scale(b),d=a.kh(d),c=d.kh(c);return new M(d.c,d.b,c.c,c.b)},size:function(){return new A(this.h(),this.i())},Vb:function(a,
b){return new M(this.e+a,this.f+b,this.s+a,this.w+b,this.Oa)},ol:function(a){return new M(this.e-a,this.f-a,this.s+a,this.w+a,this.Oa)},Xe:function(a){return this.e===a.e&&this.f===a.f&&this.s===a.s&&this.w===a.w},normalize:function(){var a;if(this.e>this.s)a=this.s,this.s=this.e,this.e=a;if(this.f>this.w)a=this.w,this.w=this.f,this.f=a},Is:function(){var a=this.qa();a.normalize();return a}};var qb;qb=function(a){this.a=a;this.jd=l};
qb.prototype={sr:function(){var a=this;this.jd=function(){a.Yp()};window.addEventListener("resize",this.jd,p)},detach:function(){if(this.jd!==l)window.removeEventListener("resize",this.jd,p),this.jd=l},Yp:function(){this.a.R.al();this.l!==l&&this.n!==l&&this.a.mt(D.Eh(this.a.l.V,this.a.n.BestFit,this.a.n.ScaleTypeIsotropic,this.a.R.Jd()))}};var A;A=function(a,b){this.N=a;this.M=b};A.prototype={scale:function(a){return new A(this.N*a,this.M*a)}};var mb;
mb=function(a,b){this.ga=a;this.ec=b;this.Pu=0;this.ec.clear();this.zp=H.U();this.ub=l;var c=this;this.Le=window.setInterval(function(){c.Ns()},50)};
mb.prototype={close:function(){this.ec.clear();window.clearInterval(this.Le)},Ns:function(){var a=this.ec.q,b=this.ec.Jd(),c=2*Math.PI/6,d=(2*Math.PI-5*c)/5,e=250/3,f=10+e,g=2*Math.PI*(H.U()-this.zp)/6E3,j=1;a.save();if(250>b.h()||250>b.i())j=0.9*Math.min(b.h()/250,b.i()/250);a.scale(j,j);a.translate(Math.max(5,(b.h()-250)/2),Math.max(5,(b.i()-250)/2));a.strokeStyle="#a90018";a.lineWidth=4;a.strokeRect(0,0,250,250);a.fillStyle="#f4f4f4";a.fillRect(0,0,250,250);for(b=0;5>b;++b)a.save(),a.translate(125,
f),a.rotate(g+b*(c+d)),this.vo(a,c,e,"#cd001c"),a.restore();this.ub===l&&this.io(a,250);a.font=this.ub;a.textAlign="center";a.textBaseline="bottom";a.fillStyle="#000000";a.fillText(this.ga,125,2750/12);a.restore()},io:function(a,b){var c=40;for(a.font=this.oj(c);2<c&&a.measureText(this.ga).width>=0.95*b;)c-=2,a.font=this.oj(c);this.ub=a.font},oj:function(a){return"italic "+a+"px Arial"},vo:function(a,b,c,d){var e=0.9*c;a.beginPath();a.moveTo(0,-c);a.arc(0,0,c,-Math.PI/2,b-Math.PI/2,p);a.lineTo(Math.sin(b)*
e,-(Math.cos(b)*e));a.arc(0,0,e,b-Math.PI/2,-Math.PI/2,k);a.lineTo(0,-c);a.closePath();a.strokeStyle=d;a.fillStyle=a.strokeStyle;a.stroke();a.fill()}};var ab;ab=function(a){this.ec=a;this.Ic=[]};ab.prototype={clear:function(){this.Ic=[]},h:function(a){return this.Ic[a].c},i:function(a){return this.Ic[a].b},nr:function(a){a=C.nc(this.ec.getContext(),a,k);this.Ic.push(new z(a,H.Ph(this.ec)))}};var nc;nc=function(){this.Gj=this.Hj=this.Ij=this.Jj=this.Ti=this.Ui=this.Qa=l};
nc.hu=function(a){var b=new nc;b.Qa=a;return b};nc.em=function(a,b,c,d,e,f){var g=new nc;g.Gj=a;g.Hj=b;g.Ij=c;g.Jj=d;g.Ti=e;g.Ui=f;return g};nc.prototype={Te:function(a,b){this.Qa!==l?this.Fq(a,b):this.Dn(a)},Fq:function(a,b){a.translate(b.e,b.f);a.rotate(this.Qa);a.translate(-b.e,-b.f)},Dn:function(a){a.transform(this.Gj,this.Hj,this.Ij,this.Jj,this.Ti,this.Ui)}};var H;H=q();
H.Kp=function(){var a=window.performance||{};a.now=function(){return a.now||a.xw||a.Pv||a.Qv||a.Ov||function(){return(new Date).getTime()}}();return a.now()};H.Oh=function(a){var b=window.location,c;c=b.pathname.lastIndexOf("/");-1!=c&&(a=b.pathname.substr(0,c+1)+a,"/"===a[0]&&(a=a.substr(1)));return b.protocol+"//"+b.host+"/"+a};H.U=function(){return(new Date).getTime()};H.Td=function(){return 1E3*H.Kp()};H.Ph=function(a){return H.Ef(a.z().gj)};H.Ef=function(a){return 1.15*a};
H.Kf=function(a){var b=0,c=0,d=a;do b+=d.offsetLeft,c+=d.offsetTop;while((d=d.offsetParent)!==l);return new M(b,c,b+a.offsetWidth,c+a.offsetHeight)};H.Jf=function(a,b){var c;c=b instanceof M?new z(b.e,b.f):b;a.style.position="absolute";a.style.left=Math.floor(c.c)+"px";a.style.top=Math.floor(c.b)+"px";if(b instanceof M)a.style.width=Math.floor(b.h())+"px",a.style.height=Math.floor(b.i())+"px"};
H.ma=function(){var a=arguments,b,c;if(0===a.length)return"";b=a[0];for(a=1;a<arguments.length;a++)c=RegExp("\\{"+(a-1)+"\\}","gi"),b=b.replace(c,arguments[a]);return b};H.Sm=function(a){return H.ma("{0}/{1} {2}/{3}",a.e,a.f,a.s,a.w)};H.Yb=function(a){return H.ma("{0}/{1}",a.c,a.b)};H.Cu=function(a){return H.ma("{0}/{1}",a.N,a.M)};H.lm=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b};H.rc=function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};
